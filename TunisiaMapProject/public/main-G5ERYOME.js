var Em=Object.create;var Gs=Object.defineProperty,wm=Object.defineProperties,Cm=Object.getOwnPropertyDescriptor,Im=Object.getOwnPropertyDescriptors,Tm=Object.getOwnPropertyNames,jl=Object.getOwnPropertySymbols,bm=Object.getPrototypeOf,Hl=Object.prototype.hasOwnProperty,Mm=Object.prototype.propertyIsEnumerable;var Vl=(t,n,r)=>n in t?Gs(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,Me=(t,n)=>{for(var r in n||={})Hl.call(n,r)&&Vl(t,r,n[r]);if(jl)for(var r of jl(n))Mm.call(n,r)&&Vl(t,r,n[r]);return t},ct=(t,n)=>wm(t,Im(n));var zl=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var Sm=(t,n,r,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of Tm(n))!Hl.call(t,s)&&s!==r&&Gs(t,s,{get:()=>n[s],enumerable:!(i=Cm(n,s))||i.enumerable});return t};var Ws=(t,n,r)=>(r=t!=null?Em(bm(t)):{},Sm(n||!t||!t.__esModule?Gs(r,"default",{value:t,enumerable:!0}):r,t));var Ic=zl((us,$p)=>{"use strict";(function(t,n){typeof us=="object"&&typeof $p<"u"?n(us):typeof define=="function"&&define.amd?define(["exports"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.leaflet={}))})(us,function(t){"use strict";var n="1.9.4";function r(e){var o,a,l,f;for(a=1,l=arguments.length;a<l;a++){f=arguments[a];for(o in f)e[o]=f[o]}return e}var i=Object.create||(function(){function e(){}return function(o){return e.prototype=o,new e}})();function s(e,o){var a=Array.prototype.slice;if(e.bind)return e.bind.apply(e,a.call(arguments,1));var l=a.call(arguments,2);return function(){return e.apply(o,l.length?l.concat(a.call(arguments)):arguments)}}var u=0;function c(e){return"_leaflet_id"in e||(e._leaflet_id=++u),e._leaflet_id}function d(e,o,a){var l,f,g,v;return v=function(){l=!1,f&&(g.apply(a,f),f=!1)},g=function(){l?f=arguments:(e.apply(a,arguments),setTimeout(v,o),l=!0)},g}function h(e,o,a){var l=o[1],f=o[0],g=l-f;return e===l&&a?e:((e-f)%g+g)%g+f}function p(){return!1}function m(e,o){if(o===!1)return e;var a=Math.pow(10,o===void 0?6:o);return Math.round(e*a)/a}function _(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function E(e){return _(e).split(/\s+/)}function y(e,o){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?i(e.options):{});for(var a in o)e.options[a]=o[a];return e.options}function S(e,o,a){var l=[];for(var f in e)l.push(encodeURIComponent(a?f.toUpperCase():f)+"="+encodeURIComponent(e[f]));return(!o||o.indexOf("?")===-1?"?":"&")+l.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function b(e,o){return e.replace(I,function(a,l){var f=o[l];if(f===void 0)throw new Error("No value provided for variable "+a);return typeof f=="function"&&(f=f(o)),f})}var T=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function ie(e,o){for(var a=0;a<e.length;a++)if(e[a]===o)return a;return-1}var ue="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function oe(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var rt=0;function it(e){var o=+new Date,a=Math.max(0,16-(o-rt));return rt=o+a,window.setTimeout(e,a)}var or=window.requestAnimationFrame||oe("RequestAnimationFrame")||it,Mc=window.cancelAnimationFrame||oe("CancelAnimationFrame")||oe("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function Ce(e,o,a){if(a&&or===it)e.call(o);else return or.call(window,s(e,o))}function je(e){e&&Mc.call(window,e)}var Yp={__proto__:null,extend:r,create:i,bind:s,get lastId(){return u},stamp:c,throttle:d,wrapNum:h,falseFn:p,formatNum:m,trim:_,splitWords:E,setOptions:y,getParamString:S,template:b,isArray:T,indexOf:ie,emptyImageUrl:ue,requestFn:or,cancelFn:Mc,requestAnimFrame:Ce,cancelAnimFrame:je};function _t(){}_t.extend=function(e){var o=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=o.__super__=this.prototype,l=i(a);l.constructor=o,o.prototype=l;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(o[f]=this[f]);return e.statics&&r(o,e.statics),e.includes&&(Kp(e.includes),r.apply(null,[l].concat(e.includes))),r(l,e),delete l.statics,delete l.includes,l.options&&(l.options=a.options?i(a.options):{},r(l.options,e.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var g=0,v=l._initHooks.length;g<v;g++)l._initHooks[g].call(this)}},o},_t.include=function(e){var o=this.prototype.options;return r(this.prototype,e),e.options&&(this.prototype.options=o,this.mergeOptions(e.options)),this},_t.mergeOptions=function(e){return r(this.prototype.options,e),this},_t.addInitHook=function(e){var o=Array.prototype.slice.call(arguments,1),a=typeof e=="function"?e:function(){this[e].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function Kp(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=T(e)?e:[e];for(var o=0;o<e.length;o++)e[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Oe={on:function(e,o,a){if(typeof e=="object")for(var l in e)this._on(l,e[l],o);else{e=E(e);for(var f=0,g=e.length;f<g;f++)this._on(e[f],o,a)}return this},off:function(e,o,a){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var l in e)this._off(l,e[l],o);else{e=E(e);for(var f=arguments.length===1,g=0,v=e.length;g<v;g++)f?this._off(e[g]):this._off(e[g],o,a)}return this},_on:function(e,o,a,l){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(e,o,a)===!1){a===this&&(a=void 0);var f={fn:o,ctx:a};l&&(f.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(f)}},_off:function(e,o,a){var l,f,g;if(this._events&&(l=this._events[e],!!l)){if(arguments.length===1){if(this._firingCount)for(f=0,g=l.length;f<g;f++)l[f].fn=p;delete this._events[e];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var v=this._listens(e,o,a);if(v!==!1){var D=l[v];this._firingCount&&(D.fn=p,this._events[e]=l=l.slice()),l.splice(v,1)}}},fire:function(e,o,a){if(!this.listens(e,a))return this;var l=r({},o,{type:e,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var f=this._events[e];if(f){this._firingCount=this._firingCount+1||1;for(var g=0,v=f.length;g<v;g++){var D=f[g],w=D.fn;D.once&&this.off(e,w,D.ctx),w.call(D.ctx||this,l)}this._firingCount--}}return a&&this._propagateEvent(l),this},listens:function(e,o,a,l){typeof e!="string"&&console.warn('"string" type argument expected');var f=o;typeof o!="function"&&(l=!!o,f=void 0,a=void 0);var g=this._events&&this._events[e];if(g&&g.length&&this._listens(e,f,a)!==!1)return!0;if(l){for(var v in this._eventParents)if(this._eventParents[v].listens(e,o,a,l))return!0}return!1},_listens:function(e,o,a){if(!this._events)return!1;var l=this._events[e]||[];if(!o)return!!l.length;a===this&&(a=void 0);for(var f=0,g=l.length;f<g;f++)if(l[f].fn===o&&l[f].ctx===a)return f;return!1},once:function(e,o,a){if(typeof e=="object")for(var l in e)this._on(l,e[l],o,!0);else{e=E(e);for(var f=0,g=e.length;f<g;f++)this._on(e[f],o,a,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[c(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[c(e)],this},_propagateEvent:function(e){for(var o in this._eventParents)this._eventParents[o].fire(e.type,r({layer:e.target,propagatedFrom:e.target},e),!0)}};Oe.addEventListener=Oe.on,Oe.removeEventListener=Oe.clearAllEventListeners=Oe.off,Oe.addOneTimeEventListener=Oe.once,Oe.fireEvent=Oe.fire,Oe.hasEventListeners=Oe.listens;var sr=_t.extend(Oe);function F(e,o,a){this.x=a?Math.round(e):e,this.y=a?Math.round(o):o}var Sc=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(e){return this.clone()._add(O(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(O(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new F(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new F(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Sc(this.x),this.y=Sc(this.y),this},distanceTo:function(e){e=O(e);var o=e.x-this.x,a=e.y-this.y;return Math.sqrt(o*o+a*a)},equals:function(e){return e=O(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=O(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function O(e,o,a){return e instanceof F?e:T(e)?new F(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new F(e.x,e.y):new F(e,o,a)}function te(e,o){if(e)for(var a=o?[e,o]:e,l=0,f=a.length;l<f;l++)this.extend(a[l])}te.prototype={extend:function(e){var o,a;if(!e)return this;if(e instanceof F||typeof e[0]=="number"||"x"in e)o=a=O(e);else if(e=Ie(e),o=e.min,a=e.max,!o||!a)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=a.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(e){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var o,a;return typeof e[0]=="number"||e instanceof F?e=O(e):e=Ie(e),e instanceof te?(o=e.min,a=e.max):o=a=e,o.x>=this.min.x&&a.x<=this.max.x&&o.y>=this.min.y&&a.y<=this.max.y},intersects:function(e){e=Ie(e);var o=this.min,a=this.max,l=e.min,f=e.max,g=f.x>=o.x&&l.x<=a.x,v=f.y>=o.y&&l.y<=a.y;return g&&v},overlaps:function(e){e=Ie(e);var o=this.min,a=this.max,l=e.min,f=e.max,g=f.x>o.x&&l.x<a.x,v=f.y>o.y&&l.y<a.y;return g&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var o=this.min,a=this.max,l=Math.abs(o.x-a.x)*e,f=Math.abs(o.y-a.y)*e;return Ie(O(o.x-l,o.y-f),O(a.x+l,a.y+f))},equals:function(e){return e?(e=Ie(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Ie(e,o){return!e||e instanceof te?e:new te(e,o)}function Te(e,o){if(e)for(var a=o?[e,o]:e,l=0,f=a.length;l<f;l++)this.extend(a[l])}Te.prototype={extend:function(e){var o=this._southWest,a=this._northEast,l,f;if(e instanceof K)l=e,f=e;else if(e instanceof Te){if(l=e._southWest,f=e._northEast,!l||!f)return this}else return e?this.extend(Z(e)||ce(e)):this;return!o&&!a?(this._southWest=new K(l.lat,l.lng),this._northEast=new K(f.lat,f.lng)):(o.lat=Math.min(l.lat,o.lat),o.lng=Math.min(l.lng,o.lng),a.lat=Math.max(f.lat,a.lat),a.lng=Math.max(f.lng,a.lng)),this},pad:function(e){var o=this._southWest,a=this._northEast,l=Math.abs(o.lat-a.lat)*e,f=Math.abs(o.lng-a.lng)*e;return new Te(new K(o.lat-l,o.lng-f),new K(a.lat+l,a.lng+f))},getCenter:function(){return new K((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new K(this.getNorth(),this.getWest())},getSouthEast:function(){return new K(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof K||"lat"in e?e=Z(e):e=ce(e);var o=this._southWest,a=this._northEast,l,f;return e instanceof Te?(l=e.getSouthWest(),f=e.getNorthEast()):l=f=e,l.lat>=o.lat&&f.lat<=a.lat&&l.lng>=o.lng&&f.lng<=a.lng},intersects:function(e){e=ce(e);var o=this._southWest,a=this._northEast,l=e.getSouthWest(),f=e.getNorthEast(),g=f.lat>=o.lat&&l.lat<=a.lat,v=f.lng>=o.lng&&l.lng<=a.lng;return g&&v},overlaps:function(e){e=ce(e);var o=this._southWest,a=this._northEast,l=e.getSouthWest(),f=e.getNorthEast(),g=f.lat>o.lat&&l.lat<a.lat,v=f.lng>o.lng&&l.lng<a.lng;return g&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,o){return e?(e=ce(e),this._southWest.equals(e.getSouthWest(),o)&&this._northEast.equals(e.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(e,o){return e instanceof Te?e:new Te(e,o)}function K(e,o,a){if(isNaN(e)||isNaN(o))throw new Error("Invalid LatLng object: ("+e+", "+o+")");this.lat=+e,this.lng=+o,a!==void 0&&(this.alt=+a)}K.prototype={equals:function(e,o){if(!e)return!1;e=Z(e);var a=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return a<=(o===void 0?1e-9:o)},toString:function(e){return"LatLng("+m(this.lat,e)+", "+m(this.lng,e)+")"},distanceTo:function(e){return xt.distance(this,Z(e))},wrap:function(){return xt.wrapLatLng(this)},toBounds:function(e){var o=180*e/40075017,a=o/Math.cos(Math.PI/180*this.lat);return ce([this.lat-o,this.lng-a],[this.lat+o,this.lng+a])},clone:function(){return new K(this.lat,this.lng,this.alt)}};function Z(e,o,a){return e instanceof K?e:T(e)&&typeof e[0]!="object"?e.length===3?new K(e[0],e[1],e[2]):e.length===2?new K(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new K(e.lat,"lng"in e?e.lng:e.lon,e.alt):o===void 0?null:new K(e,o,a)}var vt={latLngToPoint:function(e,o){var a=this.projection.project(e),l=this.scale(o);return this.transformation._transform(a,l)},pointToLatLng:function(e,o){var a=this.scale(o),l=this.transformation.untransform(e,a);return this.projection.unproject(l)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var o=this.projection.bounds,a=this.scale(e),l=this.transformation.transform(o.min,a),f=this.transformation.transform(o.max,a);return new te(l,f)},infinite:!1,wrapLatLng:function(e){var o=this.wrapLng?h(e.lng,this.wrapLng,!0):e.lng,a=this.wrapLat?h(e.lat,this.wrapLat,!0):e.lat,l=e.alt;return new K(a,o,l)},wrapLatLngBounds:function(e){var o=e.getCenter(),a=this.wrapLatLng(o),l=o.lat-a.lat,f=o.lng-a.lng;if(l===0&&f===0)return e;var g=e.getSouthWest(),v=e.getNorthEast(),D=new K(g.lat-l,g.lng-f),w=new K(v.lat-l,v.lng-f);return new Te(D,w)}},xt=r({},vt,{wrapLng:[-180,180],R:6371e3,distance:function(e,o){var a=Math.PI/180,l=e.lat*a,f=o.lat*a,g=Math.sin((o.lat-e.lat)*a/2),v=Math.sin((o.lng-e.lng)*a/2),D=g*g+Math.cos(l)*Math.cos(f)*v*v,w=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*w}}),xc=6378137,fs={R:xc,MAX_LATITUDE:85.0511287798,project:function(e){var o=Math.PI/180,a=this.MAX_LATITUDE,l=Math.max(Math.min(a,e.lat),-a),f=Math.sin(l*o);return new F(this.R*e.lng*o,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(e){var o=180/Math.PI;return new K((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*o,e.x*o/this.R)},bounds:(function(){var e=xc*Math.PI;return new te([-e,-e],[e,e])})()};function hs(e,o,a,l){if(T(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=o,this._c=a,this._d=l}hs.prototype={transform:function(e,o){return this._transform(e.clone(),o)},_transform:function(e,o){return o=o||1,e.x=o*(this._a*e.x+this._b),e.y=o*(this._c*e.y+this._d),e},untransform:function(e,o){return o=o||1,new F((e.x/o-this._b)/this._a,(e.y/o-this._d)/this._c)}};function ar(e,o,a,l){return new hs(e,o,a,l)}var ps=r({},xt,{code:"EPSG:3857",projection:fs,transformation:(function(){var e=.5/(Math.PI*fs.R);return ar(e,.5,-e,.5)})()}),Qp=r({},ps,{code:"EPSG:900913"});function Nc(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Lc(e,o){var a="",l,f,g,v,D,w;for(l=0,g=e.length;l<g;l++){for(D=e[l],f=0,v=D.length;f<v;f++)w=D[f],a+=(f?"L":"M")+w.x+" "+w.y;a+=o?x.svg?"z":"x":""}return a||"M0 0"}var gs=document.documentElement.style,gi="ActiveXObject"in window,Jp=gi&&!document.addEventListener,Ac="msLaunchUri"in navigator&&!("documentMode"in document),ms=ot("webkit"),Pc=ot("android"),Oc=ot("android 2")||ot("android 3"),Xp=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),eg=Pc&&ot("Google")&&Xp<537&&!("AudioNode"in window),_s=!!window.opera,Rc=!Ac&&ot("chrome"),kc=ot("gecko")&&!ms&&!_s&&!gi,tg=!Rc&&ot("safari"),Fc=ot("phantom"),Bc="OTransition"in gs,ng=navigator.platform.indexOf("Win")===0,jc=gi&&"transition"in gs,vs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Oc,Vc="MozPerspective"in gs,rg=!window.L_DISABLE_3D&&(jc||vs||Vc)&&!Bc&&!Fc,ur=typeof orientation<"u"||ot("mobile"),ig=ur&&ms,og=ur&&vs,Hc=!window.PointerEvent&&window.MSPointerEvent,zc=!!(window.PointerEvent||Hc),Uc="ontouchstart"in window||!!window.TouchEvent,sg=!window.L_NO_TOUCH&&(Uc||zc),ag=ur&&_s,ug=ur&&kc,cg=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,lg=(function(){var e=!1;try{var o=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",p,o),window.removeEventListener("testPassiveEventSupport",p,o)}catch{}return e})(),dg=(function(){return!!document.createElement("canvas").getContext})(),ys=!!(document.createElementNS&&Nc("svg").createSVGRect),fg=!!ys&&(function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),hg=!ys&&(function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var o=e.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}})(),pg=navigator.platform.indexOf("Mac")===0,gg=navigator.platform.indexOf("Linux")===0;function ot(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var x={ie:gi,ielt9:Jp,edge:Ac,webkit:ms,android:Pc,android23:Oc,androidStock:eg,opera:_s,chrome:Rc,gecko:kc,safari:tg,phantom:Fc,opera12:Bc,win:ng,ie3d:jc,webkit3d:vs,gecko3d:Vc,any3d:rg,mobile:ur,mobileWebkit:ig,mobileWebkit3d:og,msPointer:Hc,pointer:zc,touch:sg,touchNative:Uc,mobileOpera:ag,mobileGecko:ug,retina:cg,passiveEvents:lg,canvas:dg,svg:ys,vml:hg,inlineSvg:fg,mac:pg,linux:gg},$c=x.msPointer?"MSPointerDown":"pointerdown",Zc=x.msPointer?"MSPointerMove":"pointermove",Gc=x.msPointer?"MSPointerUp":"pointerup",Wc=x.msPointer?"MSPointerCancel":"pointercancel",Ds={touchstart:$c,touchmove:Zc,touchend:Gc,touchcancel:Wc},qc={touchstart:Eg,touchmove:mi,touchend:mi,touchcancel:mi},Tn={},Yc=!1;function mg(e,o,a){return o==="touchstart"&&Dg(),qc[o]?(a=qc[o].bind(this,a),e.addEventListener(Ds[o],a,!1),a):(console.warn("wrong event specified:",o),p)}function _g(e,o,a){if(!Ds[o]){console.warn("wrong event specified:",o);return}e.removeEventListener(Ds[o],a,!1)}function vg(e){Tn[e.pointerId]=e}function yg(e){Tn[e.pointerId]&&(Tn[e.pointerId]=e)}function Kc(e){delete Tn[e.pointerId]}function Dg(){Yc||(document.addEventListener($c,vg,!0),document.addEventListener(Zc,yg,!0),document.addEventListener(Gc,Kc,!0),document.addEventListener(Wc,Kc,!0),Yc=!0)}function mi(e,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var a in Tn)o.touches.push(Tn[a]);o.changedTouches=[o],e(o)}}function Eg(e,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&he(o),mi(e,o)}function wg(e){var o={},a,l;for(l in e)a=e[l],o[l]=a&&a.bind?a.bind(e):a;return e=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Cg=200;function Ig(e,o){e.addEventListener("dblclick",o);var a=0,l;function f(g){if(g.detail!==1){l=g.detail;return}if(!(g.pointerType==="mouse"||g.sourceCapabilities&&!g.sourceCapabilities.firesTouchEvents)){var v=tl(g);if(!(v.some(function(w){return w instanceof HTMLLabelElement&&w.attributes.for})&&!v.some(function(w){return w instanceof HTMLInputElement||w instanceof HTMLSelectElement}))){var D=Date.now();D-a<=Cg?(l++,l===2&&o(wg(g))):l=1,a=D}}}return e.addEventListener("click",f),{dblclick:o,simDblclick:f}}function Tg(e,o){e.removeEventListener("dblclick",o.dblclick),e.removeEventListener("click",o.simDblclick)}var Es=yi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),cr=yi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qc=cr==="webkitTransition"||cr==="OTransition"?cr+"End":"transitionend";function Jc(e){return typeof e=="string"?document.getElementById(e):e}function lr(e,o){var a=e.style[o]||e.currentStyle&&e.currentStyle[o];if((!a||a==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(e,null);a=l?l[o]:null}return a==="auto"?null:a}function W(e,o,a){var l=document.createElement(e);return l.className=o||"",a&&a.appendChild(l),l}function ne(e){var o=e.parentNode;o&&o.removeChild(e)}function _i(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function bn(e){var o=e.parentNode;o&&o.lastChild!==e&&o.appendChild(e)}function Mn(e){var o=e.parentNode;o&&o.firstChild!==e&&o.insertBefore(e,o.firstChild)}function ws(e,o){if(e.classList!==void 0)return e.classList.contains(o);var a=vi(e);return a.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(a)}function j(e,o){if(e.classList!==void 0)for(var a=E(o),l=0,f=a.length;l<f;l++)e.classList.add(a[l]);else if(!ws(e,o)){var g=vi(e);Cs(e,(g?g+" ":"")+o)}}function ae(e,o){e.classList!==void 0?e.classList.remove(o):Cs(e,_((" "+vi(e)+" ").replace(" "+o+" "," ")))}function Cs(e,o){e.className.baseVal===void 0?e.className=o:e.className.baseVal=o}function vi(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Ve(e,o){"opacity"in e.style?e.style.opacity=o:"filter"in e.style&&bg(e,o)}function bg(e,o){var a=!1,l="DXImageTransform.Microsoft.Alpha";try{a=e.filters.item(l)}catch{if(o===1)return}o=Math.round(o*100),a?(a.Enabled=o!==100,a.Opacity=o):e.style.filter+=" progid:"+l+"(opacity="+o+")"}function yi(e){for(var o=document.documentElement.style,a=0;a<e.length;a++)if(e[a]in o)return e[a];return!1}function zt(e,o,a){var l=o||new F(0,0);e.style[Es]=(x.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(a?" scale("+a+")":"")}function le(e,o){e._leaflet_pos=o,x.any3d?zt(e,o):(e.style.left=o.x+"px",e.style.top=o.y+"px")}function Ut(e){return e._leaflet_pos||new F(0,0)}var dr,fr,Is;if("onselectstart"in document)dr=function(){B(window,"selectstart",he)},fr=function(){X(window,"selectstart",he)};else{var hr=yi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);dr=function(){if(hr){var e=document.documentElement.style;Is=e[hr],e[hr]="none"}},fr=function(){hr&&(document.documentElement.style[hr]=Is,Is=void 0)}}function Ts(){B(window,"dragstart",he)}function bs(){X(window,"dragstart",he)}var Di,Ms;function Ss(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Ei(),Di=e,Ms=e.style.outlineStyle,e.style.outlineStyle="none",B(window,"keydown",Ei))}function Ei(){Di&&(Di.style.outlineStyle=Ms,Di=void 0,Ms=void 0,X(window,"keydown",Ei))}function Xc(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function xs(e){var o=e.getBoundingClientRect();return{x:o.width/e.offsetWidth||1,y:o.height/e.offsetHeight||1,boundingClientRect:o}}var Mg={__proto__:null,TRANSFORM:Es,TRANSITION:cr,TRANSITION_END:Qc,get:Jc,getStyle:lr,create:W,remove:ne,empty:_i,toFront:bn,toBack:Mn,hasClass:ws,addClass:j,removeClass:ae,setClass:Cs,getClass:vi,setOpacity:Ve,testProp:yi,setTransform:zt,setPosition:le,getPosition:Ut,get disableTextSelection(){return dr},get enableTextSelection(){return fr},disableImageDrag:Ts,enableImageDrag:bs,preventOutline:Ss,restoreOutline:Ei,getSizedParentNode:Xc,getScale:xs};function B(e,o,a,l){if(o&&typeof o=="object")for(var f in o)Ls(e,f,o[f],a);else{o=E(o);for(var g=0,v=o.length;g<v;g++)Ls(e,o[g],a,l)}return this}var st="_leaflet_events";function X(e,o,a,l){if(arguments.length===1)el(e),delete e[st];else if(o&&typeof o=="object")for(var f in o)As(e,f,o[f],a);else if(o=E(o),arguments.length===2)el(e,function(D){return ie(o,D)!==-1});else for(var g=0,v=o.length;g<v;g++)As(e,o[g],a,l);return this}function el(e,o){for(var a in e[st]){var l=a.split(/\d/)[0];(!o||o(l))&&As(e,l,null,null,a)}}var Ns={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ls(e,o,a,l){var f=o+c(a)+(l?"_"+c(l):"");if(e[st]&&e[st][f])return this;var g=function(D){return a.call(l||e,D||window.event)},v=g;!x.touchNative&&x.pointer&&o.indexOf("touch")===0?g=mg(e,o,g):x.touch&&o==="dblclick"?g=Ig(e,g):"addEventListener"in e?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?e.addEventListener(Ns[o]||o,g,x.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(g=function(D){D=D||window.event,Os(e,D)&&v(D)},e.addEventListener(Ns[o],g,!1)):e.addEventListener(o,v,!1):e.attachEvent("on"+o,g),e[st]=e[st]||{},e[st][f]=g}function As(e,o,a,l,f){f=f||o+c(a)+(l?"_"+c(l):"");var g=e[st]&&e[st][f];if(!g)return this;!x.touchNative&&x.pointer&&o.indexOf("touch")===0?_g(e,o,g):x.touch&&o==="dblclick"?Tg(e,g):"removeEventListener"in e?e.removeEventListener(Ns[o]||o,g,!1):e.detachEvent("on"+o,g),e[st][f]=null}function $t(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Ps(e){return Ls(e,"wheel",$t),this}function pr(e){return B(e,"mousedown touchstart dblclick contextmenu",$t),e._leaflet_disable_click=!0,this}function he(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Zt(e){return he(e),$t(e),this}function tl(e){if(e.composedPath)return e.composedPath();for(var o=[],a=e.target;a;)o.push(a),a=a.parentNode;return o}function nl(e,o){if(!o)return new F(e.clientX,e.clientY);var a=xs(o),l=a.boundingClientRect;return new F((e.clientX-l.left)/a.x-o.clientLeft,(e.clientY-l.top)/a.y-o.clientTop)}var Sg=x.linux&&x.chrome?window.devicePixelRatio:x.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rl(e){return x.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Sg:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Os(e,o){var a=o.relatedTarget;if(!a)return!0;try{for(;a&&a!==e;)a=a.parentNode}catch{return!1}return a!==e}var xg={__proto__:null,on:B,off:X,stopPropagation:$t,disableScrollPropagation:Ps,disableClickPropagation:pr,preventDefault:he,stop:Zt,getPropagationPath:tl,getMousePosition:nl,getWheelDelta:rl,isExternalTarget:Os,addListener:B,removeListener:X},il=sr.extend({run:function(e,o,a,l){this.stop(),this._el=e,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=Ut(e),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ce(this._animate,this),this._step()},_step:function(e){var o=+new Date-this._startTime,a=this._duration*1e3;o<a?this._runFrame(this._easeOut(o/a),e):(this._runFrame(1),this._complete())},_runFrame:function(e,o){var a=this._startPos.add(this._offset.multiplyBy(e));o&&a._round(),le(this._el,a),this.fire("step")},_complete:function(){je(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),G=sr.extend({options:{crs:ps,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,o){o=y(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(Z(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=cr&&x.any3d&&!x.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),B(this._proxy,Qc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,o,a){if(o=o===void 0?this._zoom:this._limitZoom(o),e=this._limitCenter(Z(e),o,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=r({animate:a.animate},a.zoom),a.pan=r({animate:a.animate,duration:a.duration},a.pan));var l=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,o,a.zoom):this._tryAnimatedPan(e,a.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(e,o,a.pan&&a.pan.noMoveStart),this},setZoom:function(e,o){return this._loaded?this.setView(this.getCenter(),e,{zoom:o}):(this._zoom=e,this)},zoomIn:function(e,o){return e=e||(x.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,o)},zoomOut:function(e,o){return e=e||(x.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,o)},setZoomAround:function(e,o,a){var l=this.getZoomScale(o),f=this.getSize().divideBy(2),g=e instanceof F?e:this.latLngToContainerPoint(e),v=g.subtract(f).multiplyBy(1-1/l),D=this.containerPointToLatLng(f.add(v));return this.setView(D,o,{zoom:a})},_getBoundsCenterZoom:function(e,o){o=o||{},e=e.getBounds?e.getBounds():ce(e);var a=O(o.paddingTopLeft||o.padding||[0,0]),l=O(o.paddingBottomRight||o.padding||[0,0]),f=this.getBoundsZoom(e,!1,a.add(l));if(f=typeof o.maxZoom=="number"?Math.min(o.maxZoom,f):f,f===1/0)return{center:e.getCenter(),zoom:f};var g=l.subtract(a).divideBy(2),v=this.project(e.getSouthWest(),f),D=this.project(e.getNorthEast(),f),w=this.unproject(v.add(D).divideBy(2).add(g),f);return{center:w,zoom:f}},fitBounds:function(e,o){if(e=ce(e),!e.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(e,o);return this.setView(a.center,a.zoom,o)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,o){return this.setView(e,this._zoom,{pan:o})},panBy:function(e,o){if(e=O(e).round(),o=o||{},!e.x&&!e.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new il,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){j(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,a,o.duration||.25,o.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,o,a){if(a=a||{},a.animate===!1||!x.any3d)return this.setView(e,o,a);this._stop();var l=this.project(this.getCenter()),f=this.project(e),g=this.getSize(),v=this._zoom;e=Z(e),o=o===void 0?v:o;var D=Math.max(g.x,g.y),w=D*this.getZoomScale(v,o),C=f.distanceTo(l)||1,M=1.42,A=M*M;function H(de){var Pi=de?-1:1,_m=de?w:D,vm=w*w-D*D+Pi*A*A*C*C,ym=2*_m*A*C,Zs=vm/ym,Bl=Math.sqrt(Zs*Zs+1)-Zs,Dm=Bl<1e-9?-18:Math.log(Bl);return Dm}function ye(de){return(Math.exp(de)-Math.exp(-de))/2}function fe(de){return(Math.exp(de)+Math.exp(-de))/2}function ze(de){return ye(de)/fe(de)}var be=H(0);function Pn(de){return D*(fe(be)/fe(be+M*de))}function hm(de){return D*(fe(be)*ze(be+M*de)-ye(be))/A}function pm(de){return 1-Math.pow(1-de,1.5)}var gm=Date.now(),kl=(H(1)-be)/M,mm=a.duration?1e3*a.duration:1e3*kl*.8;function Fl(){var de=(Date.now()-gm)/mm,Pi=pm(de)*kl;de<=1?(this._flyToFrame=Ce(Fl,this),this._move(this.unproject(l.add(f.subtract(l).multiplyBy(hm(Pi)/C)),v),this.getScaleZoom(D/Pn(Pi),v),{flyTo:!0})):this._move(e,o)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),Fl.call(this),this},flyToBounds:function(e,o){var a=this._getBoundsCenterZoom(e,o);return this.flyTo(a.center,a.zoom,o)},setMaxBounds:function(e){return e=ce(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var o=this.options.minZoom;return this.options.minZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var o=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,o){this._enforcingBounds=!0;var a=this.getCenter(),l=this._limitCenter(a,this._zoom,ce(e));return a.equals(l)||this.panTo(l,o),this._enforcingBounds=!1,this},panInside:function(e,o){o=o||{};var a=O(o.paddingTopLeft||o.padding||[0,0]),l=O(o.paddingBottomRight||o.padding||[0,0]),f=this.project(this.getCenter()),g=this.project(e),v=this.getPixelBounds(),D=Ie([v.min.add(a),v.max.subtract(l)]),w=D.getSize();if(!D.contains(g)){this._enforcingBounds=!0;var C=g.subtract(D.getCenter()),M=D.extend(g).getSize().subtract(w);f.x+=C.x<0?-M.x:M.x,f.y+=C.y<0?-M.y:M.y,this.panTo(this.unproject(f),o),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=r({animate:!1,pan:!0},e===!0?{animate:!0}:e);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),l=o.divideBy(2).round(),f=a.divideBy(2).round(),g=l.subtract(f);return!g.x&&!g.y?this:(e.animate&&e.pan?this.panBy(g):(e.pan&&this._rawPanBy(g),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=r({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=s(this._handleGeolocationResponse,this),a=s(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,a,e):navigator.geolocation.getCurrentPosition(o,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var o=e.code,a=e.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var o=e.coords.latitude,a=e.coords.longitude,l=new K(o,a),f=l.toBounds(e.coords.accuracy*2),g=this._locateOptions;if(g.setView){var v=this.getBoundsZoom(f);this.setView(l,g.maxZoom?Math.min(v,g.maxZoom):v)}var D={latlng:l,bounds:f,timestamp:e.timestamp};for(var w in e.coords)typeof e.coords[w]=="number"&&(D[w]=e.coords[w]);this.fire("locationfound",D)}},addHandler:function(e,o){if(!o)return this;var a=this[e]=new o(this);return this._handlers.push(a),this.options[e]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(je(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)ne(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,o){var a="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),l=W("div",a,o||this._mapPane);return e&&(this._panes[e]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),o=this.unproject(e.getBottomLeft()),a=this.unproject(e.getTopRight());return new Te(o,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,o,a){e=ce(e),a=O(a||[0,0]);var l=this.getZoom()||0,f=this.getMinZoom(),g=this.getMaxZoom(),v=e.getNorthWest(),D=e.getSouthEast(),w=this.getSize().subtract(a),C=Ie(this.project(D,l),this.project(v,l)).getSize(),M=x.any3d?this.options.zoomSnap:1,A=w.x/C.x,H=w.y/C.y,ye=o?Math.max(A,H):Math.min(A,H);return l=this.getScaleZoom(ye,l),M&&(l=Math.round(l/(M/100))*(M/100),l=o?Math.ceil(l/M)*M:Math.floor(l/M)*M),Math.max(f,Math.min(g,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,o){var a=this._getTopLeftPoint(e,o);return new te(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,o){var a=this.options.crs;return o=o===void 0?this._zoom:o,a.scale(e)/a.scale(o)},getScaleZoom:function(e,o){var a=this.options.crs;o=o===void 0?this._zoom:o;var l=a.zoom(e*a.scale(o));return isNaN(l)?1/0:l},project:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(Z(e),o)},unproject:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(O(e),o)},layerPointToLatLng:function(e){var o=O(e).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(e){var o=this.project(Z(e))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(Z(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ce(e))},distance:function(e,o){return this.options.crs.distance(Z(e),Z(o))},containerPointToLayerPoint:function(e){return O(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return O(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var o=this.containerPointToLayerPoint(O(e));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Z(e)))},mouseEventToContainerPoint:function(e){return nl(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var o=this._container=Jc(e);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");B(o,"scroll",this._onScroll,this),this._containerId=c(o)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&x.any3d,j(e,"leaflet-container"+(x.touch?" leaflet-touch":"")+(x.retina?" leaflet-retina":"")+(x.ielt9?" leaflet-oldie":"")+(x.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=lr(e,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),le(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(j(e.markerPane,"leaflet-zoom-hide"),j(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,o,a){le(this._mapPane,new F(0,0));var l=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var f=this._zoom!==o;this._moveStart(f,a)._move(e,o)._moveEnd(f),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(e,o){return e&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(e,o,a,l){o===void 0&&(o=this._zoom);var f=this._zoom!==o;return this._zoom=o,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),l?a&&a.pinch&&this.fire("zoom",a):((f||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return je(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){le(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[c(this._container)]=this;var o=e?X:B;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),x.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){je(this._resizeRequest),this._resizeRequest=Ce(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,o){for(var a=[],l,f=o==="mouseout"||o==="mouseover",g=e.target||e.srcElement,v=!1;g;){if(l=this._targets[c(g)],l&&(o==="click"||o==="preclick")&&this._draggableMoved(l)){v=!0;break}if(l&&l.listens(o,!0)&&(f&&!Os(g,e)||(a.push(l),f))||g===this._container)break;g=g.parentNode}return!a.length&&!v&&!f&&this.listens(o,!0)&&(a=[this]),a},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var o=e.target||e.srcElement;if(!(!this._loaded||o._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(o))){var a=e.type;a==="mousedown"&&Ss(o),this._fireDOMEvent(e,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,o,a){if(e.type==="click"){var l=r({},e);l.type="preclick",this._fireDOMEvent(l,l.type,a)}var f=this._findEventTargets(e,o);if(a){for(var g=[],v=0;v<a.length;v++)a[v].listens(o,!0)&&g.push(a[v]);f=g.concat(f)}if(f.length){o==="contextmenu"&&he(e);var D=f[0],w={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var C=D.getLatLng&&(!D._radius||D._radius<=10);w.containerPoint=C?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(e),w.layerPoint=this.containerPointToLayerPoint(w.containerPoint),w.latlng=C?D.getLatLng():this.layerPointToLatLng(w.layerPoint)}for(v=0;v<f.length;v++)if(f[v].fire(o,w,!0),w.originalEvent._stopped||f[v].options.bubblingMouseEvents===!1&&ie(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,o=this._handlers.length;e<o;e++)this._handlers[e].disable()},whenReady:function(e,o){return this._loaded?e.call(o||this,{target:this}):this.on("load",e,o),this},_getMapPanePos:function(){return Ut(this._mapPane)||new F(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,o){var a=e&&o!==void 0?this._getNewPixelOrigin(e,o):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,o){var a=this.getSize()._divideBy(2);return this.project(e,o)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,o,a){var l=this._getNewPixelOrigin(a,o);return this.project(e,o)._subtract(l)},_latLngBoundsToNewLayerBounds:function(e,o,a){var l=this._getNewPixelOrigin(a,o);return Ie([this.project(e.getSouthWest(),o)._subtract(l),this.project(e.getNorthWest(),o)._subtract(l),this.project(e.getSouthEast(),o)._subtract(l),this.project(e.getNorthEast(),o)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,o,a){if(!a)return e;var l=this.project(e,o),f=this.getSize().divideBy(2),g=new te(l.subtract(f),l.add(f)),v=this._getBoundsOffset(g,a,o);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?e:this.unproject(l.add(v),o)},_limitOffset:function(e,o){if(!o)return e;var a=this.getPixelBounds(),l=new te(a.min.add(e),a.max.add(e));return e.add(this._getBoundsOffset(l,o))},_getBoundsOffset:function(e,o,a){var l=Ie(this.project(o.getNorthEast(),a),this.project(o.getSouthWest(),a)),f=l.min.subtract(e.min),g=l.max.subtract(e.max),v=this._rebound(f.x,-g.x),D=this._rebound(f.y,-g.y);return new F(v,D)},_rebound:function(e,o){return e+o>0?Math.round(e-o)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(o))},_limitZoom:function(e){var o=this.getMinZoom(),a=this.getMaxZoom(),l=x.any3d?this.options.zoomSnap:1;return l&&(e=Math.round(e/l)*l),Math.max(o,Math.min(a,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ae(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,o){var a=this._getCenterOffset(e)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,o),!0)},_createAnimProxy:function(){var e=this._proxy=W("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(o){var a=Es,l=this._proxy.style[a];zt(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),l===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),o=this.getZoom();zt(this._proxy,this.project(e,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,o,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(o),f=this._getCenterOffset(e)._divideBy(1-1/l);return a.animate!==!0&&!this.getSize().contains(f)?!1:(Ce(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(e,o,!0)},this),!0)},_animateZoom:function(e,o,a,l){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=o,j(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:o,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ae(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ng(e,o){return new G(e,o)}var qe=_t.extend({options:{position:"topright"},initialize:function(e){y(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var o=this._map;return o&&o.removeControl(this),this.options.position=e,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var o=this._container=this.onAdd(e),a=this.getPosition(),l=e._controlCorners[a];return j(o,"leaflet-control"),a.indexOf("bottom")!==-1?l.insertBefore(o,l.firstChild):l.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),gr=function(e){return new qe(e)};G.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},o="leaflet-",a=this._controlContainer=W("div",o+"control-container",this._container);function l(f,g){var v=o+f+" "+o+g;e[f+g]=W("div",v,a)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ne(this._controlCorners[e]);ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ol=qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,o,a,l){return a<l?-1:l<a?1:0}},initialize:function(e,o,a){y(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in e)this._addLayer(e[l],l);for(l in o)this._addLayer(o[l],l,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return qe.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,o){return this._addLayer(e,o),this._map?this._update():this},addOverlay:function(e,o){return this._addLayer(e,o,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var o=this._getLayer(c(e));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){j(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(j(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ae(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ae(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",o=this._container=W("div",e),a=this.options.collapsed;o.setAttribute("aria-haspopup",!0),pr(o),Ps(o);var l=this._section=W("section",e+"-list");a&&(this._map.on("click",this.collapse,this),B(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=W("a",e+"-toggle",o);f.href="#",f.title="Layers",f.setAttribute("role","button"),B(f,{keydown:function(g){g.keyCode===13&&this._expandSafely()},click:function(g){he(g),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=W("div",e+"-base",l),this._separator=W("div",e+"-separator",l),this._overlaysList=W("div",e+"-overlays",l),o.appendChild(l)},_getLayer:function(e){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&c(this._layers[o].layer)===e)return this._layers[o]},_addLayer:function(e,o,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:o,overlay:a}),this.options.sortLayers&&this._layers.sort(s(function(l,f){return this.options.sortFunction(l.layer,f.layer,l.name,f.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_i(this._baseLayersList),_i(this._overlaysList),this._layerControlInputs=[];var e,o,a,l,f=0;for(a=0;a<this._layers.length;a++)l=this._layers[a],this._addItem(l),o=o||l.overlay,e=e||!l.overlay,f+=l.overlay?0:1;return this.options.hideSingleBase&&(e=e&&f>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=o&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var o=this._getLayer(c(e.target)),a=o.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;a&&this._map.fire(a,o)},_createRadioElement:function(e,o){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(o?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=a,l.firstChild},_addItem:function(e){var o=document.createElement("label"),a=this._map.hasLayer(e.layer),l;e.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=a):l=this._createRadioElement("leaflet-base-layers_"+c(this),a),this._layerControlInputs.push(l),l.layerId=c(e.layer),B(l,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+e.name;var g=document.createElement("span");o.appendChild(g),g.appendChild(l),g.appendChild(f);var v=e.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,o,a,l=[],f=[];this._handlingClick=!0;for(var g=e.length-1;g>=0;g--)o=e[g],a=this._getLayer(o.layerId).layer,o.checked?l.push(a):o.checked||f.push(a);for(g=0;g<f.length;g++)this._map.hasLayer(f[g])&&this._map.removeLayer(f[g]);for(g=0;g<l.length;g++)this._map.hasLayer(l[g])||this._map.addLayer(l[g]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,o,a,l=this._map.getZoom(),f=e.length-1;f>=0;f--)o=e[f],a=this._getLayer(o.layerId).layer,o.disabled=a.options.minZoom!==void 0&&l<a.options.minZoom||a.options.maxZoom!==void 0&&l>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,B(e,"click",he),this.expand();var o=this;setTimeout(function(){X(e,"click",he),o._preventClick=!1})}}),Lg=function(e,o,a){return new ol(e,o,a)},Rs=qe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var o="leaflet-control-zoom",a=W("div",o+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,o+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,o+"-out",a,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,o,a,l,f){var g=W("a",a,l);return g.innerHTML=e,g.href="#",g.title=o,g.setAttribute("role","button"),g.setAttribute("aria-label",o),pr(g),B(g,"click",Zt),B(g,"click",f,this),B(g,"click",this._refocusOnMap,this),g},_updateDisabled:function(){var e=this._map,o="leaflet-disabled";ae(this._zoomInButton,o),ae(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(j(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(j(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});G.mergeOptions({zoomControl:!0}),G.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rs,this.addControl(this.zoomControl))});var Ag=function(e){return new Rs(e)},sl=qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var o="leaflet-control-scale",a=W("div",o),l=this.options;return this._addScales(l,o+"-line",a),e.on(l.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),a},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,o,a){e.metric&&(this._mScale=W("div",o,a)),e.imperial&&(this._iScale=W("div",o,a))},_update:function(){var e=this._map,o=e.getSize().y/2,a=e.distance(e.containerPointToLatLng([0,o]),e.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(a)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var o=this._getRoundNum(e),a=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,a,o/e)},_updateImperial:function(e){var o=e*3.2808399,a,l,f;o>5280?(a=o/5280,l=this._getRoundNum(a),this._updateScale(this._iScale,l+" mi",l/a)):(f=this._getRoundNum(o),this._updateScale(this._iScale,f+" ft",f/o))},_updateScale:function(e,o,a){e.style.width=Math.round(this.options.maxWidth*a)+"px",e.innerHTML=o},_getRoundNum:function(e){var o=Math.pow(10,(Math.floor(e)+"").length-1),a=e/o;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,o*a}}),Pg=function(e){return new sl(e)},Og='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ks=qe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(x.inlineSvg?Og+" ":"")+"Leaflet</a>"},initialize:function(e){y(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=W("div","leaflet-control-attribution"),pr(this._container);for(var o in e._layers)e._layers[o].getAttribution&&this.addAttribution(e._layers[o].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var o in this._attributions)this._attributions[o]&&e.push(o);var a=[];this.options.prefix&&a.push(this.options.prefix),e.length&&a.push(e.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});G.mergeOptions({attributionControl:!0}),G.addInitHook(function(){this.options.attributionControl&&new ks().addTo(this)});var Rg=function(e){return new ks(e)};qe.Layers=ol,qe.Zoom=Rs,qe.Scale=sl,qe.Attribution=ks,gr.layers=Lg,gr.zoom=Ag,gr.scale=Pg,gr.attribution=Rg;var at=_t.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});at.addTo=function(e,o){return e.addHandler(o,this),this};var kg={Events:Oe},al=x.touch?"touchstart mousedown":"mousedown",Nt=sr.extend({options:{clickTolerance:3},initialize:function(e,o,a,l){y(this,l),this._element=e,this._dragStartTarget=o||e,this._preventOutline=a},enable:function(){this._enabled||(B(this._dragStartTarget,al,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Nt._dragging===this&&this.finishDrag(!0),X(this._dragStartTarget,al,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ws(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Nt._dragging===this&&this.finishDrag();return}if(!(Nt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Nt._dragging=this,this._preventOutline&&Ss(this._element),Ts(),dr(),!this._moving)){this.fire("down");var o=e.touches?e.touches[0]:e,a=Xc(this._element);this._startPoint=new F(o.clientX,o.clientY),this._startPos=Ut(this._element),this._parentScale=xs(a);var l=e.type==="mousedown";B(document,l?"mousemove":"touchmove",this._onMove,this),B(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var o=e.touches&&e.touches.length===1?e.touches[0]:e,a=new F(o.clientX,o.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,he(e),this._moved||(this.fire("dragstart"),this._moved=!0,j(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),j(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),le(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ae(document.body,"leaflet-dragging"),this._lastTarget&&(ae(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),X(document,"mousemove touchmove",this._onMove,this),X(document,"mouseup touchend touchcancel",this._onUp,this),bs(),fr();var o=this._moved&&this._moving;this._moving=!1,Nt._dragging=!1,o&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function ul(e,o,a){var l,f=[1,4,2,8],g,v,D,w,C,M,A,H;for(g=0,M=e.length;g<M;g++)e[g]._code=Gt(e[g],o);for(D=0;D<4;D++){for(A=f[D],l=[],g=0,M=e.length,v=M-1;g<M;v=g++)w=e[g],C=e[v],w._code&A?C._code&A||(H=wi(C,w,A,o,a),H._code=Gt(H,o),l.push(H)):(C._code&A&&(H=wi(C,w,A,o,a),H._code=Gt(H,o),l.push(H)),l.push(w));e=l}return e}function cl(e,o){var a,l,f,g,v,D,w,C,M;if(!e||e.length===0)throw new Error("latlngs not passed");He(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var A=Z([0,0]),H=ce(e),ye=H.getNorthWest().distanceTo(H.getSouthWest())*H.getNorthEast().distanceTo(H.getNorthWest());ye<1700&&(A=Fs(e));var fe=e.length,ze=[];for(a=0;a<fe;a++){var be=Z(e[a]);ze.push(o.project(Z([be.lat-A.lat,be.lng-A.lng])))}for(D=w=C=0,a=0,l=fe-1;a<fe;l=a++)f=ze[a],g=ze[l],v=f.y*g.x-g.y*f.x,w+=(f.x+g.x)*v,C+=(f.y+g.y)*v,D+=v*3;D===0?M=ze[0]:M=[w/D,C/D];var Pn=o.unproject(O(M));return Z([Pn.lat+A.lat,Pn.lng+A.lng])}function Fs(e){for(var o=0,a=0,l=0,f=0;f<e.length;f++){var g=Z(e[f]);o+=g.lat,a+=g.lng,l++}return Z([o/l,a/l])}var Fg={__proto__:null,clipPolygon:ul,polygonCenter:cl,centroid:Fs};function ll(e,o){if(!o||!e.length)return e.slice();var a=o*o;return e=Vg(e,a),e=jg(e,a),e}function dl(e,o,a){return Math.sqrt(mr(e,o,a,!0))}function Bg(e,o,a){return mr(e,o,a)}function jg(e,o){var a=e.length,l=typeof Uint8Array<"u"?Uint8Array:Array,f=new l(a);f[0]=f[a-1]=1,Bs(e,f,o,0,a-1);var g,v=[];for(g=0;g<a;g++)f[g]&&v.push(e[g]);return v}function Bs(e,o,a,l,f){var g=0,v,D,w;for(D=l+1;D<=f-1;D++)w=mr(e[D],e[l],e[f],!0),w>g&&(v=D,g=w);g>a&&(o[v]=1,Bs(e,o,a,l,v),Bs(e,o,a,v,f))}function Vg(e,o){for(var a=[e[0]],l=1,f=0,g=e.length;l<g;l++)Hg(e[l],e[f])>o&&(a.push(e[l]),f=l);return f<g-1&&a.push(e[g-1]),a}var fl;function hl(e,o,a,l,f){var g=l?fl:Gt(e,a),v=Gt(o,a),D,w,C;for(fl=v;;){if(!(g|v))return[e,o];if(g&v)return!1;D=g||v,w=wi(e,o,D,a,f),C=Gt(w,a),D===g?(e=w,g=C):(o=w,v=C)}}function wi(e,o,a,l,f){var g=o.x-e.x,v=o.y-e.y,D=l.min,w=l.max,C,M;return a&8?(C=e.x+g*(w.y-e.y)/v,M=w.y):a&4?(C=e.x+g*(D.y-e.y)/v,M=D.y):a&2?(C=w.x,M=e.y+v*(w.x-e.x)/g):a&1&&(C=D.x,M=e.y+v*(D.x-e.x)/g),new F(C,M,f)}function Gt(e,o){var a=0;return e.x<o.min.x?a|=1:e.x>o.max.x&&(a|=2),e.y<o.min.y?a|=4:e.y>o.max.y&&(a|=8),a}function Hg(e,o){var a=o.x-e.x,l=o.y-e.y;return a*a+l*l}function mr(e,o,a,l){var f=o.x,g=o.y,v=a.x-f,D=a.y-g,w=v*v+D*D,C;return w>0&&(C=((e.x-f)*v+(e.y-g)*D)/w,C>1?(f=a.x,g=a.y):C>0&&(f+=v*C,g+=D*C)),v=e.x-f,D=e.y-g,l?v*v+D*D:new F(f,g)}function He(e){return!T(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function pl(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),He(e)}function gl(e,o){var a,l,f,g,v,D,w,C;if(!e||e.length===0)throw new Error("latlngs not passed");He(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var M=Z([0,0]),A=ce(e),H=A.getNorthWest().distanceTo(A.getSouthWest())*A.getNorthEast().distanceTo(A.getNorthWest());H<1700&&(M=Fs(e));var ye=e.length,fe=[];for(a=0;a<ye;a++){var ze=Z(e[a]);fe.push(o.project(Z([ze.lat-M.lat,ze.lng-M.lng])))}for(a=0,l=0;a<ye-1;a++)l+=fe[a].distanceTo(fe[a+1])/2;if(l===0)C=fe[0];else for(a=0,g=0;a<ye-1;a++)if(v=fe[a],D=fe[a+1],f=v.distanceTo(D),g+=f,g>l){w=(g-l)/f,C=[D.x-w*(D.x-v.x),D.y-w*(D.y-v.y)];break}var be=o.unproject(O(C));return Z([be.lat+M.lat,be.lng+M.lng])}var zg={__proto__:null,simplify:ll,pointToSegmentDistance:dl,closestPointOnSegment:Bg,clipSegment:hl,_getEdgeIntersection:wi,_getBitCode:Gt,_sqClosestPointOnSegment:mr,isFlat:He,_flat:pl,polylineCenter:gl},js={project:function(e){return new F(e.lng,e.lat)},unproject:function(e){return new K(e.y,e.x)},bounds:new te([-180,-90],[180,90])},Vs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var o=Math.PI/180,a=this.R,l=e.lat*o,f=this.R_MINOR/a,g=Math.sqrt(1-f*f),v=g*Math.sin(l),D=Math.tan(Math.PI/4-l/2)/Math.pow((1-v)/(1+v),g/2);return l=-a*Math.log(Math.max(D,1e-10)),new F(e.lng*o*a,l)},unproject:function(e){for(var o=180/Math.PI,a=this.R,l=this.R_MINOR/a,f=Math.sqrt(1-l*l),g=Math.exp(-e.y/a),v=Math.PI/2-2*Math.atan(g),D=0,w=.1,C;D<15&&Math.abs(w)>1e-7;D++)C=f*Math.sin(v),C=Math.pow((1-C)/(1+C),f/2),w=Math.PI/2-2*Math.atan(g*C)-v,v+=w;return new K(v*o,e.x*o/a)}},Ug={__proto__:null,LonLat:js,Mercator:Vs,SphericalMercator:fs},$g=r({},xt,{code:"EPSG:3395",projection:Vs,transformation:(function(){var e=.5/(Math.PI*Vs.R);return ar(e,.5,-e,.5)})()}),ml=r({},xt,{code:"EPSG:4326",projection:js,transformation:ar(1/180,1,-1/180,.5)}),Zg=r({},vt,{projection:js,transformation:ar(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,o){var a=o.lng-e.lng,l=o.lat-e.lat;return Math.sqrt(a*a+l*l)},infinite:!0});vt.Earth=xt,vt.EPSG3395=$g,vt.EPSG3857=ps,vt.EPSG900913=Qp,vt.EPSG4326=ml,vt.Simple=Zg;var Ye=sr.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[c(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[c(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var o=e.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var a=this.getEvents();o.on(a,this),this.once("remove",function(){o.off(a,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});G.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var o=c(e);return this._layers[o]?this:(this._layers[o]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var o=c(e);return this._layers[o]?(this._loaded&&e.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return c(e)in this._layers},eachLayer:function(e,o){for(var a in this._layers)e.call(o,this._layers[a]);return this},_addLayers:function(e){e=e?T(e)?e:[e]:[];for(var o=0,a=e.length;o<a;o++)this.addLayer(e[o])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[c(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var o=c(e);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,o=-1/0,a=this._getZoomSpan();for(var l in this._zoomBoundLayers){var f=this._zoomBoundLayers[l].options;e=f.minZoom===void 0?e:Math.min(e,f.minZoom),o=f.maxZoom===void 0?o:Math.max(o,f.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=e===1/0?void 0:e,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sn=Ye.extend({initialize:function(e,o){y(this,o),this._layers={};var a,l;if(e)for(a=0,l=e.length;a<l;a++)this.addLayer(e[a])},addLayer:function(e){var o=this.getLayerId(e);return this._layers[o]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var o=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(e){var o=typeof e=="number"?e:this.getLayerId(e);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var o=Array.prototype.slice.call(arguments,1),a,l;for(a in this._layers)l=this._layers[a],l[e]&&l[e].apply(l,o);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,o){for(var a in this._layers)e.call(o,this._layers[a]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return c(e)}}),Gg=function(e,o){return new Sn(e,o)},yt=Sn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Sn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Sn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Te;for(var o in this._layers){var a=this._layers[o];e.extend(a.getBounds?a.getBounds():a.getLatLng())}return e}}),Wg=function(e,o){return new yt(e,o)},xn=_t.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){y(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,o){var a=this._getIconUrl(e);if(!a){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(a,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(l,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(e,o){var a=this.options,l=a[o+"Size"];typeof l=="number"&&(l=[l,l]);var f=O(l),g=O(o==="shadow"&&a.shadowAnchor||a.iconAnchor||f&&f.divideBy(2,!0));e.className="leaflet-marker-"+o+" "+(a.className||""),g&&(e.style.marginLeft=-g.x+"px",e.style.marginTop=-g.y+"px"),f&&(e.style.width=f.x+"px",e.style.height=f.y+"px")},_createImg:function(e,o){return o=o||document.createElement("img"),o.src=e,o},_getIconUrl:function(e){return x.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function qg(e){return new xn(e)}var _r=xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof _r.imagePath!="string"&&(_r.imagePath=this._detectIconPath()),(this.options.imagePath||_r.imagePath)+xn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var o=function(a,l,f){var g=l.exec(a);return g&&g[f]};return e=o(e,/^url\((['"])?(.+)\1\)$/,2),e&&o(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=W("div","leaflet-default-icon-path",document.body),o=lr(e,"background-image")||lr(e,"backgroundImage");if(document.body.removeChild(e),o=this._stripUrl(o),o)return o;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),_l=at.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Nt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),j(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ae(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var o=this._marker,a=o._map,l=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,g=Ut(o._icon),v=a.getPixelBounds(),D=a.getPixelOrigin(),w=Ie(v.min._subtract(D).add(f),v.max._subtract(D).subtract(f));if(!w.contains(g)){var C=O((Math.max(w.max.x,g.x)-w.max.x)/(v.max.x-w.max.x)-(Math.min(w.min.x,g.x)-w.min.x)/(v.min.x-w.min.x),(Math.max(w.max.y,g.y)-w.max.y)/(v.max.y-w.max.y)-(Math.min(w.min.y,g.y)-w.min.y)/(v.min.y-w.min.y)).multiplyBy(l);a.panBy(C,{animate:!1}),this._draggable._newPos._add(C),this._draggable._startPos._add(C),le(o._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=Ce(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(je(this._panRequest),this._panRequest=Ce(this._adjustPan.bind(this,e)))},_onDrag:function(e){var o=this._marker,a=o._shadow,l=Ut(o._icon),f=o._map.layerPointToLatLng(l);a&&le(a,l),o._latlng=f,e.latlng=f,e.oldLatLng=this._oldLatLng,o.fire("move",e).fire("drag",e)},_onDragEnd:function(e){je(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Ci=Ye.extend({options:{icon:new _r,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,o){y(this,o),this._latlng=Z(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var o=this._latlng;return this._latlng=Z(e),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=e.icon.createIcon(this._icon),l=!1;a!==this._icon&&(this._icon&&this._removeIcon(),l=!0,e.title&&(a.title=e.title),a.tagName==="IMG"&&(a.alt=e.alt||"")),j(a,o),e.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&B(a,"focus",this._panOnFocus,this);var f=e.icon.createShadow(this._shadow),g=!1;f!==this._shadow&&(this._removeShadow(),g=!0),f&&(j(f,o),f.alt=""),this._shadow=f,e.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&g&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&X(this._icon,"focus",this._panOnFocus,this),ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ne(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&le(this._icon,e),this._shadow&&le(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(j(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_l)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _l(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Ve(this._icon,e),this._shadow&&Ve(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var o=this.options.icon.options,a=o.iconSize?O(o.iconSize):O(0,0),l=o.iconAnchor?O(o.iconAnchor):O(0,0);e.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:a.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Yg(e,o){return new Ci(e,o)}var Lt=Ye.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return y(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ii=Lt.extend({options:{fill:!0,radius:10},initialize:function(e,o){y(this,o),this._latlng=Z(e),this._radius=this.options.radius},setLatLng:function(e){var o=this._latlng;return this._latlng=Z(e),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var o=e&&e.radius||this._radius;return Lt.prototype.setStyle.call(this,e),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,o=this._radiusY||e,a=this._clickTolerance(),l=[e+a,o+a];this._pxBounds=new te(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Kg(e,o){return new Ii(e,o)}var Hs=Ii.extend({initialize:function(e,o,a){if(typeof o=="number"&&(o=r({},a,{radius:o})),y(this,o),this._latlng=Z(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Te(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Lt.prototype.setStyle,_project:function(){var e=this._latlng.lng,o=this._latlng.lat,a=this._map,l=a.options.crs;if(l.distance===xt.distance){var f=Math.PI/180,g=this._mRadius/xt.R/f,v=a.project([o+g,e]),D=a.project([o-g,e]),w=v.add(D).divideBy(2),C=a.unproject(w).lat,M=Math.acos((Math.cos(g*f)-Math.sin(o*f)*Math.sin(C*f))/(Math.cos(o*f)*Math.cos(C*f)))/f;(isNaN(M)||M===0)&&(M=g/Math.cos(Math.PI/180*o)),this._point=w.subtract(a.getPixelOrigin()),this._radius=isNaN(M)?0:w.x-a.project([C,e-M]).x,this._radiusY=w.y-v.y}else{var A=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(A).x}this._updateBounds()}});function Qg(e,o,a){return new Hs(e,o,a)}var Dt=Lt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,o){y(this,o),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var o=1/0,a=null,l=mr,f,g,v=0,D=this._parts.length;v<D;v++)for(var w=this._parts[v],C=1,M=w.length;C<M;C++){f=w[C-1],g=w[C];var A=l(e,f,g,!0);A<o&&(o=A,a=l(e,f,g))}return a&&(a.distance=Math.sqrt(o)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,o){return o=o||this._defaultShape(),e=Z(e),o.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Te,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return He(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var o=[],a=He(e),l=0,f=e.length;l<f;l++)a?(o[l]=Z(e[l]),this._bounds.extend(o[l])):o[l]=this._convertLatLngs(e[l]);return o},_project:function(){var e=new te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),o=new F(e,e);this._rawPxBounds&&(this._pxBounds=new te([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(e,o,a){var l=e[0]instanceof K,f=e.length,g,v;if(l){for(v=[],g=0;g<f;g++)v[g]=this._map.latLngToLayerPoint(e[g]),a.extend(v[g]);o.push(v)}else for(g=0;g<f;g++)this._projectLatlngs(e[g],o,a)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,a,l,f,g,v,D,w;for(a=0,f=0,g=this._rings.length;a<g;a++)for(w=this._rings[a],l=0,v=w.length;l<v-1;l++)D=hl(w[l],w[l+1],e,l,!0),D&&(o[f]=o[f]||[],o[f].push(D[0]),(D[1]!==w[l+1]||l===v-2)&&(o[f].push(D[1]),f++))}},_simplifyPoints:function(){for(var e=this._parts,o=this.options.smoothFactor,a=0,l=e.length;a<l;a++)e[a]=ll(e[a],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,o){var a,l,f,g,v,D,w=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,g=this._parts.length;a<g;a++)for(D=this._parts[a],l=0,v=D.length,f=v-1;l<v;f=l++)if(!(!o&&l===0)&&dl(e,D[f],D[l])<=w)return!0;return!1}});function Jg(e,o){return new Dt(e,o)}Dt._flat=pl;var Nn=Dt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return cl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var o=Dt.prototype._convertLatLngs.call(this,e),a=o.length;return a>=2&&o[0]instanceof K&&o[0].equals(o[a-1])&&o.pop(),o},_setLatLngs:function(e){Dt.prototype._setLatLngs.call(this,e),He(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return He(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,o=this.options.weight,a=new F(o,o);if(e=new te(e.min.subtract(a),e.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,f=this._rings.length,g;l<f;l++)g=ul(this._rings[l],e,!0),g.length&&this._parts.push(g)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var o=!1,a,l,f,g,v,D,w,C;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(g=0,w=this._parts.length;g<w;g++)for(a=this._parts[g],v=0,C=a.length,D=C-1;v<C;D=v++)l=a[v],f=a[D],l.y>e.y!=f.y>e.y&&e.x<(f.x-l.x)*(e.y-l.y)/(f.y-l.y)+l.x&&(o=!o);return o||Dt.prototype._containsPoint.call(this,e,!0)}});function Xg(e,o){return new Nn(e,o)}var Et=yt.extend({initialize:function(e,o){y(this,o),this._layers={},e&&this.addData(e)},addData:function(e){var o=T(e)?e:e.features,a,l,f;if(o){for(a=0,l=o.length;a<l;a++)f=o[a],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var g=this.options;if(g.filter&&!g.filter(e))return this;var v=Ti(e,g);return v?(v.feature=Si(e),v.defaultOptions=v.options,this.resetStyle(v),g.onEachFeature&&g.onEachFeature(e,v),this.addLayer(v)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=r({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(o){this._setLayerStyle(o,e)},this)},_setLayerStyle:function(e,o){e.setStyle&&(typeof o=="function"&&(o=o(e.feature)),e.setStyle(o))}});function Ti(e,o){var a=e.type==="Feature"?e.geometry:e,l=a?a.coordinates:null,f=[],g=o&&o.pointToLayer,v=o&&o.coordsToLatLng||zs,D,w,C,M;if(!l&&!a)return null;switch(a.type){case"Point":return D=v(l),vl(g,e,D,o);case"MultiPoint":for(C=0,M=l.length;C<M;C++)D=v(l[C]),f.push(vl(g,e,D,o));return new yt(f);case"LineString":case"MultiLineString":return w=bi(l,a.type==="LineString"?0:1,v),new Dt(w,o);case"Polygon":case"MultiPolygon":return w=bi(l,a.type==="Polygon"?1:2,v),new Nn(w,o);case"GeometryCollection":for(C=0,M=a.geometries.length;C<M;C++){var A=Ti({geometry:a.geometries[C],type:"Feature",properties:e.properties},o);A&&f.push(A)}return new yt(f);case"FeatureCollection":for(C=0,M=a.features.length;C<M;C++){var H=Ti(a.features[C],o);H&&f.push(H)}return new yt(f);default:throw new Error("Invalid GeoJSON object.")}}function vl(e,o,a,l){return e?e(o,a):new Ci(a,l&&l.markersInheritOptions&&l)}function zs(e){return new K(e[1],e[0],e[2])}function bi(e,o,a){for(var l=[],f=0,g=e.length,v;f<g;f++)v=o?bi(e[f],o-1,a):(a||zs)(e[f]),l.push(v);return l}function Us(e,o){return e=Z(e),e.alt!==void 0?[m(e.lng,o),m(e.lat,o),m(e.alt,o)]:[m(e.lng,o),m(e.lat,o)]}function Mi(e,o,a,l){for(var f=[],g=0,v=e.length;g<v;g++)f.push(o?Mi(e[g],He(e[g])?0:o-1,a,l):Us(e[g],l));return!o&&a&&f.length>0&&f.push(f[0].slice()),f}function Ln(e,o){return e.feature?r({},e.feature,{geometry:o}):Si(o)}function Si(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var $s={toGeoJSON:function(e){return Ln(this,{type:"Point",coordinates:Us(this.getLatLng(),e)})}};Ci.include($s),Hs.include($s),Ii.include($s),Dt.include({toGeoJSON:function(e){var o=!He(this._latlngs),a=Mi(this._latlngs,o?1:0,!1,e);return Ln(this,{type:(o?"Multi":"")+"LineString",coordinates:a})}}),Nn.include({toGeoJSON:function(e){var o=!He(this._latlngs),a=o&&!He(this._latlngs[0]),l=Mi(this._latlngs,a?2:o?1:0,!0,e);return o||(l=[l]),Ln(this,{type:(a?"Multi":"")+"Polygon",coordinates:l})}}),Sn.include({toMultiPoint:function(e){var o=[];return this.eachLayer(function(a){o.push(a.toGeoJSON(e).geometry.coordinates)}),Ln(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(e){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(e);var a=o==="GeometryCollection",l=[];return this.eachLayer(function(f){if(f.toGeoJSON){var g=f.toGeoJSON(e);if(a)l.push(g.geometry);else{var v=Si(g);v.type==="FeatureCollection"?l.push.apply(l,v.features):l.push(v)}}}),a?Ln(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function yl(e,o){return new Et(e,o)}var em=yl,xi=Ye.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,o,a){this._url=e,this._bounds=ce(o),y(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(j(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&bn(this._image),this},bringToBack:function(){return this._map&&Mn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ce(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",o=this._image=e?this._url:W("img");if(j(o,"leaflet-image-layer"),this._zoomAnimated&&j(o,"leaflet-zoom-animated"),this.options.className&&j(o,this.options.className),o.onselectstart=p,o.onmousemove=p,o.onload=s(this.fire,this,"load"),o.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(e){var o=this._map.getZoomScale(e.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;zt(this._image,a,o)},_reset:function(){var e=this._image,o=new te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=o.getSize();le(e,o.min),e.style.width=a.x+"px",e.style.height=a.y+"px"},_updateOpacity:function(){Ve(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),tm=function(e,o,a){return new xi(e,o,a)},Dl=xi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",o=this._image=e?this._url:W("video");if(j(o,"leaflet-image-layer"),this._zoomAnimated&&j(o,"leaflet-zoom-animated"),this.options.className&&j(o,this.options.className),o.onselectstart=p,o.onmousemove=p,o.onloadeddata=s(this.fire,this,"load"),e){for(var a=o.getElementsByTagName("source"),l=[],f=0;f<a.length;f++)l.push(a[f].src);this._url=a.length>0?l:[o.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var g=0;g<this._url.length;g++){var v=W("source");v.src=this._url[g],o.appendChild(v)}}});function nm(e,o,a){return new Dl(e,o,a)}var El=xi.extend({_initImage:function(){var e=this._image=this._url;j(e,"leaflet-image-layer"),this._zoomAnimated&&j(e,"leaflet-zoom-animated"),this.options.className&&j(e,this.options.className),e.onselectstart=p,e.onmousemove=p}});function rm(e,o,a){return new El(e,o,a)}var ut=Ye.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,o){e&&(e instanceof K||T(e))?(this._latlng=Z(e),y(this,o)):(y(this,e),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Ve(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Ve(this._container,1),this.bringToFront(),this.options.interactive&&(j(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Ve(this._container,0),this._removeTimeout=setTimeout(s(ne,void 0,this._container),200)):ne(this._container),this.options.interactive&&(ae(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=Z(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bn(this._container),this},bringToBack:function(){return this._map&&Mn(this._container),this},_prepareOpen:function(e){var o=this._source;if(!o._map)return!1;if(o instanceof yt){o=null;var a=this._source._layers;for(var l in a)if(a[l]._map){o=a[l];break}if(!o)return!1;this._source=o}if(!e)if(o.getCenter)e=o.getCenter();else if(o.getLatLng)e=o.getLatLng();else if(o.getBounds)e=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")e.innerHTML=o;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),o=O(this.options.offset),a=this._getAnchor();this._zoomAnimated?le(this._container,e.add(a)):o=o.add(e).add(a);var l=this._containerBottom=-o.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=l+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});G.include({_initOverlay:function(e,o,a,l){var f=o;return f instanceof e||(f=new e(l).setContent(o)),a&&f.setLatLng(a),f}}),Ye.include({_initOverlay:function(e,o,a,l){var f=a;return f instanceof e?(y(f,l),f._source=this):(f=o&&!l?o:new e(l,this),f.setContent(a)),f}});var Ni=ut.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,ut.prototype.openOn.call(this,e)},onAdd:function(e){ut.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Lt||this._source.on("preclick",$t))},onRemove:function(e){ut.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Lt||this._source.off("preclick",$t))},getEvents:function(){var e=ut.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",o=this._container=W("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=W("div",e+"-content-wrapper",o);if(this._contentNode=W("div",e+"-content",a),pr(o),Ps(this._contentNode),B(o,"contextmenu",$t),this._tipContainer=W("div",e+"-tip-container",o),this._tip=W("div",e+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=W("a",e+"-close-button",o);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',B(l,"click",function(f){he(f),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,o=e.style;o.width="",o.whiteSpace="nowrap";var a=e.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),o.width=a+1+"px",o.whiteSpace="",o.height="";var l=e.offsetHeight,f=this.options.maxHeight,g="leaflet-popup-scrolled";f&&l>f?(o.height=f+"px",j(e,g)):ae(e,g),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),a=this._getAnchor();le(this._container,o.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,o=parseInt(lr(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+o,l=this._containerWidth,f=new F(this._containerLeft,-a-this._containerBottom);f._add(Ut(this._container));var g=e.layerPointToContainerPoint(f),v=O(this.options.autoPanPadding),D=O(this.options.autoPanPaddingTopLeft||v),w=O(this.options.autoPanPaddingBottomRight||v),C=e.getSize(),M=0,A=0;g.x+l+w.x>C.x&&(M=g.x+l-C.x+w.x),g.x-M-D.x<0&&(M=g.x-D.x),g.y+a+w.y>C.y&&(A=g.y+a-C.y+w.y),g.y-A-D.y<0&&(A=g.y-D.y),(M||A)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([M,A]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),im=function(e,o){return new Ni(e,o)};G.mergeOptions({closePopupOnClick:!0}),G.include({openPopup:function(e,o,a){return this._initOverlay(Ni,e,o,a).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Ye.include({bindPopup:function(e,o){return this._popup=this._initOverlay(Ni,this._popup,e,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof yt||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){Zt(e);var o=e.layer||e.target;if(this._popup._source===o&&!(o instanceof Lt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=o,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Li=ut.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){ut.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){ut.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=ut.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",o=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=W("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var o,a,l=this._map,f=this._container,g=l.latLngToContainerPoint(l.getCenter()),v=l.layerPointToContainerPoint(e),D=this.options.direction,w=f.offsetWidth,C=f.offsetHeight,M=O(this.options.offset),A=this._getAnchor();D==="top"?(o=w/2,a=C):D==="bottom"?(o=w/2,a=0):D==="center"?(o=w/2,a=C/2):D==="right"?(o=0,a=C/2):D==="left"?(o=w,a=C/2):v.x<g.x?(D="right",o=0,a=C/2):(D="left",o=w+(M.x+A.x)*2,a=C/2),e=e.subtract(O(o,a,!0)).add(M).add(A),ae(f,"leaflet-tooltip-right"),ae(f,"leaflet-tooltip-left"),ae(f,"leaflet-tooltip-top"),ae(f,"leaflet-tooltip-bottom"),j(f,"leaflet-tooltip-"+D),le(f,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Ve(this._container,e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(o)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),om=function(e,o){return new Li(e,o)};G.include({openTooltip:function(e,o,a){return this._initOverlay(Li,e,o,a).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ye.include({bindTooltip:function(e,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Li,this._tooltip,e,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var o=e?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[o](a),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof yt||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var o=typeof e.getElement=="function"&&e.getElement();o&&(B(o,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),B(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var o=typeof e.getElement=="function"&&e.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var o=e.latlng,a,l;this._tooltip.options.sticky&&e.originalEvent&&(a=this._map.mouseEventToContainerPoint(e.originalEvent),l=this._map.containerPointToLayerPoint(a),o=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(o)}});var wl=xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var o=e&&e.tagName==="DIV"?e:document.createElement("div"),a=this.options;if(a.html instanceof Element?(_i(o),o.appendChild(a.html)):o.innerHTML=a.html!==!1?a.html:"",a.bgPos){var l=O(a.bgPos);o.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function sm(e){return new wl(e)}xn.Default=_r;var vr=Ye.extend({options:{tileSize:256,opacity:1,updateWhenIdle:x.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){y(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ne(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof F?e:new F(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var o=this.getPane().children,a=-e(-1/0,1/0),l=0,f=o.length,g;l<f;l++)g=o[l].style.zIndex,o[l]!==this._container&&g&&(a=e(a,+g));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!x.ielt9){Ve(this._container,this.options.opacity);var e=+new Date,o=!1,a=!1;for(var l in this._tiles){var f=this._tiles[l];if(!(!f.current||!f.loaded)){var g=Math.min(1,(e-f.loaded)/200);Ve(f.el,g),g<1?o=!0:(f.active?a=!0:this._onOpaqueTile(f),f.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),o&&(je(this._fadeFrame),this._fadeFrame=Ce(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=W("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,o=this.options.maxZoom;if(e!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===e?(this._levels[a].el.style.zIndex=o-Math.abs(e-a),this._onUpdateLevel(a)):(ne(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var l=this._levels[e],f=this._map;return l||(l=this._levels[e]={},l.el=W("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=o,l.origin=f.project(f.unproject(f.getPixelOrigin()),e).round(),l.zoom=e,this._setZoomTransform(l,f.getCenter(),f.getZoom()),p(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var e,o,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)o=this._tiles[e],o.retain=o.current;for(e in this._tiles)if(o=this._tiles[e],o.current&&!o.active){var l=o.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var o in this._tiles)this._tiles[o].coords.z===e&&this._removeTile(o)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ne(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,o,a,l){var f=Math.floor(e/2),g=Math.floor(o/2),v=a-1,D=new F(+f,+g);D.z=+v;var w=this._tileCoordsToKey(D),C=this._tiles[w];return C&&C.active?(C.retain=!0,!0):(C&&C.loaded&&(C.retain=!0),v>l?this._retainParent(f,g,v,l):!1)},_retainChildren:function(e,o,a,l){for(var f=2*e;f<2*e+2;f++)for(var g=2*o;g<2*o+2;g++){var v=new F(f,g);v.z=a+1;var D=this._tileCoordsToKey(v),w=this._tiles[D];if(w&&w.active){w.retain=!0;continue}else w&&w.loaded&&(w.retain=!0);a+1<l&&this._retainChildren(f,g,a+1,l)}},_resetView:function(e){var o=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var o=this.options;return o.minNativeZoom!==void 0&&e<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<e?o.maxNativeZoom:e},_setView:function(e,o,a,l){var f=Math.round(o);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var g=this.options.updateWhenZooming&&f!==this._tileZoom;(!l||g)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(e),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(e,o)},_setZoomTransforms:function(e,o){for(var a in this._levels)this._setZoomTransform(this._levels[a],e,o)},_setZoomTransform:function(e,o,a){var l=this._map.getZoomScale(a,e.zoom),f=e.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(o,a)).round();x.any3d?zt(e.el,f,l):le(e.el,f)},_resetGrid:function(){var e=this._map,o=e.options.crs,a=this._tileSize=this.getTileSize(),l=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,o.wrapLng[0]],l).x/a.x),Math.ceil(e.project([0,o.wrapLng[1]],l).x/a.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([o.wrapLat[0],0],l).y/a.x),Math.ceil(e.project([o.wrapLat[1],0],l).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var o=this._map,a=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),l=o.getZoomScale(a,this._tileZoom),f=o.project(e,this._tileZoom).floor(),g=o.getSize().divideBy(l*2);return new te(f.subtract(g),f.add(g))},_update:function(e){var o=this._map;if(o){var a=this._clampZoom(o.getZoom());if(e===void 0&&(e=o.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(e),f=this._pxBoundsToTileRange(l),g=f.getCenter(),v=[],D=this.options.keepBuffer,w=new te(f.getBottomLeft().subtract([D,-D]),f.getTopRight().add([D,-D]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var C in this._tiles){var M=this._tiles[C].coords;(M.z!==this._tileZoom||!w.contains(new F(M.x,M.y)))&&(this._tiles[C].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(e,a);return}for(var A=f.min.y;A<=f.max.y;A++)for(var H=f.min.x;H<=f.max.x;H++){var ye=new F(H,A);if(ye.z=this._tileZoom,!!this._isValidTile(ye)){var fe=this._tiles[this._tileCoordsToKey(ye)];fe?fe.current=!0:v.push(ye)}}if(v.sort(function(be,Pn){return be.distanceTo(g)-Pn.distanceTo(g)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ze=document.createDocumentFragment();for(H=0;H<v.length;H++)this._addTile(v[H],ze);this._level.el.appendChild(ze)}}}},_isValidTile:function(e){var o=this._map.options.crs;if(!o.infinite){var a=this._globalTileRange;if(!o.wrapLng&&(e.x<a.min.x||e.x>a.max.x)||!o.wrapLat&&(e.y<a.min.y||e.y>a.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(e);return ce(this.options.bounds).overlaps(l)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var o=this._map,a=this.getTileSize(),l=e.scaleBy(a),f=l.add(a),g=o.unproject(l,e.z),v=o.unproject(f,e.z);return[g,v]},_tileCoordsToBounds:function(e){var o=this._tileCoordsToNwSe(e),a=new Te(o[0],o[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var o=e.split(":"),a=new F(+o[0],+o[1]);return a.z=+o[2],a},_removeTile:function(e){var o=this._tiles[e];o&&(ne(o.el),delete this._tiles[e],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){j(e,"leaflet-tile");var o=this.getTileSize();e.style.width=o.x+"px",e.style.height=o.y+"px",e.onselectstart=p,e.onmousemove=p,x.ielt9&&this.options.opacity<1&&Ve(e,this.options.opacity)},_addTile:function(e,o){var a=this._getTilePos(e),l=this._tileCoordsToKey(e),f=this.createTile(this._wrapCoords(e),s(this._tileReady,this,e));this._initTile(f),this.createTile.length<2&&Ce(s(this._tileReady,this,e,null,f)),le(f,a),this._tiles[l]={el:f,coords:e,current:!0},o.appendChild(f),this.fire("tileloadstart",{tile:f,coords:e})},_tileReady:function(e,o,a){o&&this.fire("tileerror",{error:o,tile:a,coords:e});var l=this._tileCoordsToKey(e);a=this._tiles[l],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Ve(a.el,0),je(this._fadeFrame),this._fadeFrame=Ce(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),o||(j(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),x.ielt9||!this._map._fadeAnimated?Ce(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var o=new F(this._wrapX?h(e.x,this._wrapX):e.x,this._wrapY?h(e.y,this._wrapY):e.y);return o.z=e.z,o},_pxBoundsToTileRange:function(e){var o=this.getTileSize();return new te(e.min.unscaleBy(o).floor(),e.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function am(e){return new vr(e)}var An=vr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,o){this._url=e,o=y(this,o),o.detectRetina&&x.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,o){return this._url===e&&o===void 0&&(o=!0),this._url=e,o||this.redraw(),this},createTile:function(e,o){var a=document.createElement("img");return B(a,"load",s(this._tileOnLoad,this,o,a)),B(a,"error",s(this._tileOnError,this,o,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(e),a},getTileUrl:function(e){var o={r:x.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(o.y=a),o["-y"]=a}return b(this._url,r(o,this.options))},_tileOnLoad:function(e,o){x.ielt9?setTimeout(s(e,this,null,o),0):e(null,o)},_tileOnError:function(e,o,a){var l=this.options.errorTileUrl;l&&o.getAttribute("src")!==l&&(o.src=l),e(a,o)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,o=this.options.maxZoom,a=this.options.zoomReverse,l=this.options.zoomOffset;return a&&(e=o-e),e+l},_getSubdomain:function(e){var o=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var e,o;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(o=this._tiles[e].el,o.onload=p,o.onerror=p,!o.complete)){o.src=ue;var a=this._tiles[e].coords;ne(o),delete this._tiles[e],this.fire("tileabort",{tile:o,coords:a})}},_removeTile:function(e){var o=this._tiles[e];if(o)return o.el.setAttribute("src",ue),vr.prototype._removeTile.call(this,e)},_tileReady:function(e,o,a){if(!(!this._map||a&&a.getAttribute("src")===ue))return vr.prototype._tileReady.call(this,e,o,a)}});function Cl(e,o){return new An(e,o)}var Il=An.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,o){this._url=e;var a=r({},this.defaultWmsParams);for(var l in o)l in this.options||(a[l]=o[l]);o=y(this,o);var f=o.detectRetina&&x.retina?2:1,g=this.getTileSize();a.width=g.x*f,a.height=g.y*f,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,An.prototype.onAdd.call(this,e)},getTileUrl:function(e){var o=this._tileCoordsToNwSe(e),a=this._crs,l=Ie(a.project(o[0]),a.project(o[1])),f=l.min,g=l.max,v=(this._wmsVersion>=1.3&&this._crs===ml?[f.y,f.x,g.y,g.x]:[f.x,f.y,g.x,g.y]).join(","),D=An.prototype.getTileUrl.call(this,e);return D+S(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(e,o){return r(this.wmsParams,e),o||this.redraw(),this}});function um(e,o){return new Il(e,o)}An.WMS=Il,Cl.wms=um;var wt=Ye.extend({options:{padding:.1},initialize:function(e){y(this,e),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),j(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,o){var a=this._map.getZoomScale(o,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,o),g=l.multiplyBy(-a).add(f).subtract(this._map._getNewPixelOrigin(e,o));x.any3d?zt(this._container,g,a):le(this._container,g)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,o=this._map.getSize(),a=this._map.containerPointToLayerPoint(o.multiplyBy(-e)).round();this._bounds=new te(a,a.add(o.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Tl=wt.extend({options:{tolerance:0},getEvents:function(){var e=wt.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){wt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");B(e,"mousemove",this._onMouseMove,this),B(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),B(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){je(this._redrawRequest),delete this._ctx,ne(this._container),X(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var o in this._layers)e=this._layers[o],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wt.prototype._update.call(this);var e=this._bounds,o=this._container,a=e.getSize(),l=x.retina?2:1;le(o,e.min),o.width=l*a.x,o.height=l*a.y,o.style.width=a.x+"px",o.style.height=a.y+"px",x.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){wt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[c(e)]=e;var o=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var o=e._order,a=o.next,l=o.prev;a?a.prev=l:this._drawLast=l,l?l.next=a:this._drawFirst=a,delete e._order,delete this._layers[c(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var o=e.options.dashArray.split(/[, ]+/),a=[],l,f;for(f=0;f<o.length;f++){if(l=Number(o[f]),isNaN(l))return;a.push(l)}e.options._dashArray=a}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||Ce(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var o=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new te,this._redrawBounds.extend(e._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(e._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var o=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,o=this._redrawBounds;if(this._ctx.save(),o){var a=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)e=l.layer,(!o||e._pxBounds&&e._pxBounds.intersects(o))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,o){if(this._drawing){var a,l,f,g,v=e._parts,D=v.length,w=this._ctx;if(D){for(w.beginPath(),a=0;a<D;a++){for(l=0,f=v[a].length;l<f;l++)g=v[a][l],w[l?"lineTo":"moveTo"](g.x,g.y);o&&w.closePath()}this._fillStroke(w,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var o=e._point,a=this._ctx,l=Math.max(Math.round(e._radius),1),f=(Math.max(Math.round(e._radiusY),1)||l)/l;f!==1&&(a.save(),a.scale(1,f)),a.beginPath(),a.arc(o.x,o.y/f,l,0,Math.PI*2,!1),f!==1&&a.restore(),this._fillStroke(a,e)}},_fillStroke:function(e,o){var a=o.options;a.fill&&(e.globalAlpha=a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(e.setLineDash&&e.setLineDash(o.options&&o.options._dashArray||[]),e.globalAlpha=a.opacity,e.lineWidth=a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(e){for(var o=this._map.mouseEventToLayerPoint(e),a,l,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(o)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(a))&&(l=a);this._fireEvent(l?[l]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,o)}},_handleMouseOut:function(e){var o=this._hoveredLayer;o&&(ae(this._container,"leaflet-interactive"),this._fireEvent([o],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,o){if(!this._mouseHoverThrottled){for(var a,l,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(o)&&(l=a);l!==this._hoveredLayer&&(this._handleMouseOut(e),l&&(j(this._container,"leaflet-interactive"),this._fireEvent([l],e,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,o,a){this._map._fireDOMEvent(o,a||o.type,e)},_bringToFront:function(e){var o=e._order;if(o){var a=o.next,l=o.prev;if(a)a.prev=l;else return;l?l.next=a:a&&(this._drawFirst=a),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(e)}},_bringToBack:function(e){var o=e._order;if(o){var a=o.next,l=o.prev;if(l)l.next=a;else return;a?a.prev=l:l&&(this._drawLast=l),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(e)}}});function bl(e){return x.canvas?new Tl(e):null}var yr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),cm={_initContainer:function(){this._container=W("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(wt.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var o=e._container=yr("shape");j(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",e._path=yr("path"),o.appendChild(e._path),this._updateStyle(e),this._layers[c(e)]=e},_addPath:function(e){var o=e._container;this._container.appendChild(o),e.options.interactive&&e.addInteractiveTarget(o)},_removePath:function(e){var o=e._container;ne(o),e.removeInteractiveTarget(o),delete this._layers[c(e)]},_updateStyle:function(e){var o=e._stroke,a=e._fill,l=e.options,f=e._container;f.stroked=!!l.stroke,f.filled=!!l.fill,l.stroke?(o||(o=e._stroke=yr("stroke")),f.appendChild(o),o.weight=l.weight+"px",o.color=l.color,o.opacity=l.opacity,l.dashArray?o.dashStyle=T(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=l.lineCap.replace("butt","flat"),o.joinstyle=l.lineJoin):o&&(f.removeChild(o),e._stroke=null),l.fill?(a||(a=e._fill=yr("fill")),f.appendChild(a),a.color=l.fillColor||l.color,a.opacity=l.fillOpacity):a&&(f.removeChild(a),e._fill=null)},_updateCircle:function(e){var o=e._point.round(),a=Math.round(e._radius),l=Math.round(e._radiusY||a);this._setPath(e,e._empty()?"M0 0":"AL "+o.x+","+o.y+" "+a+","+l+" 0,"+65535*360)},_setPath:function(e,o){e._path.v=o},_bringToFront:function(e){bn(e._container)},_bringToBack:function(e){Mn(e._container)}},Ai=x.vml?yr:Nc,Dr=wt.extend({_initContainer:function(){this._container=Ai("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ai("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ne(this._container),X(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wt.prototype._update.call(this);var e=this._bounds,o=e.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,a.setAttribute("width",o.x),a.setAttribute("height",o.y)),le(a,e.min),a.setAttribute("viewBox",[e.min.x,e.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(e){var o=e._path=Ai("path");e.options.className&&j(o,e.options.className),e.options.interactive&&j(o,"leaflet-interactive"),this._updateStyle(e),this._layers[c(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ne(e._path),e.removeInteractiveTarget(e._path),delete this._layers[c(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var o=e._path,a=e.options;o&&(a.stroke?(o.setAttribute("stroke",a.color),o.setAttribute("stroke-opacity",a.opacity),o.setAttribute("stroke-width",a.weight),o.setAttribute("stroke-linecap",a.lineCap),o.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?o.setAttribute("stroke-dasharray",a.dashArray):o.removeAttribute("stroke-dasharray"),a.dashOffset?o.setAttribute("stroke-dashoffset",a.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),a.fill?(o.setAttribute("fill",a.fillColor||a.color),o.setAttribute("fill-opacity",a.fillOpacity),o.setAttribute("fill-rule",a.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(e,o){this._setPath(e,Lc(e._parts,o))},_updateCircle:function(e){var o=e._point,a=Math.max(Math.round(e._radius),1),l=Math.max(Math.round(e._radiusY),1)||a,f="a"+a+","+l+" 0 1,0 ",g=e._empty()?"M0 0":"M"+(o.x-a)+","+o.y+f+a*2+",0 "+f+-a*2+",0 ";this._setPath(e,g)},_setPath:function(e,o){e._path.setAttribute("d",o)},_bringToFront:function(e){bn(e._path)},_bringToBack:function(e){Mn(e._path)}});x.vml&&Dr.include(cm);function Ml(e){return x.svg||x.vml?new Dr(e):null}G.include({getRenderer:function(e){var o=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var o=this._paneRenderers[e];return o===void 0&&(o=this._createRenderer({pane:e}),this._paneRenderers[e]=o),o},_createRenderer:function(e){return this.options.preferCanvas&&bl(e)||Ml(e)}});var Sl=Nn.extend({initialize:function(e,o){Nn.prototype.initialize.call(this,this._boundsToLatLngs(e),o)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ce(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function lm(e,o){return new Sl(e,o)}Dr.create=Ai,Dr.pointsToPath=Lc,Et.geometryToLayer=Ti,Et.coordsToLatLng=zs,Et.coordsToLatLngs=bi,Et.latLngToCoords=Us,Et.latLngsToCoords=Mi,Et.getFeature=Ln,Et.asFeature=Si,G.mergeOptions({boxZoom:!0});var xl=at.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){B(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){X(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),dr(),Ts(),this._startPoint=this._map.mouseEventToContainerPoint(e),B(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=W("div","leaflet-zoom-box",this._container),j(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var o=new te(this._point,this._startPoint),a=o.getSize();le(this._box,o.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(ne(this._box),ae(this._container,"leaflet-crosshair")),fr(),bs(),X(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var o=new Te(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});G.addInitHook("addHandler","boxZoom",xl),G.mergeOptions({doubleClickZoom:!0});var Nl=at.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var o=this._map,a=o.getZoom(),l=o.options.zoomDelta,f=e.originalEvent.shiftKey?a-l:a+l;o.options.doubleClickZoom==="center"?o.setZoom(f):o.setZoomAround(e.containerPoint,f)}});G.addInitHook("addHandler","doubleClickZoom",Nl),G.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ll=at.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Nt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}j(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ae(this._map._container,"leaflet-grab"),ae(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=ce(this._map.options.maxBounds);this._offsetLimit=Ie(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var o=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(o),this._prunePositions(o)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,o){return e-(e-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;e.x<o.min.x&&(e.x=this._viscousLimit(e.x,o.min.x)),e.y<o.min.y&&(e.y=this._viscousLimit(e.y,o.min.y)),e.x>o.max.x&&(e.x=this._viscousLimit(e.x,o.max.x)),e.y>o.max.y&&(e.y=this._viscousLimit(e.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,o=Math.round(e/2),a=this._initialWorldOffset,l=this._draggable._newPos.x,f=(l-o+a)%e+o-a,g=(l+o+a)%e-o-a,v=Math.abs(f+a)<Math.abs(g+a)?f:g;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(e){var o=this._map,a=o.options,l=!a.inertia||e.noInertia||this._times.length<2;if(o.fire("dragend",e),l)o.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),g=(this._lastTime-this._times[0])/1e3,v=a.easeLinearity,D=f.multiplyBy(v/g),w=D.distanceTo([0,0]),C=Math.min(a.inertiaMaxSpeed,w),M=D.multiplyBy(C/w),A=C/(a.inertiaDeceleration*v),H=M.multiplyBy(-A/2).round();!H.x&&!H.y?o.fire("moveend"):(H=o._limitOffset(H,o.options.maxBounds),Ce(function(){o.panBy(H,{duration:A,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});G.addInitHook("addHandler","dragging",Ll),G.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Al=at.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),B(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),X(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,o=document.documentElement,a=e.scrollTop||o.scrollTop,l=e.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(l,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var o=this._panKeys={},a=this.keyCodes,l,f;for(l=0,f=a.left.length;l<f;l++)o[a.left[l]]=[-1*e,0];for(l=0,f=a.right.length;l<f;l++)o[a.right[l]]=[e,0];for(l=0,f=a.down.length;l<f;l++)o[a.down[l]]=[0,e];for(l=0,f=a.up.length;l<f;l++)o[a.up[l]]=[0,-1*e]},_setZoomDelta:function(e){var o=this._zoomKeys={},a=this.keyCodes,l,f;for(l=0,f=a.zoomIn.length;l<f;l++)o[a.zoomIn[l]]=e;for(l=0,f=a.zoomOut.length;l<f;l++)o[a.zoomOut[l]]=-e},_addHooks:function(){B(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){X(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var o=e.keyCode,a=this._map,l;if(o in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(l=this._panKeys[o],e.shiftKey&&(l=O(l).multiplyBy(3)),a.options.maxBounds&&(l=a._limitOffset(O(l),a.options.maxBounds)),a.options.worldCopyJump){var f=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(l)));a.panTo(f)}else a.panBy(l)}else if(o in this._zoomKeys)a.setZoom(a.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;Zt(e)}}});G.addInitHook("addHandler","keyboard",Al),G.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pl=at.extend({addHooks:function(){B(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){X(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var o=rl(e),a=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var l=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),l),Zt(e)},_performZoom:function(){var e=this._map,o=e.getZoom(),a=this._map.options.zoomSnap||0;e._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,g=a?Math.ceil(f/a)*a:f,v=e._limitZoom(o+(this._delta>0?g:-g))-o;this._delta=0,this._startTime=null,v&&(e.options.scrollWheelZoom==="center"?e.setZoom(o+v):e.setZoomAround(this._lastMousePos,o+v))}});G.addInitHook("addHandler","scrollWheelZoom",Pl);var dm=600;G.mergeOptions({tapHold:x.touchNative&&x.safari&&x.mobile,tapTolerance:15});var Ol=at.extend({addHooks:function(){B(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){X(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var o=e.touches[0];this._startPos=this._newPos=new F(o.clientX,o.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(B(document,"touchend",he),B(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),dm),B(document,"touchend touchcancel contextmenu",this._cancel,this),B(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){X(document,"touchend",he),X(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),X(document,"touchend touchcancel contextmenu",this._cancel,this),X(document,"touchmove",this._onMove,this)},_onMove:function(e){var o=e.touches[0];this._newPos=new F(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,o){var a=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});a._simulated=!0,o.target.dispatchEvent(a)}});G.addInitHook("addHandler","tapHold",Ol),G.mergeOptions({touchZoom:x.touch,bounceAtZoomLimits:!0});var Rl=at.extend({addHooks:function(){j(this._map._container,"leaflet-touch-zoom"),B(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ae(this._map._container,"leaflet-touch-zoom"),X(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var o=this._map;if(!(!e.touches||e.touches.length!==2||o._animatingZoom||this._zooming)){var a=o.mouseEventToContainerPoint(e.touches[0]),l=o.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(a.add(l)._divideBy(2))),this._startDist=a.distanceTo(l),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),B(document,"touchmove",this._onTouchMove,this),B(document,"touchend touchcancel",this._onTouchEnd,this),he(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var o=this._map,a=o.mouseEventToContainerPoint(e.touches[0]),l=o.mouseEventToContainerPoint(e.touches[1]),f=a.distanceTo(l)/this._startDist;if(this._zoom=o.getScaleZoom(f,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&f<1||this._zoom>o.getMaxZoom()&&f>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var g=a._add(l)._divideBy(2)._subtract(this._centerPoint);if(f===1&&g.x===0&&g.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(g),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),je(this._animRequest);var v=s(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ce(v,this,!0),he(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,je(this._animRequest),X(document,"touchmove",this._onTouchMove,this),X(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});G.addInitHook("addHandler","touchZoom",Rl),G.BoxZoom=xl,G.DoubleClickZoom=Nl,G.Drag=Ll,G.Keyboard=Al,G.ScrollWheelZoom=Pl,G.TapHold=Ol,G.TouchZoom=Rl,t.Bounds=te,t.Browser=x,t.CRS=vt,t.Canvas=Tl,t.Circle=Hs,t.CircleMarker=Ii,t.Class=_t,t.Control=qe,t.DivIcon=wl,t.DivOverlay=ut,t.DomEvent=xg,t.DomUtil=Mg,t.Draggable=Nt,t.Evented=sr,t.FeatureGroup=yt,t.GeoJSON=Et,t.GridLayer=vr,t.Handler=at,t.Icon=xn,t.ImageOverlay=xi,t.LatLng=K,t.LatLngBounds=Te,t.Layer=Ye,t.LayerGroup=Sn,t.LineUtil=zg,t.Map=G,t.Marker=Ci,t.Mixin=kg,t.Path=Lt,t.Point=F,t.PolyUtil=Fg,t.Polygon=Nn,t.Polyline=Dt,t.Popup=Ni,t.PosAnimation=il,t.Projection=Ug,t.Rectangle=Sl,t.Renderer=wt,t.SVG=Dr,t.SVGOverlay=El,t.TileLayer=An,t.Tooltip=Li,t.Transformation=hs,t.Util=Yp,t.VideoOverlay=Dl,t.bind=s,t.bounds=Ie,t.canvas=bl,t.circle=Qg,t.circleMarker=Kg,t.control=gr,t.divIcon=sm,t.extend=r,t.featureGroup=Wg,t.geoJSON=yl,t.geoJson=em,t.gridLayer=am,t.icon=qg,t.imageOverlay=tm,t.latLng=Z,t.latLngBounds=ce,t.layerGroup=Gg,t.map=Ng,t.marker=Yg,t.point=O,t.polygon=Xg,t.polyline=Jg,t.popup=im,t.rectangle=lm,t.setOptions=y,t.stamp=c,t.svg=Ml,t.svgOverlay=rm,t.tileLayer=Cl,t.tooltip=om,t.transformation=ar,t.version=n,t.videoOverlay=nm;var fm=window.L;t.noConflict=function(){return window.L=fm,this},window.L=t})});var qp=zl((cs,Wp)=>{"use strict";(function(t,n){typeof cs=="object"&&typeof Wp<"u"?n(cs):typeof define=="function"&&define.amd?define(["exports"],n):(t=t||self,n((t.Leaflet=t.Leaflet||{},t.Leaflet.markercluster={})))})(cs,function(t){"use strict";var n=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(i){L.Util.setOptions(this,i),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var s=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,s?this._withAnimation:this._noAnimation),this._markerCluster=s?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(i){if(i instanceof L.LayerGroup)return this.addLayers([i]);if(!i.getLatLng)return this._nonPointGroup.addLayer(i),this.fire("layeradd",{layer:i}),this;if(!this._map)return this._needsClustering.push(i),this.fire("layeradd",{layer:i}),this;if(this.hasLayer(i))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(i,this._maxZoom),this.fire("layeradd",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var s=i,u=this._zoom;if(i.__parent)for(;s.__parent._zoom>=u;)s=s.__parent;return this._currentShownBounds.contains(s.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(i,s):this._animationAddLayerNonAnimated(i,s)),this},removeLayer:function(i){return i instanceof L.LayerGroup?this.removeLayers([i]):i.getLatLng?this._map?i.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(i)),this._removeLayer(i,!0),this.fire("layerremove",{layer:i}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),i.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(i)&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,i)&&this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}),this):(this._nonPointGroup.removeLayer(i),this.fire("layerremove",{layer:i}),this)},addLayers:function(i,s){if(!L.Util.isArray(i))return this.addLayer(i);var u=this._featureGroup,c=this._nonPointGroup,d=this.options.chunkedLoading,h=this.options.chunkInterval,p=this.options.chunkProgress,m=i.length,_=0,E=!0,y;if(this._map){var S=new Date().getTime(),I=L.bind(function(){var T=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();_<m;_++){if(d&&_%200===0){var ie=new Date().getTime()-T;if(ie>h)break}if(y=i[_],y instanceof L.LayerGroup){E&&(i=i.slice(),E=!1),this._extractNonGroupLayers(y,i),m=i.length;continue}if(!y.getLatLng){c.addLayer(y),s||this.fire("layeradd",{layer:y});continue}if(!this.hasLayer(y)&&(this._addLayer(y,this._maxZoom),s||this.fire("layeradd",{layer:y}),y.__parent&&y.__parent.getChildCount()===2)){var ue=y.__parent.getAllChildMarkers(),oe=ue[0]===y?ue[1]:ue[0];u.removeLayer(oe)}}p&&p(_,m,new Date().getTime()-S),_===m?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(I,this.options.chunkDelay)},this);I()}else for(var b=this._needsClustering;_<m;_++){if(y=i[_],y instanceof L.LayerGroup){E&&(i=i.slice(),E=!1),this._extractNonGroupLayers(y,i),m=i.length;continue}if(!y.getLatLng){c.addLayer(y);continue}this.hasLayer(y)||b.push(y)}return this},removeLayers:function(i){var s,u,c=i.length,d=this._featureGroup,h=this._nonPointGroup,p=!0;if(!this._map){for(s=0;s<c;s++){if(u=i[s],u instanceof L.LayerGroup){p&&(i=i.slice(),p=!1),this._extractNonGroupLayers(u,i),c=i.length;continue}this._arraySplice(this._needsClustering,u),h.removeLayer(u),this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u})}return this}if(this._unspiderfy){this._unspiderfy();var m=i.slice(),_=c;for(s=0;s<_;s++){if(u=m[s],u instanceof L.LayerGroup){this._extractNonGroupLayers(u,m),_=m.length;continue}this._unspiderfyLayer(u)}}for(s=0;s<c;s++){if(u=i[s],u instanceof L.LayerGroup){p&&(i=i.slice(),p=!1),this._extractNonGroupLayers(u,i),c=i.length;continue}if(!u.__parent){h.removeLayer(u),this.fire("layerremove",{layer:u});continue}this._removeLayer(u,!0,!0),this.fire("layerremove",{layer:u}),d.hasLayer(u)&&(d.removeLayer(u),u.clusterShow&&u.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(i){i.off(this._childMarkerEventHandlers,this),delete i.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var i=new L.LatLngBounds;this._topClusterLevel&&i.extend(this._topClusterLevel._bounds);for(var s=this._needsClustering.length-1;s>=0;s--)i.extend(this._needsClustering[s].getLatLng());return i.extend(this._nonPointGroup.getBounds()),i},eachLayer:function(i,s){var u=this._needsClustering.slice(),c=this._needsRemoving,d,h,p;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(u),h=u.length-1;h>=0;h--){for(d=!0,p=c.length-1;p>=0;p--)if(c[p].layer===u[h]){d=!1;break}d&&i.call(s,u[h])}this._nonPointGroup.eachLayer(i,s)},getLayers:function(){var i=[];return this.eachLayer(function(s){i.push(s)}),i},getLayer:function(i){var s=null;return i=parseInt(i,10),this.eachLayer(function(u){L.stamp(u)===i&&(s=u)}),s},hasLayer:function(i){if(!i)return!1;var s,u=this._needsClustering;for(s=u.length-1;s>=0;s--)if(u[s]===i)return!0;for(u=this._needsRemoving,s=u.length-1;s>=0;s--)if(u[s].layer===i)return!1;return!!(i.__parent&&i.__parent._group===this)||this._nonPointGroup.hasLayer(i)},zoomToShowLayer:function(i,s){var u=this._map;typeof s!="function"&&(s=function(){});var c=function(){(u.hasLayer(i)||u.hasLayer(i.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",c,this),this.off("animationend",c,this),u.hasLayer(i)?s():i.__parent._icon&&(this.once("spiderfied",s,this),i.__parent.spiderfy()))};i._icon&&this._map.getBounds().contains(i.getLatLng())?s():i.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",c,this),this._map.panTo(i.getLatLng())):(this._map.on("moveend",c,this),this.on("animationend",c,this),i.__parent.zoomToBounds())},onAdd:function(i){this._map=i;var s,u,c;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(i),this._nonPointGroup.addTo(i),this._gridClusters||this._generateInitialClusters(),this._maxLat=i.options.crs.projection.MAX_LATITUDE,s=0,u=this._needsRemoving.length;s<u;s++)c=this._needsRemoving[s],c.newlatlng=c.layer._latlng,c.layer._latlng=c.latlng;for(s=0,u=this._needsRemoving.length;s<u;s++)c=this._needsRemoving[s],this._removeLayer(c.layer,!0),c.layer._latlng=c.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),u=this._needsClustering,this._needsClustering=[],this.addLayers(u,!0)},onRemove:function(i){i.off("zoomend",this._zoomEnd,this),i.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(i){for(var s=i;s&&!s._icon;)s=s.__parent;return s||null},_arraySplice:function(i,s){for(var u=i.length-1;u>=0;u--)if(i[u]===s)return i.splice(u,1),!0},_removeFromGridUnclustered:function(i,s){for(var u=this._map,c=this._gridUnclustered,d=Math.floor(this._map.getMinZoom());s>=d&&c[s].removeObject(i,u.project(i.getLatLng(),s));s--);},_childMarkerDragStart:function(i){i.target.__dragStart=i.target._latlng},_childMarkerMoved:function(i){if(!this._ignoreMove&&!i.target.__dragStart){var s=i.target._popup&&i.target._popup.isOpen();this._moveChild(i.target,i.oldLatLng,i.latlng),s&&i.target.openPopup()}},_moveChild:function(i,s,u){i._latlng=s,this.removeLayer(i),i._latlng=u,this.addLayer(i)},_childMarkerDragEnd:function(i){var s=i.target.__dragStart;delete i.target.__dragStart,s&&this._moveChild(i.target,s,i.target._latlng)},_removeLayer:function(i,s,u){var c=this._gridClusters,d=this._gridUnclustered,h=this._featureGroup,p=this._map,m=Math.floor(this._map.getMinZoom());s&&this._removeFromGridUnclustered(i,this._maxZoom);var _=i.__parent,E=_._markers,y;for(this._arraySplice(E,i);_&&(_._childCount--,_._boundsNeedUpdate=!0,!(_._zoom<m));)s&&_._childCount<=1?(y=_._markers[0]===i?_._markers[1]:_._markers[0],c[_._zoom].removeObject(_,p.project(_._cLatLng,_._zoom)),d[_._zoom].addObject(y,p.project(y.getLatLng(),_._zoom)),this._arraySplice(_.__parent._childClusters,_),_.__parent._markers.push(y),y.__parent=_.__parent,_._icon&&(h.removeLayer(_),u||h.addLayer(y))):_._iconNeedsUpdate=!0,_=_.__parent;delete i.__parent},_isOrIsParent:function(i,s){for(;s;){if(i===s)return!0;s=s.parentNode}return!1},fire:function(i,s,u){if(s&&s.layer instanceof L.MarkerCluster){if(s.originalEvent&&this._isOrIsParent(s.layer._icon,s.originalEvent.relatedTarget))return;i="cluster"+i}L.FeatureGroup.prototype.fire.call(this,i,s,u)},listens:function(i,s){return L.FeatureGroup.prototype.listens.call(this,i,s)||L.FeatureGroup.prototype.listens.call(this,"cluster"+i,s)},_defaultIconCreateFunction:function(i){var s=i.getChildCount(),u=" marker-cluster-";return s<10?u+="small":s<100?u+="medium":u+="large",new L.DivIcon({html:"<div><span>"+s+"</span></div>",className:"marker-cluster"+u,iconSize:new L.Point(40,40)})},_bindEvents:function(){var i=this._map,s=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,d=this.options.spiderfyOnEveryZoom;(s||c||d)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),i.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(i){var s=i.layer,u=s;if(!(i.type==="clusterkeypress"&&i.originalEvent&&i.originalEvent.keyCode!==13)){for(;u._childClusters.length===1;)u=u._childClusters[0];u._zoom===this._maxZoom&&u._childCount===s._childCount&&this.options.spiderfyOnMaxZoom?s.spiderfy():this.options.zoomToBoundsOnClick&&s.zoomToBounds(),this.options.spiderfyOnEveryZoom&&s.spiderfy(),i.originalEvent&&i.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(i){var s=this._map;this._inZoomAnimation||(this._shownPolygon&&s.removeLayer(this._shownPolygon),i.layer.getChildCount()>2&&i.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(i.layer.getConvexHull(),this.options.polygonOptions),s.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var i=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom,d=this._map;(i||u||c)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),d.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var i=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,i),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),i),this._currentShownBounds=i}},_generateInitialClusters:function(){var i=Math.ceil(this._map.getMaxZoom()),s=Math.floor(this._map.getMinZoom()),u=this.options.maxClusterRadius,c=u;typeof u!="function"&&(c=function(){return u}),this.options.disableClusteringAtZoom!==null&&(i=this.options.disableClusteringAtZoom-1),this._maxZoom=i,this._gridClusters={},this._gridUnclustered={};for(var d=i;d>=s;d--)this._gridClusters[d]=new L.DistanceGrid(c(d)),this._gridUnclustered[d]=new L.DistanceGrid(c(d));this._topClusterLevel=new this._markerCluster(this,s-1)},_addLayer:function(i,s){var u=this._gridClusters,c=this._gridUnclustered,d=Math.floor(this._map.getMinZoom()),h,p;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(i),i.on(this._childMarkerEventHandlers,this);s>=d;s--){h=this._map.project(i.getLatLng(),s);var m=u[s].getNearObject(h);if(m){m._addChild(i),i.__parent=m;return}if(m=c[s].getNearObject(h),m){var _=m.__parent;_&&this._removeLayer(m,!1);var E=new this._markerCluster(this,s,m,i);u[s].addObject(E,this._map.project(E._cLatLng,s)),m.__parent=E,i.__parent=E;var y=E;for(p=s-1;p>_._zoom;p--)y=new this._markerCluster(this,p,y),u[p].addObject(y,this._map.project(m.getLatLng(),p));_._addChild(y),this._removeFromGridUnclustered(m,s);return}c[s].addObject(i,h)}this._topClusterLevel._addChild(i),i.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(i){i instanceof L.MarkerCluster&&i._iconNeedsUpdate&&i._updateIcon()})},_enqueue:function(i){this._queue.push(i),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var i=0;i<this._queue.length;i++)this._queue[i].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var i=Math.round(this._map._zoom);this._processQueue(),this._zoom<i&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,i)):this._zoom>i?(this._animationStart(),this._animationZoomOut(this._zoom,i)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(i){var s=this._maxLat;return s!==void 0&&(i.getNorth()>=s&&(i._northEast.lat=1/0),i.getSouth()<=-s&&(i._southWest.lat=-1/0)),i},_animationAddLayerNonAnimated:function(i,s){if(s===i)this._featureGroup.addLayer(i);else if(s._childCount===2){s._addToMap();var u=s.getAllChildMarkers();this._featureGroup.removeLayer(u[0]),this._featureGroup.removeLayer(u[1])}else s._updateIcon()},_extractNonGroupLayers:function(i,s){var u=i.getLayers(),c=0,d;for(s=s||[];c<u.length;c++){if(d=u[c],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,s);continue}s.push(d)}return s},_overrideMarkerIcon:function(i){var s=i.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[i]}});return s}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(i,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(i,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(i,s){this._animationAddLayerNonAnimated(i,s)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(i,s){var u=this._getExpandedVisibleBounds(),c=this._featureGroup,d=Math.floor(this._map.getMinZoom()),h;this._ignoreMove=!0,this._topClusterLevel._recursively(u,i,d,function(p){var m=p._latlng,_=p._markers,E;for(u.contains(m)||(m=null),p._isSingleParent()&&i+1===s?(c.removeLayer(p),p._recursivelyAddChildrenToMap(null,s,u)):(p.clusterHide(),p._recursivelyAddChildrenToMap(m,s,u)),h=_.length-1;h>=0;h--)E=_[h],u.contains(E._latlng)||c.removeLayer(E)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(u,s),c.eachLayer(function(p){!(p instanceof L.MarkerCluster)&&p._icon&&p.clusterShow()}),this._topClusterLevel._recursively(u,i,s,function(p){p._recursivelyRestoreChildPositions(s)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(u,i,d,function(p){c.removeLayer(p),p.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(i,s){this._animationZoomOutSingle(this._topClusterLevel,i-1,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),i,this._getExpandedVisibleBounds())},_animationAddLayer:function(i,s){var u=this,c=this._featureGroup;c.addLayer(i),s!==i&&(s._childCount>2?(s._updateIcon(),this._forceLayout(),this._animationStart(),i._setPos(this._map.latLngToLayerPoint(s.getLatLng())),i.clusterHide(),this._enqueue(function(){c.removeLayer(i),i.clusterShow(),u._animationEnd()})):(this._forceLayout(),u._animationStart(),u._animationZoomOutSingle(s,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(i,s,u){var c=this._getExpandedVisibleBounds(),d=Math.floor(this._map.getMinZoom());i._recursivelyAnimateChildrenInAndAddSelfToMap(c,d,s+1,u);var h=this;this._forceLayout(),i._recursivelyBecomeVisible(c,u),this._enqueue(function(){if(i._childCount===1){var p=i._markers[0];this._ignoreMove=!0,p.setLatLng(p.getLatLng()),this._ignoreMove=!1,p.clusterShow&&p.clusterShow()}else i._recursively(c,u,d,function(m){m._recursivelyRemoveChildrenFromMap(c,d,s+1)});h._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(i){return new L.MarkerClusterGroup(i)};var r=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(i,s,u,c){L.Marker.prototype.initialize.call(this,u?u._cLatLng||u.getLatLng():new L.LatLng(0,0),{icon:this,pane:i.options.clusterPane}),this._group=i,this._zoom=s,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,u&&this._addChild(u),c&&this._addChild(c)},getAllChildMarkers:function(i,s){i=i||[];for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u].getAllChildMarkers(i,s);for(var c=this._markers.length-1;c>=0;c--)s&&this._markers[c].__dragStart||i.push(this._markers[c]);return i},getChildCount:function(){return this._childCount},zoomToBounds:function(i){for(var s=this._childClusters.slice(),u=this._group._map,c=u.getBoundsZoom(this._bounds),d=this._zoom+1,h=u.getZoom(),p;s.length>0&&c>d;){d++;var m=[];for(p=0;p<s.length;p++)m=m.concat(s[p]._childClusters);s=m}c>d?this._group._map.setView(this._latlng,d):c<=h?this._group._map.setView(this._latlng,h+1):this._group._map.fitBounds(this._bounds,i)},getBounds:function(){var i=new L.LatLngBounds;return i.extend(this._bounds),i},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(i,s){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(i),i instanceof L.MarkerCluster?(s||(this._childClusters.push(i),i.__parent=this),this._childCount+=i._childCount):(s||this._markers.push(i),this._childCount++),this.__parent&&this.__parent._addChild(i,!0)},_setClusterCenter:function(i){this._cLatLng||(this._cLatLng=i._cLatLng||i._latlng)},_resetBounds:function(){var i=this._bounds;i._southWest&&(i._southWest.lat=1/0,i._southWest.lng=1/0),i._northEast&&(i._northEast.lat=-1/0,i._northEast.lng=-1/0)},_recalculateBounds:function(){var i=this._markers,s=this._childClusters,u=0,c=0,d=this._childCount,h,p,m,_;if(d!==0){for(this._resetBounds(),h=0;h<i.length;h++)m=i[h]._latlng,this._bounds.extend(m),u+=m.lat,c+=m.lng;for(h=0;h<s.length;h++)p=s[h],p._boundsNeedUpdate&&p._recalculateBounds(),this._bounds.extend(p._bounds),m=p._wLatLng,_=p._childCount,u+=m.lat*_,c+=m.lng*_;this._latlng=this._wLatLng=new L.LatLng(u/d,c/d),this._boundsNeedUpdate=!1}},_addToMap:function(i){i&&(this._backupLatlng=this._latlng,this.setLatLng(i)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(i,s,u){this._recursively(i,this._group._map.getMinZoom(),u-1,function(c){var d=c._markers,h,p;for(h=d.length-1;h>=0;h--)p=d[h],p._icon&&(p._setPos(s),p.clusterHide())},function(c){var d=c._childClusters,h,p;for(h=d.length-1;h>=0;h--)p=d[h],p._icon&&(p._setPos(s),p.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(i,s,u,c){this._recursively(i,c,s,function(d){d._recursivelyAnimateChildrenIn(i,d._group._map.latLngToLayerPoint(d.getLatLng()).round(),u),d._isSingleParent()&&u-1===c?(d.clusterShow(),d._recursivelyRemoveChildrenFromMap(i,s,u)):d.clusterHide(),d._addToMap()})},_recursivelyBecomeVisible:function(i,s){this._recursively(i,this._group._map.getMinZoom(),s,null,function(u){u.clusterShow()})},_recursivelyAddChildrenToMap:function(i,s,u){this._recursively(u,this._group._map.getMinZoom()-1,s,function(c){if(s!==c._zoom)for(var d=c._markers.length-1;d>=0;d--){var h=c._markers[d];u.contains(h._latlng)&&(i&&(h._backupLatlng=h.getLatLng(),h.setLatLng(i),h.clusterHide&&h.clusterHide()),c._group._featureGroup.addLayer(h))}},function(c){c._addToMap(i)})},_recursivelyRestoreChildPositions:function(i){for(var s=this._markers.length-1;s>=0;s--){var u=this._markers[s];u._backupLatlng&&(u.setLatLng(u._backupLatlng),delete u._backupLatlng)}if(i-1===this._zoom)for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._restorePosition();else for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d]._recursivelyRestoreChildPositions(i)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(i,s,u,c){var d,h;this._recursively(i,s-1,u-1,function(p){for(h=p._markers.length-1;h>=0;h--)d=p._markers[h],(!c||!c.contains(d._latlng))&&(p._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())},function(p){for(h=p._childClusters.length-1;h>=0;h--)d=p._childClusters[h],(!c||!c.contains(d._latlng))&&(p._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())})},_recursively:function(i,s,u,c,d){var h=this._childClusters,p=this._zoom,m,_;if(s<=p&&(c&&c(this),d&&p===u&&d(this)),p<s||p<u)for(m=h.length-1;m>=0;m--)_=h[m],_._boundsNeedUpdate&&_._recalculateBounds(),i.intersects(_._bounds)&&_._recursively(i,s,u,c,d)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var i=this.options.opacity;return this.setOpacity(0),this.options.opacity=i,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(i){this._cellSize=i,this._sqCellSize=i*i,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(i,s){var u=this._getCoord(s.x),c=this._getCoord(s.y),d=this._grid,h=d[c]=d[c]||{},p=h[u]=h[u]||[],m=L.Util.stamp(i);this._objectPoint[m]=s,p.push(i)},updateObject:function(i,s){this.removeObject(i),this.addObject(i,s)},removeObject:function(i,s){var u=this._getCoord(s.x),c=this._getCoord(s.y),d=this._grid,h=d[c]=d[c]||{},p=h[u]=h[u]||[],m,_;for(delete this._objectPoint[L.Util.stamp(i)],m=0,_=p.length;m<_;m++)if(p[m]===i)return p.splice(m,1),_===1&&delete h[u],!0},eachObject:function(i,s){var u,c,d,h,p,m,_,E=this._grid;for(u in E){p=E[u];for(c in p)for(m=p[c],d=0,h=m.length;d<h;d++)_=i.call(s,m[d]),_&&(d--,h--)}},getNearObject:function(i){var s=this._getCoord(i.x),u=this._getCoord(i.y),c,d,h,p,m,_,E,y,S=this._objectPoint,I=this._sqCellSize,b=null;for(c=u-1;c<=u+1;c++)if(p=this._grid[c],p){for(d=s-1;d<=s+1;d++)if(m=p[d],m)for(h=0,_=m.length;h<_;h++)E=m[h],y=this._sqDist(S[L.Util.stamp(E)],i),(y<I||y<=I&&b===null)&&(I=y,b=E)}return b},_getCoord:function(i){var s=Math.floor(i/this._cellSize);return isFinite(s)?s:i},_sqDist:function(i,s){var u=s.x-i.x,c=s.y-i.y;return u*u+c*c}},(function(){L.QuickHull={getDistant:function(i,s){var u=s[1].lat-s[0].lat,c=s[0].lng-s[1].lng;return c*(i.lat-s[0].lat)+u*(i.lng-s[0].lng)},findMostDistantPointFromBaseLine:function(i,s){var u=0,c=null,d=[],h,p,m;for(h=s.length-1;h>=0;h--){if(p=s[h],m=this.getDistant(p,i),m>0)d.push(p);else continue;m>u&&(u=m,c=p)}return{maxPoint:c,newPoints:d}},buildConvexHull:function(i,s){var u=[],c=this.findMostDistantPointFromBaseLine(i,s);return c.maxPoint?(u=u.concat(this.buildConvexHull([i[0],c.maxPoint],c.newPoints)),u=u.concat(this.buildConvexHull([c.maxPoint,i[1]],c.newPoints)),u):[i[0]]},getConvexHull:function(i){var s=!1,u=!1,c=!1,d=!1,h=null,p=null,m=null,_=null,E=null,y=null,S;for(S=i.length-1;S>=0;S--){var I=i[S];(s===!1||I.lat>s)&&(h=I,s=I.lat),(u===!1||I.lat<u)&&(p=I,u=I.lat),(c===!1||I.lng>c)&&(m=I,c=I.lng),(d===!1||I.lng<d)&&(_=I,d=I.lng)}u!==s?(y=p,E=h):(y=_,E=m);var b=[].concat(this.buildConvexHull([y,E],i),this.buildConvexHull([E,y],i));return b}}})(),L.MarkerCluster.include({getConvexHull:function(){var i=this.getAllChildMarkers(),s=[],u,c;for(c=i.length-1;c>=0;c--)u=i[c].getLatLng(),s.push(u);return L.QuickHull.getConvexHull(s)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var i=this.getAllChildMarkers(null,!0),s=this._group,u=s._map,c=u.latLngToLayerPoint(this._latlng),d;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?d=this._group.options.spiderfyShapePositions(i.length,c):i.length>=this._circleSpiralSwitchover?d=this._generatePointsSpiral(i.length,c):(c.y+=10,d=this._generatePointsCircle(i.length,c)),this._animationSpiderfy(i,d)}},unspiderfy:function(i){this._group._inZoomAnimation||(this._animationUnspiderfy(i),this._group._spiderfied=null)},_generatePointsCircle:function(i,s){var u=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+i),c=u/this._2PI,d=this._2PI/i,h=[],p,m;for(c=Math.max(c,35),h.length=i,p=0;p<i;p++)m=this._circleStartAngle+p*d,h[p]=new L.Point(s.x+c*Math.cos(m),s.y+c*Math.sin(m))._round();return h},_generatePointsSpiral:function(i,s){var u=this._group.options.spiderfyDistanceMultiplier,c=u*this._spiralLengthStart,d=u*this._spiralFootSeparation,h=u*this._spiralLengthFactor*this._2PI,p=0,m=[],_;for(m.length=i,_=i;_>=0;_--)_<i&&(m[_]=new L.Point(s.x+c*Math.cos(p),s.y+c*Math.sin(p))._round()),p+=d/c+_*5e-4,c+=h/p;return m},_noanimationUnspiderfy:function(){var i=this._group,s=i._map,u=i._featureGroup,c=this.getAllChildMarkers(null,!0),d,h;for(i._ignoreMove=!0,this.setOpacity(1),h=c.length-1;h>=0;h--)d=c[h],u.removeLayer(d),d._preSpiderfyLatlng&&(d.setLatLng(d._preSpiderfyLatlng),delete d._preSpiderfyLatlng),d.setZIndexOffset&&d.setZIndexOffset(0),d._spiderLeg&&(s.removeLayer(d._spiderLeg),delete d._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:c}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(i,s){var u=this._group,c=u._map,d=u._featureGroup,h=this._group.options.spiderLegPolylineOptions,p,m,_,E;for(u._ignoreMove=!0,p=0;p<i.length;p++)E=c.layerPointToLatLng(s[p]),m=i[p],_=new L.Polyline([this._latlng,E],h),c.addLayer(_),m._spiderLeg=_,m._preSpiderfyLatlng=m._latlng,m.setLatLng(E),m.setZIndexOffset&&m.setZIndexOffset(1e6),d.addLayer(m);this.setOpacity(.3),u._ignoreMove=!1,u.fire("spiderfied",{cluster:this,markers:i})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(i,s){var u=this,c=this._group,d=c._map,h=c._featureGroup,p=this._latlng,m=d.latLngToLayerPoint(p),_=L.Path.SVG,E=L.extend({},this._group.options.spiderLegPolylineOptions),y=E.opacity,S,I,b,T,ie,ue;for(y===void 0&&(y=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),_?(E.opacity=0,E.className=(E.className||"")+" leaflet-cluster-spider-leg"):E.opacity=y,c._ignoreMove=!0,S=0;S<i.length;S++)I=i[S],ue=d.layerPointToLatLng(s[S]),b=new L.Polyline([p,ue],E),d.addLayer(b),I._spiderLeg=b,_&&(T=b._path,ie=T.getTotalLength()+.1,T.style.strokeDasharray=ie,T.style.strokeDashoffset=ie),I.setZIndexOffset&&I.setZIndexOffset(1e6),I.clusterHide&&I.clusterHide(),h.addLayer(I),I._setPos&&I._setPos(m);for(c._forceLayout(),c._animationStart(),S=i.length-1;S>=0;S--)ue=d.layerPointToLatLng(s[S]),I=i[S],I._preSpiderfyLatlng=I._latlng,I.setLatLng(ue),I.clusterShow&&I.clusterShow(),_&&(b=I._spiderLeg,T=b._path,T.style.strokeDashoffset=0,b.setStyle({opacity:y}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:u,markers:i})},200)},_animationUnspiderfy:function(i){var s=this,u=this._group,c=u._map,d=u._featureGroup,h=i?c._latLngToNewLayerPoint(this._latlng,i.zoom,i.center):c.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),m=L.Path.SVG,_,E,y,S,I,b;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),E=p.length-1;E>=0;E--)_=p[E],_._preSpiderfyLatlng&&(_.closePopup(),_.setLatLng(_._preSpiderfyLatlng),delete _._preSpiderfyLatlng,b=!0,_._setPos&&(_._setPos(h),b=!1),_.clusterHide&&(_.clusterHide(),b=!1),b&&d.removeLayer(_),m&&(y=_._spiderLeg,S=y._path,I=S.getTotalLength()+.1,S.style.strokeDashoffset=I,y.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var T=0;for(E=p.length-1;E>=0;E--)_=p[E],_._spiderLeg&&T++;for(E=p.length-1;E>=0;E--)_=p[E],_._spiderLeg&&(_.clusterShow&&_.clusterShow(),_.setZIndexOffset&&_.setZIndexOffset(0),T>1&&d.removeLayer(_),c.removeLayer(_._spiderLeg),delete _._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:s,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(i){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(i))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(i){this._spiderfied&&this._spiderfied.unspiderfy(i)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(i){i._spiderLeg&&(this._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow(),i.setZIndexOffset&&i.setZIndexOffset(0),this._map.removeLayer(i._spiderLeg),delete i._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(i){return i?i instanceof L.MarkerClusterGroup?i=i._topClusterLevel.getAllChildMarkers():i instanceof L.LayerGroup?i=i._layers:i instanceof L.MarkerCluster?i=i.getAllChildMarkers():i instanceof L.Marker&&(i=[i]):i=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(i),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(i),this},_flagParentsIconsNeedUpdate:function(i){var s,u;for(s in i)for(u=i[s].__parent;u;)u._iconNeedsUpdate=!0,u=u.__parent},_refreshSingleMarkerModeMarkers:function(i){var s,u;for(s in i)u=i[s],this.hasLayer(u)&&u.setIcon(this._overrideMarkerIcon(u))}}),L.Marker.include({refreshIconOptions:function(i,s){var u=this.options.icon;return L.setOptions(u,i),this.setIcon(u),s&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=n,t.MarkerCluster=r,Object.defineProperty(t,"__esModule",{value:!0})})});var qs;function Oi(){return qs}function lt(t){let n=qs;return qs=t,n}var Ul=Symbol("NotFound");function On(t){return t===Ul||t?.name==="\u0275NotFound"}var Ys=null;var $l=1;var Zl=Symbol("SIGNAL");function U(t){let n=Ys;return Ys=t,n}function Qs(){return Ys}var Js={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gl(t){if(!(Ri(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===$l)){if(!t.producerMustRecompute(t)&&!ea(t)){Ks(t);return}t.producerRecomputeValue(t),Ks(t)}}function Ks(t){t.dirty=!1,t.lastCleanEpoch=$l}function Xs(t){return t&&Wl(t),U(t)}function Wl(t){t.producersTail=void 0,t.recomputing=!0}function ql(t,n){U(n),t&&Yl(t)}function Yl(t){t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(Ri(t))do r=na(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function ea(t){for(let n=t.producers;n!==void 0;n=n.nextProducer){let r=n.producer,i=n.lastReadVersion;if(i!==r.version||(Gl(r),i!==r.version))return!0}return!1}function ta(t){if(Ri(t)){let n=t.producers;for(;n!==void 0;)n=na(n)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function na(t){let n=t.producer,r=t.nextProducer,i=t.nextConsumer,s=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,i!==void 0?i.prevConsumer=s:n.consumersTail=s,s!==void 0)s.nextConsumer=i;else if(n.consumers=i,!Ri(n)){let u=n.producers;for(;u!==void 0;)u=na(u)}return r}function Ri(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function xm(){throw new Error}var Nm=xm;function ra(t){Nm=t}function $(t){return typeof t=="function"}function ki(t){let r=t(i=>{Error.call(i),i.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Fi=ki(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((i,s)=>`${s+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function Er(t,n){if(t){let r=t.indexOf(n);0<=r&&t.splice(r,1)}}var De=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let u of r)u.remove(this);else r.remove(this);let{initialTeardown:i}=this;if($(i))try{i()}catch(u){n=u instanceof Fi?u.errors:[u]}let{_finalizers:s}=this;if(s){this._finalizers=null;for(let u of s)try{Kl(u)}catch(c){n=n??[],c instanceof Fi?n=[...n,...c.errors]:n.push(c)}}if(n)throw new Fi(n)}}add(n){var r;if(n&&n!==this)if(this.closed)Kl(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(n)}}_hasParent(n){let{_parentage:r}=this;return r===n||Array.isArray(r)&&r.includes(n)}_addParent(n){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(n),r):r?[r,n]:n}_removeParent(n){let{_parentage:r}=this;r===n?this._parentage=null:Array.isArray(r)&&Er(r,n)}remove(n){let{_finalizers:r}=this;r&&Er(r,n),n instanceof t&&n._removeParent(this)}};De.EMPTY=(()=>{let t=new De;return t.closed=!0,t})();var ia=De.EMPTY;function Bi(t){return t instanceof De||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function Kl(t){$(t)?t():t.unsubscribe()}var Ke={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Rn={setTimeout(t,n,...r){let{delegate:i}=Rn;return i?.setTimeout?i.setTimeout(t,n,...r):setTimeout(t,n,...r)},clearTimeout(t){let{delegate:n}=Rn;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ji(t){Rn.setTimeout(()=>{let{onUnhandledError:n}=Ke;if(n)n(t);else throw t})}function oa(){}var Ql=sa("C",void 0,void 0);function Jl(t){return sa("E",void 0,t)}function Xl(t){return sa("N",t,void 0)}function sa(t,n,r){return{kind:t,value:n,error:r}}var Wt=null;function kn(t){if(Ke.useDeprecatedSynchronousErrorHandling){let n=!Wt;if(n&&(Wt={errorThrown:!1,error:null}),t(),n){let{errorThrown:r,error:i}=Wt;if(Wt=null,r)throw i}}else t()}function ed(t){Ke.useDeprecatedSynchronousErrorHandling&&Wt&&(Wt.errorThrown=!0,Wt.error=t)}var qt=class extends De{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Bi(n)&&n.add(this)):this.destination=Pm}static create(n,r,i){return new Fn(n,r,i)}next(n){this.isStopped?ua(Xl(n),this):this._next(n)}error(n){this.isStopped?ua(Jl(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ua(Ql,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Lm=Function.prototype.bind;function aa(t,n){return Lm.call(t,n)}var ca=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:r}=this;if(r.next)try{r.next(n)}catch(i){Vi(i)}}error(n){let{partialObserver:r}=this;if(r.error)try{r.error(n)}catch(i){Vi(i)}else Vi(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(r){Vi(r)}}},Fn=class extends qt{constructor(n,r,i){super();let s;if($(n)||!n)s={next:n??void 0,error:r??void 0,complete:i??void 0};else{let u;this&&Ke.useDeprecatedNextContext?(u=Object.create(n),u.unsubscribe=()=>this.unsubscribe(),s={next:n.next&&aa(n.next,u),error:n.error&&aa(n.error,u),complete:n.complete&&aa(n.complete,u)}):s=n}this.destination=new ca(s)}};function Vi(t){Ke.useDeprecatedSynchronousErrorHandling?ed(t):ji(t)}function Am(t){throw t}function ua(t,n){let{onStoppedNotification:r}=Ke;r&&Rn.setTimeout(()=>r(t,n))}var Pm={closed:!0,next:oa,error:Am,complete:oa};var Bn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function td(t){return t}function nd(t){return t.length===0?td:t.length===1?t[0]:function(r){return t.reduce((i,s)=>s(i),r)}}var re=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let i=new t;return i.source=this,i.operator=r,i}subscribe(r,i,s){let u=Rm(r)?r:new Fn(r,i,s);return kn(()=>{let{operator:c,source:d}=this;u.add(c?c.call(u,d):d?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(r){try{return this._subscribe(r)}catch(i){r.error(i)}}forEach(r,i){return i=rd(i),new i((s,u)=>{let c=new Fn({next:d=>{try{r(d)}catch(h){u(h),c.unsubscribe()}},error:u,complete:s});this.subscribe(c)})}_subscribe(r){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(r)}[Bn](){return this}pipe(...r){return nd(r)(this)}toPromise(r){return r=rd(r),new r((i,s)=>{let u;this.subscribe(c=>u=c,c=>s(c),()=>i(u))})}}return t.create=n=>new t(n),t})();function rd(t){var n;return(n=t??Ke.Promise)!==null&&n!==void 0?n:Promise}function Om(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function Rm(t){return t&&t instanceof qt||Om(t)&&Bi(t)}function km(t){return $(t?.lift)}function Se(t){return n=>{if(km(n))return n.lift(function(r){try{return t(r,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(t,n,r,i,s){return new la(t,n,r,i,s)}var la=class extends qt{constructor(n,r,i,s,u,c){super(n),this.onFinalize=u,this.shouldUnsubscribe=c,this._next=r?function(d){try{r(d)}catch(h){n.error(h)}}:super._next,this._error=s?function(d){try{s(d)}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var id=ki(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Yt=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let i=new Hi(this,this);return i.operator=r,i}_throwIfClosed(){if(this.closed)throw new id}next(r){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(r)}})}error(r){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:i}=this;for(;i.length;)i.shift().error(r)}})}complete(){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:i,isStopped:s,observers:u}=this;return i||s?ia:(this.currentObservers=null,u.push(r),new De(()=>{this.currentObservers=null,Er(u,r)}))}_checkFinalizedStatuses(r){let{hasError:i,thrownError:s,isStopped:u}=this;i?r.error(s):u&&r.complete()}asObservable(){let r=new re;return r.source=this,r}}return t.create=(n,r)=>new Hi(n,r),t})(),Hi=class extends Yt{constructor(n,r){super(),this.destination=n,this.source=r}next(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)}error(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)}complete(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)}_subscribe(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:ia}};var wr=class extends Yt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let r=super._subscribe(n);return!r.closed&&n.next(this._value),r}getValue(){let{hasError:n,thrownError:r,_value:i}=this;if(n)throw r;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};function od(t){return t&&$(t.schedule)}function sd(t){return t[t.length-1]}function ad(t){return $(sd(t))?t.pop():void 0}function ud(t){return od(sd(t))?t.pop():void 0}function ld(t,n,r,i){function s(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function d(m){try{p(i.next(m))}catch(_){c(_)}}function h(m){try{p(i.throw(m))}catch(_){c(_)}}function p(m){m.done?u(m.value):s(m.value).then(d,h)}p((i=i.apply(t,n||[])).next())})}function cd(t){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&t[n],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kt(t){return this instanceof Kt?(this.v=t,this):new Kt(t)}function dd(t,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,n||[]),s,u=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(y){return function(S){return Promise.resolve(S).then(y,_)}}function d(y,S){i[y]&&(s[y]=function(I){return new Promise(function(b,T){u.push([y,I,b,T])>1||h(y,I)})},S&&(s[y]=S(s[y])))}function h(y,S){try{p(i[y](S))}catch(I){E(u[0][3],I)}}function p(y){y.value instanceof Kt?Promise.resolve(y.value.v).then(m,_):E(u[0][2],y)}function m(y){h("next",y)}function _(y){h("throw",y)}function E(y,S){y(S),u.shift(),u.length&&h(u[0][0],u[0][1])}}function fd(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],r;return n?n.call(t):(t=typeof cd=="function"?cd(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(u){r[u]=t[u]&&function(c){return new Promise(function(d,h){c=t[u](c),s(d,h,c.done,c.value)})}}function s(u,c,d,h){Promise.resolve(h).then(function(p){u({value:p,done:d})},c)}}var zi=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ui(t){return $(t?.then)}function $i(t){return $(t[Bn])}function Zi(t){return Symbol.asyncIterator&&$(t?.[Symbol.asyncIterator])}function Gi(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Fm(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wi=Fm();function qi(t){return $(t?.[Wi])}function Yi(t){return dd(this,arguments,function*(){let r=t.getReader();try{for(;;){let{value:i,done:s}=yield Kt(r.read());if(s)return yield Kt(void 0);yield yield Kt(i)}}finally{r.releaseLock()}})}function Ki(t){return $(t?.getReader)}function Ne(t){if(t instanceof re)return t;if(t!=null){if($i(t))return Bm(t);if(zi(t))return jm(t);if(Ui(t))return Vm(t);if(Zi(t))return hd(t);if(qi(t))return Hm(t);if(Ki(t))return zm(t)}throw Gi(t)}function Bm(t){return new re(n=>{let r=t[Bn]();if($(r.subscribe))return r.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function jm(t){return new re(n=>{for(let r=0;r<t.length&&!n.closed;r++)n.next(t[r]);n.complete()})}function Vm(t){return new re(n=>{t.then(r=>{n.closed||(n.next(r),n.complete())},r=>n.error(r)).then(null,ji)})}function Hm(t){return new re(n=>{for(let r of t)if(n.next(r),n.closed)return;n.complete()})}function hd(t){return new re(n=>{Um(t,n).catch(r=>n.error(r))})}function zm(t){return hd(Yi(t))}function Um(t,n){var r,i,s,u;return ld(this,void 0,void 0,function*(){try{for(r=fd(t);i=yield r.next(),!i.done;){let c=i.value;if(n.next(c),n.closed)return}}catch(c){s={error:c}}finally{try{i&&!i.done&&(u=r.return)&&(yield u.call(r))}finally{if(s)throw s.error}}n.complete()})}function Ue(t,n,r,i=0,s=!1){let u=n.schedule(function(){r(),s?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(u),!s)return u}function Qi(t,n=0){return Se((r,i)=>{r.subscribe(xe(i,s=>Ue(i,t,()=>i.next(s),n),()=>Ue(i,t,()=>i.complete(),n),s=>Ue(i,t,()=>i.error(s),n)))})}function Ji(t,n=0){return Se((r,i)=>{i.add(t.schedule(()=>r.subscribe(i),n))})}function pd(t,n){return Ne(t).pipe(Ji(n),Qi(n))}function gd(t,n){return Ne(t).pipe(Ji(n),Qi(n))}function md(t,n){return new re(r=>{let i=0;return n.schedule(function(){i===t.length?r.complete():(r.next(t[i++]),r.closed||this.schedule())})})}function _d(t,n){return new re(r=>{let i;return Ue(r,n,()=>{i=t[Wi](),Ue(r,n,()=>{let s,u;try{({value:s,done:u}=i.next())}catch(c){r.error(c);return}u?r.complete():r.next(s)},0,!0)}),()=>$(i?.return)&&i.return()})}function Xi(t,n){if(!t)throw new Error("Iterable cannot be null");return new re(r=>{Ue(r,n,()=>{let i=t[Symbol.asyncIterator]();Ue(r,n,()=>{i.next().then(s=>{s.done?r.complete():r.next(s.value)})},0,!0)})})}function vd(t,n){return Xi(Yi(t),n)}function yd(t,n){if(t!=null){if($i(t))return pd(t,n);if(zi(t))return md(t,n);if(Ui(t))return gd(t,n);if(Zi(t))return Xi(t,n);if(qi(t))return _d(t,n);if(Ki(t))return vd(t,n)}throw Gi(t)}function Dd(t,n){return n?yd(t,n):Ne(t)}function eo(...t){let n=ud(t);return Dd(t,n)}function $e(t,n){return Se((r,i)=>{let s=0;r.subscribe(xe(i,u=>{i.next(t.call(n,u,s++))}))})}var{isArray:$m}=Array;function Zm(t,n){return $m(n)?t(...n):t(n)}function Ed(t){return $e(n=>Zm(t,n))}var{isArray:Gm}=Array,{getPrototypeOf:Wm,prototype:qm,keys:Ym}=Object;function wd(t){if(t.length===1){let n=t[0];if(Gm(n))return{args:n,keys:null};if(Km(n)){let r=Ym(n);return{args:r.map(i=>n[i]),keys:r}}}return{args:t,keys:null}}function Km(t){return t&&typeof t=="object"&&Wm(t)===qm}function Cd(t,n){return t.reduce((r,i,s)=>(r[i]=n[s],r),{})}function Id(t,n,r,i,s,u,c,d){let h=[],p=0,m=0,_=!1,E=()=>{_&&!h.length&&!p&&n.complete()},y=I=>p<i?S(I):h.push(I),S=I=>{u&&n.next(I),p++;let b=!1;Ne(r(I,m++)).subscribe(xe(n,T=>{s?.(T),u?y(T):n.next(T)},()=>{b=!0},void 0,()=>{if(b)try{for(p--;h.length&&p<i;){let T=h.shift();c?Ue(n,c,()=>S(T)):S(T)}E()}catch(T){n.error(T)}}))};return t.subscribe(xe(n,y,()=>{_=!0,E()})),()=>{d?.()}}function to(t,n,r=1/0){return $(n)?to((i,s)=>$e((u,c)=>n(i,u,s,c))(Ne(t(i,s))),r):(typeof n=="number"&&(r=n),Se((i,s)=>Id(i,s,t,r)))}function da(...t){let n=ad(t),{args:r,keys:i}=wd(t),s=new re(u=>{let{length:c}=r;if(!c){u.complete();return}let d=new Array(c),h=c,p=c;for(let m=0;m<c;m++){let _=!1;Ne(r[m]).subscribe(xe(u,E=>{_||(_=!0,p--),d[m]=E},()=>h--,void 0,()=>{(!h||!_)&&(p||u.next(i?Cd(i,d):d),u.complete())}))}});return n?s.pipe(Ed(n)):s}function fa(t,n){return Se((r,i)=>{let s=0;r.subscribe(xe(i,u=>t.call(n,u,s++)&&i.next(u)))})}function ha(t,n){return $(n)?to(t,n,1):to(t,1)}function pa(t){return Se((n,r)=>{try{n.subscribe(r)}finally{r.add(t)}})}function ga(t,n){return Se((r,i)=>{let s=null,u=0,c=!1,d=()=>c&&!s&&i.complete();r.subscribe(xe(i,h=>{s?.unsubscribe();let p=0,m=u++;Ne(t(h,m)).subscribe(s=xe(i,_=>i.next(n?n(h,_,m,p++):_),()=>{s=null,d()}))},()=>{c=!0,d()}))})}var P=class extends Error{code;constructor(n,r){super(Tr(n,r)),this.code=n}};function Jm(t){return`NG0${Math.abs(t)}`}function Tr(t,n){return`${Jm(t)}${n?": "+n:""}`}function Q(t){for(let n in t)if(t[n]===Q)return n;throw Error("")}function Jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Jt).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let r=t.toString();if(r==null)return""+r;let i=r.indexOf(`
`);return i>=0?r.slice(0,i):r}function Sa(t,n){return t?n?`${t} ${n}`:t:n||""}var Xm=Q({__forward_ref__:Q});function so(t){return t.__forward_ref__=so,t.toString=function(){return Jt(this())},t}function ke(t){return Md(t)?t():t}function Md(t){return typeof t=="function"&&t.hasOwnProperty(Xm)&&t.__forward_ref__===so}function Y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ot(t){return{providers:t.providers||[],imports:t.imports||[]}}function ao(t){return e_(t,uo)}function e_(t,n){return t.hasOwnProperty(n)&&t[n]||null}function t_(t){let n=t?.[uo]??null;return n||null}function _a(t){return t&&t.hasOwnProperty(ro)?t[ro]:null}var uo=Q({\u0275prov:Q}),ro=Q({\u0275inj:Q}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,r){this._desc=n,this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=Y({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function xa(t){return t&&!!t.\u0275providers}var Na=Q({\u0275cmp:Q}),La=Q({\u0275dir:Q}),Aa=Q({\u0275pipe:Q});var va=Q({\u0275fac:Q}),nn=Q({__NG_ELEMENT_ID__:Q}),Td=Q({__NG_ENV_ID__:Q});function Pa(t){return typeof t=="string"?t:t==null?"":String(t)}function Sd(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Pa(t)}var xd=Q({ngErrorCode:Q}),n_=Q({ngErrorMessage:Q}),r_=Q({ngTokenPath:Q});function Oa(t,n){return Nd("",-200,n)}function co(t,n){throw new P(-201,!1)}function Nd(t,n,r){let i=new P(n,t);return i[xd]=n,i[n_]=t,r&&(i[r_]=r),i}function i_(t){return t[xd]}var ya;function Ld(){return ya}function Re(t){let n=ya;return ya=t,n}function Ra(t,n,r){let i=ao(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(r&8)return null;if(n!==void 0)return n;co(t,"Injector")}var o_={},Qt=o_,s_="__NG_DI_FLAG__",Da=class{injector;constructor(n){this.injector=n}retrieve(n,r){let i=Xt(r)||0;try{return this.injector.get(n,i&8?null:Qt,i)}catch(s){if(On(s))return s;throw s}}};function a_(t,n=0){let r=Oi();if(r===void 0)throw new P(-203,!1);if(r===null)return Ra(t,void 0,n);{let i=u_(n),s=r.retrieve(t,i);if(On(s)){if(i.optional)return null;throw s}return s}}function z(t,n=0){return(Ld()||a_)(ke(t),n)}function N(t,n){return z(t,Xt(n))}function Xt(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function u_(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Ea(t){let n=[];for(let r=0;r<t.length;r++){let i=ke(t[r]);if(Array.isArray(i)){if(i.length===0)throw new P(900,!1);let s,u=0;for(let c=0;c<i.length;c++){let d=i[c],h=c_(d);typeof h=="number"?h===-1?s=d.token:u|=h:s=d}n.push(z(s,u))}else n.push(z(i))}return n}function c_(t){return t[s_]}function Vn(t,n){let r=t.hasOwnProperty(va);return r?t[va]:null}function lo(t,n){t.forEach(r=>Array.isArray(r)?lo(r,n):n(r))}function ka(t,n,r){n>=t.length?t.push(r):t.splice(n,0,r)}function br(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}var rn={},Qe=[],Rt=new R(""),Fa=new R("",-1),Ba=new R(""),Ir=class{get(n,r=Qt){if(r===Qt){let s=Nd("",-201);throw s.name="\u0275NotFound",s}return r}};function on(t){return t[Na]||null}function ja(t){return t[La]||null}function Ad(t){return t[Aa]||null}function sn(t){return{\u0275providers:t}}function Pd(t){return sn([{provide:Rt,multi:!0,useValue:t}])}function Od(...t){return{\u0275providers:Va(!0,t),\u0275fromNgModule:!0}}function Va(t,...n){let r=[],i=new Set,s,u=c=>{r.push(c)};return lo(n,c=>{let d=c;io(d,u,[],i)&&(s||=[],s.push(d))}),s!==void 0&&Rd(s,u),r}function Rd(t,n){for(let r=0;r<t.length;r++){let{ngModule:i,providers:s}=t[r];Ha(s,u=>{n(u,i)})}}function io(t,n,r,i){if(t=ke(t),!t)return!1;let s=null,u=_a(t),c=!u&&on(t);if(!u&&!c){let h=t.ngModule;if(u=_a(h),u)s=h;else return!1}else{if(c&&!c.standalone)return!1;s=t}let d=i.has(s);if(c){if(d)return!1;if(i.add(s),c.dependencies){let h=typeof c.dependencies=="function"?c.dependencies():c.dependencies;for(let p of h)io(p,n,r,i)}}else if(u){if(u.imports!=null&&!d){i.add(s);let p;try{lo(u.imports,m=>{io(m,n,r,i)&&(p||=[],p.push(m))})}finally{}p!==void 0&&Rd(p,n)}if(!d){let p=Vn(s)||(()=>new s);n({provide:s,useFactory:p,deps:Qe},s),n({provide:Ba,useValue:s,multi:!0},s),n({provide:Rt,useValue:()=>z(s),multi:!0},s)}let h=u.providers;if(h!=null&&!d){let p=t;Ha(h,m=>{n(m,p)})}}else return!1;return s!==t&&t.providers!==void 0}function Ha(t,n){for(let r of t)xa(r)&&(r=r.\u0275providers),Array.isArray(r)?Ha(r,n):n(r)}var l_=Q({provide:String,useValue:Q});function kd(t){return t!==null&&typeof t=="object"&&l_ in t}function d_(t){return!!(t&&t.useExisting)}function f_(t){return!!(t&&t.useFactory)}function oo(t){return typeof t=="function"}var Mr=new R(""),no={},bd={},ma;function Sr(){return ma===void 0&&(ma=new Ir),ma}var Le=class{},en=class extends Le{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,r,i,s){super(),this.parent=r,this.source=i,this.scopes=s,Ca(n,c=>this.processProvider(c)),this.records.set(Fa,jn(void 0,this)),s.has("environment")&&this.records.set(Le,jn(void 0,this));let u=this.records.get(Mr);u!=null&&typeof u.value=="string"&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(Ba,Qe,{self:!0}))}retrieve(n,r){let i=Xt(r)||0;try{return this.get(n,Qt,i)}catch(s){if(On(s))return s;throw s}}destroy(){Cr(this),this._destroyed=!0;let n=U(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of r)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),U(n)}}onDestroy(n){return Cr(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Cr(this);let r=lt(this),i=Re(void 0),s;try{return n()}finally{lt(r),Re(i)}}get(n,r=Qt,i){if(Cr(this),n.hasOwnProperty(Td))return n[Td](this);let s=Xt(i),u,c=lt(this),d=Re(void 0);try{if(!(s&4)){let p=this.records.get(n);if(p===void 0){let m=__(n)&&ao(n);m&&this.injectableDefInScope(m)?p=jn(wa(n),no):p=null,this.records.set(n,p)}if(p!=null)return this.hydrate(n,p,s)}let h=s&2?Sr():this.parent;return r=s&8&&r===Qt?null:r,h.get(n,r)}catch(h){let p=i_(h);throw p===-200||p===-201?new P(p,null):h}finally{Re(d),lt(c)}}resolveInjectorInitializers(){let n=U(null),r=lt(this),i=Re(void 0),s;try{let u=this.get(Rt,Qe,{self:!0});for(let c of u)c()}finally{lt(r),Re(i),U(n)}}toString(){let n=[],r=this.records;for(let i of r.keys())n.push(Jt(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=ke(n);let r=oo(n)?n:ke(n&&n.provide),i=p_(n);if(!oo(n)&&n.multi===!0){let s=this.records.get(r);s||(s=jn(void 0,no,!0),s.factory=()=>Ea(s.multi),this.records.set(r,s)),r=n,s.multi.push(n)}this.records.set(r,i)}hydrate(n,r,i){let s=U(null);try{if(r.value===bd)throw Oa(Jt(n));return r.value===no&&(r.value=bd,r.value=r.factory(void 0,i)),typeof r.value=="object"&&r.value&&m_(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{U(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;let r=ke(n.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){let r=this._onDestroyHooks.indexOf(n);r!==-1&&this._onDestroyHooks.splice(r,1)}};function wa(t){let n=ao(t),r=n!==null?n.factory:Vn(t);if(r!==null)return r;if(t instanceof R)throw new P(204,!1);if(t instanceof Function)return h_(t);throw new P(204,!1)}function h_(t){if(t.length>0)throw new P(204,!1);let r=t_(t);return r!==null?()=>r.factory(t):()=>new t}function p_(t){if(kd(t))return jn(void 0,t.useValue);{let n=Fd(t);return jn(n,no)}}function Fd(t,n,r){let i;if(oo(t)){let s=ke(t);return Vn(s)||wa(s)}else if(kd(t))i=()=>ke(t.useValue);else if(f_(t))i=()=>t.useFactory(...Ea(t.deps||[]));else if(d_(t))i=(s,u)=>z(ke(t.useExisting),u!==void 0&&u&8?8:void 0);else{let s=ke(t&&(t.useClass||t.provide));if(g_(t))i=()=>new s(...Ea(t.deps));else return Vn(s)||wa(s)}return i}function Cr(t){if(t.destroyed)throw new P(205,!1)}function jn(t,n,r=!1){return{factory:t,value:n,multi:r?[]:void 0}}function g_(t){return!!t.deps}function m_(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function __(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Ca(t,n){for(let r of t)Array.isArray(r)?Ca(r,n):r&&xa(r)?Ca(r.\u0275providers,n):n(r)}function Hn(t,n){let r;t instanceof en?(Cr(t),r=t):r=new Da(t);let i,s=lt(r),u=Re(void 0);try{return n()}finally{lt(s),Re(u)}}function Bd(){return Ld()!==void 0||Oi()!=null}var Je=0,V=1,k=2,pe=3,Ze=4,Ge=5,xr=6,zn=7,Ee=8,kt=9,It=10,ge=11,Un=12,za=13,an=14,Xe=15,un=16,cn=17,ln=18,Nr=19,Ua=20,Ct=21,fo=22,Lr=23,Fe=24,ho=25,Ar=26,Be=27,jd=1;var Ft=7,Pr=8,Or=9,Ae=10;function Tt(t){return Array.isArray(t)&&typeof t[jd]=="object"}function et(t){return Array.isArray(t)&&t[jd]===!0}function $a(t){return(t.flags&4)!==0}function dn(t){return t.componentOffset>-1}function Rr(t){return(t.flags&1)===1}function fn(t){return!!t.template}function $n(t){return(t[k]&512)!==0}function hn(t){return(t[k]&256)===256}var Vd="svg",Hd="math";function We(t){for(;Array.isArray(t);)t=t[Je];return t}function zd(t,n){return We(n[t])}function ft(t,n){return We(n[t.index])}function po(t,n){return t.data[n]}function ht(t,n){let r=n[t];return Tt(r)?r:r[Je]}function go(t){return(t[k]&128)===128}function Ud(t){return et(t[pe])}function kr(t,n){return n==null?null:t[n]}function Za(t){t[cn]=0}function Ga(t){t[k]&1024||(t[k]|=1024,go(t)&&Br(t))}function $d(t,n){for(;t>0;)n=n[an],t--;return n}function Fr(t){return!!(t[k]&9216||t[Fe]?.dirty)}function mo(t){t[It].changeDetectionScheduler?.notify(8),t[k]&64&&(t[k]|=1024),Fr(t)&&Br(t)}function Br(t){t[It].changeDetectionScheduler?.notify(0);let n=At(t);for(;n!==null&&!(n[k]&8192||(n[k]|=8192,!go(n)));)n=At(n)}function Wa(t,n){if(hn(t))throw new P(911,!1);t[Ct]===null&&(t[Ct]=[]),t[Ct].push(n)}function Zd(t,n){if(t[Ct]===null)return;let r=t[Ct].indexOf(n);r!==-1&&t[Ct].splice(r,1)}function At(t){let n=t[pe];return et(n)?n[pe]:n}function Gd(t){return t[zn]??=[]}function Wd(t){return t.cleanup??=[]}var q={lFrame:uf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ia=!1;function qd(){return q.lFrame.elementDepthCount}function Yd(){q.lFrame.elementDepthCount++}function Kd(){q.lFrame.elementDepthCount--}function qa(){return q.bindingsEnabled}function Qd(){return q.skipHydrationRootTNode!==null}function Jd(t){return q.skipHydrationRootTNode===t}function Xd(){q.skipHydrationRootTNode=null}function me(){return q.lFrame.lView}function pn(){return q.lFrame.tView}function pt(){let t=Ya();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ya(){return q.lFrame.currentTNode}function ef(){let t=q.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Zn(t,n){let r=q.lFrame;r.currentTNode=t,r.isParent=n}function Ka(){return q.lFrame.isParent}function tf(){q.lFrame.isParent=!1}function Qa(){return Ia}function Ja(t){let n=Ia;return Ia=t,n}function nf(t){return q.lFrame.bindingIndex=t}function Xa(){return q.lFrame.bindingIndex++}function rf(){return q.lFrame.inI18n}function of(t,n){let r=q.lFrame;r.bindingIndex=r.bindingRootIndex=t,_o(n)}function sf(){return q.lFrame.currentDirectiveIndex}function _o(t){q.lFrame.currentDirectiveIndex=t}function eu(t){q.lFrame.currentQueryIndex=t}function v_(t){let n=t[V];return n.type===2?n.declTNode:n.type===1?t[Ge]:null}function tu(t,n,r){if(r&4){let s=n,u=t;for(;s=s.parent,s===null&&!(r&1);)if(s=v_(u),s===null||(u=u[an],s.type&10))break;if(s===null)return!1;n=s,t=u}let i=q.lFrame=af();return i.currentTNode=n,i.lView=t,!0}function vo(t){let n=af(),r=t[V];q.lFrame=n,n.currentTNode=r.firstChild,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function af(){let t=q.lFrame,n=t===null?null:t.child;return n===null?uf(t):n}function uf(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function cf(){let t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var nu=cf;function yo(){let t=cf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lf(t){return(q.lFrame.contextLView=$d(t,q.lFrame.contextLView))[Ee]}function Do(){return q.lFrame.selectedIndex}function Bt(t){q.lFrame.selectedIndex=t}function df(){let t=q.lFrame;return po(t.tView,t.selectedIndex)}function ff(){return q.lFrame.currentNamespace}var hf=!0;function Eo(){return hf}function wo(t){hf=t}function Ta(t,n=null,r=null,i){let s=pf(t,n,r,i);return s.resolveInjectorInitializers(),s}function pf(t,n=null,r=null,i,s=new Set){let u=[r||Qe,Od(t)];return i=i||(typeof t=="object"?void 0:Jt(t)),new en(u,n||Sr(),i||null,s)}var tn=class t{static THROW_IF_NOT_FOUND=Qt;static NULL=new Ir;static create(n,r){if(Array.isArray(n))return Ta({name:""},r,n,"");{let i=n.name??"";return Ta({name:i},n.parent,n.providers,i)}}static \u0275prov=Y({token:t,providedIn:"any",factory:()=>z(Fa)});static __NG_ELEMENT_ID__=-1},Pe=new R(""),Gn=(()=>{class t{static __NG_ELEMENT_ID__=y_;static __NG_ENV_ID__=r=>r}return t})(),ba=class extends Gn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return hn(this._lView)}onDestroy(n){let r=this._lView;return Wa(r,n),()=>Zd(r,n)}};function y_(){return new ba(me())}var dt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},tt=new R("",{providedIn:"root",factory:()=>{let t=N(Le),n;return r=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(dt),n.handleError(r))}}}),gf={provide:Rt,useValue:()=>void N(dt),multi:!0},D_=new R("",{providedIn:"root",factory:()=>{let t=N(Pe).defaultView;if(!t)return;let n=N(tt),r=u=>{n(u.reason),u.preventDefault()},i=u=>{u.error?n(u.error):n(new Error(u.message,{cause:u})),u.preventDefault()},s=()=>{t.addEventListener("unhandledrejection",r),t.addEventListener("error",i)};typeof Zone<"u"?Zone.root.run(s):s(),N(Gn).onDestroy(()=>{t.removeEventListener("error",i),t.removeEventListener("unhandledrejection",r)})}});function ru(){return sn([Pd(()=>void N(D_))])}var Pt=class{},jr=new R("",{providedIn:"root",factory:()=>!1});var iu=new R(""),ou=new R(""),jt=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new wr(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new re(r=>{r.next(!1),r.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}return t})(),Co=(()=>{class t{internalPendingTasks=N(jt);scheduler=N(Pt);errorHandler=N(tt);add(){let r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){let i=this.add();r().catch(this.errorHandler).finally(i)}static \u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}return t})();function Vr(...t){}var su=(()=>{class t{static \u0275prov=Y({token:t,providedIn:"root",factory:()=>new Ma})}return t})(),Ma=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let r=n.zone,i=this.queues.get(r);i.has(n)&&(i.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let r=n.zone;this.queues.has(r)||this.queues.set(r,new Set);let i=this.queues.get(r);i.has(n)||i.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[r,i]of this.queues)r===null?n||=this.flushQueue(i):n||=r.run(()=>this.flushQueue(i));n||(this.dirtyEffectCount=0)}}flushQueue(n){let r=!1;for(let i of n)i.dirty&&(this.dirtyEffectCount--,r=!0,i.run());return r}};function Oo(t){return{toString:t}.toString()}function F_(t){return typeof t=="function"}var Mo=class{previousValue;currentValue;firstChange;constructor(n,r,i){this.previousValue=n,this.currentValue=r,this.firstChange=i}isFirstChange(){return this.firstChange}};function Gf(t,n,r,i){n!==null?n.applyValueToInputSignal(n,i):t[r]=i}var Ro=(()=>{let t=()=>Wf;return t.ngInherit=!0,t})();function Wf(t){return t.type.prototype.ngOnChanges&&(t.setInput=j_),B_}function B_(){let t=Yf(this),n=t?.current;if(n){let r=t.previous;if(r===rn)t.previous=n;else for(let i in n)r[i]=n[i];t.current=null,this.ngOnChanges(n)}}function j_(t,n,r,i,s){let u=this.declaredInputs[i],c=Yf(t)||V_(t,{previous:rn,current:null}),d=c.current||(c.current={}),h=c.previous,p=h[u];d[u]=new Mo(p&&p.currentValue,r,h===rn),Gf(t,n,s,r)}var qf="__ngSimpleChanges__";function Yf(t){return t[qf]||null}function V_(t,n){return t[qf]=n}var mf=[];var J=function(t,n=null,r){for(let i=0;i<mf.length;i++){let s=mf[i];s(t,n,r)}};function H_(t,n,r){let{ngOnChanges:i,ngOnInit:s,ngDoCheck:u}=n.type.prototype;if(i){let c=Wf(n);(r.preOrderHooks??=[]).push(t,c),(r.preOrderCheckHooks??=[]).push(t,c)}s&&(r.preOrderHooks??=[]).push(0-t,s),u&&((r.preOrderHooks??=[]).push(t,u),(r.preOrderCheckHooks??=[]).push(t,u))}function Kf(t,n){for(let r=n.directiveStart,i=n.directiveEnd;r<i;r++){let u=t.data[r].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:d,ngAfterViewInit:h,ngAfterViewChecked:p,ngOnDestroy:m}=u;c&&(t.contentHooks??=[]).push(-r,c),d&&((t.contentHooks??=[]).push(r,d),(t.contentCheckHooks??=[]).push(r,d)),h&&(t.viewHooks??=[]).push(-r,h),p&&((t.viewHooks??=[]).push(r,p),(t.viewCheckHooks??=[]).push(r,p)),m!=null&&(t.destroyHooks??=[]).push(r,m)}}function Io(t,n,r){Qf(t,n,3,r)}function To(t,n,r,i){(t[k]&3)===r&&Qf(t,n,r,i)}function au(t,n){let r=t[k];(r&3)===n&&(r&=16383,r+=1,t[k]=r)}function Qf(t,n,r,i){let s=i!==void 0?t[cn]&65535:0,u=i??-1,c=n.length-1,d=0;for(let h=s;h<c;h++)if(typeof n[h+1]=="number"){if(d=n[h],i!=null&&d>=i)break}else n[h]<0&&(t[cn]+=65536),(d<u||u==-1)&&(z_(t,r,n,h),t[cn]=(t[cn]&4294901760)+h+2),h++}function _f(t,n){J(4,t,n);let r=U(null);try{n.call(t)}finally{U(r),J(5,t,n)}}function z_(t,n,r,i){let s=r[i]<0,u=r[i+1],c=s?-r[i]:r[i],d=t[c];s?t[k]>>14<t[cn]>>16&&(t[k]&3)===n&&(t[k]+=16384,_f(d,u)):_f(d,u)}var qn=-1,Ur=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,r,i,s){this.factory=n,this.name=s,this.canSeeViewProviders=r,this.injectImpl=i}};function U_(t){return(t.flags&8)!==0}function $_(t){return(t.flags&16)!==0}function Z_(t,n,r){let i=0;for(;i<r.length;){let s=r[i];if(typeof s=="number"){if(s!==0)break;i++;let u=r[i++],c=r[i++],d=r[i++];t.setAttribute(n,c,d,u)}else{let u=s,c=r[++i];W_(u)?t.setProperty(n,u,c):t.setAttribute(n,u,c),i++}}return i}function G_(t){return t===3||t===4||t===6}function W_(t){return t.charCodeAt(0)===64}function Mu(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let r=-1;for(let i=0;i<n.length;i++){let s=n[i];typeof s=="number"?r=s:r===0||(r===-1||r===2?vf(t,r,s,null,n[++i]):vf(t,r,s,null,null))}}return t}function vf(t,n,r,i,s){let u=0,c=t.length;if(n===-1)c=-1;else for(;u<t.length;){let d=t[u++];if(typeof d=="number"){if(d===n){c=-1;break}else if(d>n){c=u-1;break}}}for(;u<t.length;){let d=t[u];if(typeof d=="number")break;if(d===r){s!==null&&(t[u+1]=s);return}u++,s!==null&&u++}c!==-1&&(t.splice(c,0,n),u=c+1),t.splice(u++,0,r),s!==null&&t.splice(u++,0,s)}function Jf(t){return t!==qn}function So(t){return t&32767}function q_(t){return t>>16}function xo(t,n){let r=q_(t),i=n;for(;r>0;)i=i[an],r--;return i}var fu=!0;function yf(t){let n=fu;return fu=t,n}var Y_=256,Xf=Y_-1,eh=5,K_=0,gt={};function Q_(t,n,r){let i;typeof r=="string"?i=r.charCodeAt(0)||0:r.hasOwnProperty(nn)&&(i=r[nn]),i==null&&(i=r[nn]=K_++);let s=i&Xf,u=1<<s;n.data[t+(s>>eh)]|=u}function th(t,n){let r=nh(t,n);if(r!==-1)return r;let i=n[V];i.firstCreatePass&&(t.injectorIndex=n.length,uu(i.data,t),uu(n,null),uu(i.blueprint,null));let s=Su(t,n),u=t.injectorIndex;if(Jf(s)){let c=So(s),d=xo(s,n),h=d[V].data;for(let p=0;p<8;p++)n[u+p]=d[c+p]|h[c+p]}return n[u+8]=s,u}function uu(t,n){t.push(0,0,0,0,0,0,0,0,n)}function nh(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Su(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,i=null,s=n;for(;s!==null;){if(i=ah(s),i===null)return qn;if(r++,s=s[an],i.injectorIndex!==-1)return i.injectorIndex|r<<16}return qn}function J_(t,n,r){Q_(t,n,r)}function rh(t,n,r){if(r&8||t!==void 0)return t;co(n,"NodeInjector")}function ih(t,n,r,i){if(r&8&&i===void 0&&(i=null),(r&3)===0){let s=t[kt],u=Re(void 0);try{return s?s.get(n,i,r&8):Ra(n,i,r&8)}finally{Re(u)}}return rh(i,n,r)}function oh(t,n,r,i=0,s){if(t!==null){if(n[k]&2048&&!(i&2)){let c=rv(t,n,r,i,gt);if(c!==gt)return c}let u=sh(t,n,r,i,gt);if(u!==gt)return u}return ih(n,r,i,s)}function sh(t,n,r,i,s){let u=tv(r);if(typeof u=="function"){if(!tu(n,t,i))return i&1?rh(s,r,i):ih(n,r,i,s);try{let c;if(c=u(i),c==null&&!(i&8))co(r);else return c}finally{nu()}}else if(typeof u=="number"){let c=null,d=nh(t,n),h=qn,p=i&1?n[Xe][Ge]:null;for((d===-1||i&4)&&(h=d===-1?Su(t,n):n[d+8],h===qn||!Ef(i,!1)?d=-1:(c=n[V],d=So(h),n=xo(h,n)));d!==-1;){let m=n[V];if(Df(u,d,m.data)){let _=X_(d,n,r,c,i,p);if(_!==gt)return _}h=n[d+8],h!==qn&&Ef(i,n[V].data[d+8]===p)&&Df(u,d,n)?(c=m,d=So(h),n=xo(h,n)):d=-1}}return s}function X_(t,n,r,i,s,u){let c=n[V],d=c.data[t+8],h=i==null?dn(d)&&fu:i!=c&&(d.type&3)!==0,p=s&1&&u===d,m=ev(d,c,r,h,p);return m!==null?hu(n,c,m,d,s):gt}function ev(t,n,r,i,s){let u=t.providerIndexes,c=n.data,d=u&1048575,h=t.directiveStart,p=t.directiveEnd,m=u>>20,_=i?d:d+m,E=s?d+m:p;for(let y=_;y<E;y++){let S=c[y];if(y<h&&r===S||y>=h&&S.type===r)return y}if(s){let y=c[h];if(y&&fn(y)&&y.type===r)return h}return null}function hu(t,n,r,i,s){let u=t[r],c=n.data;if(u instanceof Ur){let d=u;if(d.resolving){let y=Sd(c[r]);throw Oa(y)}let h=yf(d.canSeeViewProviders);d.resolving=!0;let p=c[r].type||c[r],m,_=d.injectImpl?Re(d.injectImpl):null,E=tu(t,i,0);try{u=t[r]=d.factory(void 0,s,c,t,i),n.firstCreatePass&&r>=i.directiveStart&&H_(r,c[r],n)}finally{_!==null&&Re(_),yf(h),d.resolving=!1,nu()}}return u}function tv(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(nn)?t[nn]:void 0;return typeof n=="number"?n>=0?n&Xf:nv:n}function Df(t,n,r){let i=1<<t;return!!(r[n+(t>>eh)]&i)}function Ef(t,n){return!(t&2)&&!(t&1&&n)}var gn=class{_tNode;_lView;constructor(n,r){this._tNode=n,this._lView=r}get(n,r,i){return oh(this._tNode,this._lView,n,Xt(i),r)}};function nv(){return new gn(pt(),me())}function rv(t,n,r,i,s){let u=t,c=n;for(;u!==null&&c!==null&&c[k]&2048&&!$n(c);){let d=sh(u,c,r,i|2,gt);if(d!==gt)return d;let h=u.parent;if(!h){let p=c[Ua];if(p){let m=p.get(r,gt,i);if(m!==gt)return m}h=ah(c),c=c[an]}u=h}return s}function ah(t){let n=t[V],r=n.type;return r===2?n.declTNode:r===1?t[Ge]:null}function iv(){return ko(pt(),me())}function ko(t,n){return new qr(ft(t,n))}var qr=(()=>{class t{nativeElement;constructor(r){this.nativeElement=r}static __NG_ELEMENT_ID__=iv}return t})();function uh(t){return(t.flags&128)===128}var xu=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(xu||{}),ch=new Map,ov=0;function sv(){return ov++}function av(t){ch.set(t[Nr],t)}function pu(t){ch.delete(t[Nr])}var wf="__ngContext__";function Yn(t,n){Tt(n)?(t[wf]=n[Nr],av(n)):t[wf]=n}function lh(t){return fh(t[Un])}function dh(t){return fh(t[Ze])}function fh(t){for(;t!==null&&!et(t);)t=t[Ze];return t}var gu;function Nu(t){gu=t}function hh(){if(gu!==void 0)return gu;if(typeof document<"u")return document;throw new P(210,!1)}var Fo=new R("",{providedIn:"root",factory:()=>uv}),uv="ng",Bo=new R(""),Yr=new R("",{providedIn:"platform",factory:()=>"unknown"});var jo=new R("",{providedIn:"root",factory:()=>hh().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cv="h",lv="b";var ph=!1,gh=new R("",{providedIn:"root",factory:()=>ph});var dv=(t,n,r,i)=>{};function fv(t,n,r,i){dv(t,n,r,i)}function Lu(t){return(t.flags&32)===32}var hv=()=>null;function mh(t,n,r=!1){return hv(t,n,r)}function _h(t,n){let r=t.contentQueries;if(r!==null){let i=U(null);try{for(let s=0;s<r.length;s+=2){let u=r[s],c=r[s+1];if(c!==-1){let d=t.data[c];eu(u),d.contentQueries(2,n[c],c)}}}finally{U(i)}}}function mu(t,n,r){eu(0);let i=U(null);try{n(t,r)}finally{U(i)}}function vh(t,n,r){if($a(n)){let i=U(null);try{let s=n.directiveStart,u=n.directiveEnd;for(let c=s;c<u;c++){let d=t.data[c];if(d.contentQueries){let h=r[c];d.contentQueries(1,h,c)}}}finally{U(i)}}}var bt=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(bt||{});function Au(t){return t.ownerDocument.defaultView}function pv(t,n,r){let i=t.length;for(;;){let s=t.indexOf(n,r);if(s===-1)return s;if(s===0||t.charCodeAt(s-1)<=32){let u=n.length;if(s+u===i||t.charCodeAt(s+u)<=32)return s}r=s+1}}var yh="ng-template";function gv(t,n,r,i){let s=0;if(i){for(;s<n.length&&typeof n[s]=="string";s+=2)if(n[s]==="class"&&pv(n[s+1].toLowerCase(),r,0)!==-1)return!0}else if(Pu(t))return!1;if(s=n.indexOf(1,s),s>-1){let u;for(;++s<n.length&&typeof(u=n[s])=="string";)if(u.toLowerCase()===r)return!0}return!1}function Pu(t){return t.type===4&&t.value!==yh}function mv(t,n,r){let i=t.type===4&&!r?yh:t.value;return n===i}function _v(t,n,r){let i=4,s=t.attrs,u=s!==null?Dv(s):0,c=!1;for(let d=0;d<n.length;d++){let h=n[d];if(typeof h=="number"){if(!c&&!nt(i)&&!nt(h))return!1;if(c&&nt(h))continue;c=!1,i=h|i&1;continue}if(!c)if(i&4){if(i=2|i&1,h!==""&&!mv(t,h,r)||h===""&&n.length===1){if(nt(i))return!1;c=!0}}else if(i&8){if(s===null||!gv(t,s,h,r)){if(nt(i))return!1;c=!0}}else{let p=n[++d],m=vv(h,s,Pu(t),r);if(m===-1){if(nt(i))return!1;c=!0;continue}if(p!==""){let _;if(m>u?_="":_=s[m+1].toLowerCase(),i&2&&p!==_){if(nt(i))return!1;c=!0}}}}return nt(i)||c}function nt(t){return(t&1)===0}function vv(t,n,r,i){if(n===null)return-1;let s=0;if(i||!r){let u=!1;for(;s<n.length;){let c=n[s];if(c===t)return s;if(c===3||c===6)u=!0;else if(c===1||c===2){let d=n[++s];for(;typeof d=="string";)d=n[++s];continue}else{if(c===4)break;if(c===0){s+=4;continue}}s+=u?1:2}return-1}else return Ev(n,t)}function yv(t,n,r=!1){for(let i=0;i<n.length;i++)if(_v(t,n[i],r))return!0;return!1}function Dv(t){for(let n=0;n<t.length;n++){let r=t[n];if(G_(r))return n}return t.length}function Ev(t,n){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){let i=t[r];if(typeof i=="number")return-1;if(i===n)return r;r++}return-1}function Cf(t,n){return t?":not("+n.trim()+")":n}function wv(t){let n=t[0],r=1,i=2,s="",u=!1;for(;r<t.length;){let c=t[r];if(typeof c=="string")if(i&2){let d=t[++r];s+="["+c+(d.length>0?'="'+d+'"':"")+"]"}else i&8?s+="."+c:i&4&&(s+=" "+c);else s!==""&&!nt(c)&&(n+=Cf(u,s),s=""),i=c,u=u||!nt(i);r++}return s!==""&&(n+=Cf(u,s)),n}function Cv(t){return t.map(wv).join(",")}function Iv(t){let n=[],r=[],i=1,s=2;for(;i<t.length;){let u=t[i];if(typeof u=="string")s===2?u!==""&&n.push(u,t[++i]):s===8&&r.push(u);else{if(!nt(s))break;s=u}i++}return r.length&&n.push(1,...r),n}var Jn={};function Tv(t,n){return t.createText(n)}function bv(t,n,r){t.setValue(n,r)}function Dh(t,n,r){return t.createElement(n,r)}function No(t,n,r,i,s){t.insertBefore(n,r,i,s)}function Eh(t,n,r){t.appendChild(n,r)}function If(t,n,r,i,s){i!==null?No(t,n,r,i,s):Eh(t,n,r)}function Mv(t,n,r,i){t.removeChild(null,n,r,i)}function Sv(t,n,r){t.setAttribute(n,"style",r)}function xv(t,n,r){r===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",r)}function wh(t,n,r){let{mergedAttrs:i,classes:s,styles:u}=r;i!==null&&Z_(t,n,i),s!==null&&xv(t,n,s),u!==null&&Sv(t,n,u)}function Ou(t,n,r,i,s,u,c,d,h,p,m){let _=Be+i,E=_+s,y=Nv(_,E),S=typeof p=="function"?p():p;return y[V]={type:t,blueprint:y,template:r,queries:null,viewQuery:d,declTNode:n,data:y.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof u=="function"?u():u,pipeRegistry:typeof c=="function"?c():c,firstChild:null,schemas:h,consts:S,incompleteFirstPass:!1,ssrId:m}}function Nv(t,n){let r=[];for(let i=0;i<n;i++)r.push(i<t?null:Jn);return r}function Lv(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Ou(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ru(t,n,r,i,s,u,c,d,h,p,m){let _=n.blueprint.slice();return _[Je]=s,_[k]=i|4|128|8|64|1024,(p!==null||t&&t[k]&2048)&&(_[k]|=2048),Za(_),_[pe]=_[an]=t,_[Ee]=r,_[It]=c||t&&t[It],_[ge]=d||t&&t[ge],_[kt]=h||t&&t[kt]||null,_[Ge]=u,_[Nr]=sv(),_[xr]=m,_[Ua]=p,_[Xe]=n.type==2?t[Xe]:_,_}function Av(t,n,r){let i=ft(n,t),s=Lv(r),u=t[It].rendererFactory,c=ku(t,Ru(t,s,null,Ch(r),i,n,null,u.createRenderer(i,r),null,null,null));return t[n.index]=c}function Ch(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function Ih(t,n,r,i){if(r===0)return-1;let s=n.length;for(let u=0;u<r;u++)n.push(i),t.blueprint.push(i),t.data.push(null);return s}function ku(t,n){return t[Un]?t[za][Ze]=n:t[Un]=n,t[za]=n,n}function _n(t=1){Th(pn(),me(),Do()+t,!1)}function Th(t,n,r,i){if(!i)if((n[k]&3)===3){let u=t.preOrderCheckHooks;u!==null&&Io(n,u,r)}else{let u=t.preOrderHooks;u!==null&&To(n,u,0,r)}Bt(r)}var Vo=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Vo||{});function _u(t,n,r,i){let s=U(null);try{let[u,c,d]=t.inputs[r],h=null;(c&Vo.SignalBased)!==0&&(h=n[u][Zl]),h!==null&&h.transformFn!==void 0?i=h.transformFn(i):d!==null&&(i=d.call(n,i)),t.setInput!==null?t.setInput(n,h,i,r,u):Gf(n,h,u,i)}finally{U(s)}}var Vt=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Vt||{}),Pv;function Fu(t,n){return Pv(t,n)}var Kn=new Set,Bu=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Bu||{}),Kr=new R(""),Tf=new Set;function ju(t){Tf.has(t)||(Tf.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var bh=!1,vu=class extends Yt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Bd()&&(this.destroyRef=N(Gn,{optional:!0})??void 0,this.pendingTasks=N(jt,{optional:!0})??void 0)}emit(n){let r=U(null);try{super.next(n)}finally{U(r)}}subscribe(n,r,i){let s=n,u=r||(()=>null),c=i;if(n&&typeof n=="object"){let h=n;s=h.next?.bind(h),u=h.error?.bind(h),c=h.complete?.bind(h)}this.__isAsync&&(u=this.wrapInTimeout(u),s&&(s=this.wrapInTimeout(s)),c&&(c=this.wrapInTimeout(c)));let d=super.subscribe({next:s,error:u,complete:c});return n instanceof De&&n.add(d),d}wrapInTimeout(n){return r=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{n(r)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},ee=vu;function Mh(t){let n,r;function i(){t=Vr;try{r!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(r),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(()=>{t(),i()})),()=>i()}function bf(t){return queueMicrotask(()=>t()),()=>{t=Vr}}var Vu="isAngularZone",Lo=Vu+"_ID",Ov=0,se=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ee(!1);onMicrotaskEmpty=new ee(!1);onStable=new ee(!1);onError=new ee(!1);constructor(n){let{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:u=bh}=n;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&i,c.shouldCoalesceRunChangeDetection=s,c.callbackScheduled=!1,c.scheduleInRootZone=u,Fv(c)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Vu)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(n,r,i){return this._inner.run(n,r,i)}runTask(n,r,i,s){let u=this._inner,c=u.scheduleEventTask("NgZoneEvent: "+s,n,Rv,Vr,Vr);try{return u.runTask(c,r,i)}finally{u.cancelTask(c)}}runGuarded(n,r,i){return this._inner.runGuarded(n,r,i)}runOutsideAngular(n){return this._outer.run(n)}},Rv={};function Hu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function kv(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){Mh(()=>{t.callbackScheduled=!1,yu(t),t.isCheckStableRunning=!0,Hu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),yu(t)}function Fv(t){let n=()=>{kv(t)},r=Ov++;t._inner=t._inner.fork({name:"angular",properties:{[Vu]:!0,[Lo]:r,[Lo+r]:!0},onInvokeTask:(i,s,u,c,d,h)=>{if(Bv(h))return i.invokeTask(u,c,d,h);try{return Mf(t),i.invokeTask(u,c,d,h)}finally{(t.shouldCoalesceEventChangeDetection&&c.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),Sf(t)}},onInvoke:(i,s,u,c,d,h,p)=>{try{return Mf(t),i.invoke(u,c,d,h,p)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!jv(h)&&n(),Sf(t)}},onHasTask:(i,s,u,c)=>{i.hasTask(u,c),s===u&&(c.change=="microTask"?(t._hasPendingMicrotasks=c.microTask,yu(t),Hu(t)):c.change=="macroTask"&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(i,s,u,c)=>(i.handleError(u,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}function yu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Mf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sf(t){t._nesting--,Hu(t)}var Ao=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ee;onMicrotaskEmpty=new ee;onStable=new ee;onError=new ee;run(n,r,i){return n.apply(r,i)}runGuarded(n,r,i){return n.apply(r,i)}runOutsideAngular(n){return n()}runTask(n,r,i,s){return n.apply(r,i)}};function Bv(t){return Sh(t,"__ignore_ng_zone__")}function jv(t){return Sh(t,"__scheduler_tick__")}function Sh(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var xh=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}return t})();var Vv=new R("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Nh(t,n,r){let i=t.get(Vv);if(Array.isArray(n))for(let s of n)i.queue.add(s),r?.detachedLeaveAnimationFns?.push(s);else i.queue.add(n),r?.detachedLeaveAnimationFns?.push(n);i.scheduler&&i.scheduler(t)}function Hv(t,n){for(let[r,i]of n)Nh(t,i.animateFns)}function xf(t,n,r,i){let s=t?.[Ar]?.enter;n!==null&&s&&s.has(r.index)&&Hv(i,s)}function Wn(t,n,r,i,s,u,c,d){if(s!=null){let h,p=!1;et(s)?h=s:Tt(s)&&(p=!0,s=s[Je]);let m=We(s);t===0&&i!==null?(xf(d,i,u,r),c==null?Eh(n,i,m):No(n,i,m,c||null,!0)):t===1&&i!==null?(xf(d,i,u,r),No(n,i,m,c||null,!0)):t===2?Nf(d,u,r,_=>{Mv(n,m,p,_)}):t===3&&Nf(d,u,r,()=>{n.destroyNode(m)}),h!=null&&ey(n,t,r,h,u,i,c)}}function zv(t,n){Lh(t,n),n[Je]=null,n[Ge]=null}function Uv(t,n,r,i,s,u){i[Je]=s,i[Ge]=n,Ho(t,i,r,1,s,u)}function Lh(t,n){n[It].changeDetectionScheduler?.notify(9),Ho(t,n,n[ge],2,null,null)}function $v(t){let n=t[Un];if(!n)return cu(t[V],t);for(;n;){let r=null;if(Tt(n))r=n[Un];else{let i=n[Ae];i&&(r=i)}if(!r){for(;n&&!n[Ze]&&n!==t;)Tt(n)&&cu(n[V],n),n=n[pe];n===null&&(n=t),Tt(n)&&cu(n[V],n),r=n&&n[Ze]}n=r}}function zu(t,n){let r=t[Or],i=r.indexOf(n);r.splice(i,1)}function Ah(t,n){if(hn(n))return;let r=n[ge];r.destroyNode&&Ho(t,n,r,3,null,null),$v(n)}function cu(t,n){if(hn(n))return;let r=U(null);try{n[k]&=-129,n[k]|=256,n[Fe]&&ta(n[Fe]),Wv(t,n),Gv(t,n),n[V].type===1&&n[ge].destroy();let i=n[un];if(i!==null&&et(n[pe])){i!==n[pe]&&zu(i,n);let s=n[ln];s!==null&&s.detachView(t)}pu(n)}finally{U(r)}}function Nf(t,n,r,i){let s=t?.[Ar];if(s==null||s.leave==null||!s.leave.has(n.index))return i(!1);t&&Kn.add(t),Nh(r,()=>{if(s.leave&&s.leave.has(n.index)){let c=s.leave.get(n.index),d=[];if(c){for(let h=0;h<c.animateFns.length;h++){let p=c.animateFns[h],{promise:m}=p();d.push(m)}s.detachedLeaveAnimationFns=void 0}s.running=Promise.allSettled(d),Zv(t,i)}else t&&Kn.delete(t),i(!1)},s)}function Zv(t,n){let r=t[Ar]?.running;if(r){r.then(()=>{t[Ar].running=void 0,Kn.delete(t),n(!0)});return}n(!1)}function Gv(t,n){let r=t.cleanup,i=n[zn];if(r!==null)for(let c=0;c<r.length-1;c+=2)if(typeof r[c]=="string"){let d=r[c+3];d>=0?i[d]():i[-d].unsubscribe(),c+=2}else{let d=i[r[c+1]];r[c].call(d)}i!==null&&(n[zn]=null);let s=n[Ct];if(s!==null){n[Ct]=null;for(let c=0;c<s.length;c++){let d=s[c];d()}}let u=n[Lr];if(u!==null){n[Lr]=null;for(let c of u)c.destroy()}}function Wv(t,n){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let i=0;i<r.length;i+=2){let s=n[r[i]];if(!(s instanceof Ur)){let u=r[i+1];if(Array.isArray(u))for(let c=0;c<u.length;c+=2){let d=s[u[c]],h=u[c+1];J(4,d,h);try{h.call(d)}finally{J(5,d,h)}}else{J(4,s,u);try{u.call(s)}finally{J(5,s,u)}}}}}function qv(t,n,r){return Yv(t,n.parent,r)}function Yv(t,n,r){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return r[Je];if(dn(i)){let{encapsulation:s}=t.data[i.directiveStart+i.componentOffset];if(s===bt.None||s===bt.Emulated)return null}return ft(i,r)}function Kv(t,n,r){return Jv(t,n,r)}function Qv(t,n,r){return t.type&40?ft(t,r):null}var Jv=Qv,Lf;function Uu(t,n,r,i){let s=qv(t,i,n),u=n[ge],c=i.parent||n[Ge],d=Kv(c,i,n);if(s!=null)if(Array.isArray(r))for(let h=0;h<r.length;h++)If(u,s,r[h],d,!1);else If(u,s,r,d,!1);Lf!==void 0&&Lf(u,i,n,r,s)}function Hr(t,n){if(n!==null){let r=n.type;if(r&3)return ft(n,t);if(r&4)return Du(-1,t[n.index]);if(r&8){let i=n.child;if(i!==null)return Hr(t,i);{let s=t[n.index];return et(s)?Du(-1,s):We(s)}}else{if(r&128)return Hr(t,n.next);if(r&32)return Fu(n,t)()||We(t[n.index]);{let i=Ph(t,n);if(i!==null){if(Array.isArray(i))return i[0];let s=At(t[Xe]);return Hr(s,i)}else return Hr(t,n.next)}}}return null}function Ph(t,n){if(n!==null){let i=t[Xe][Ge],s=n.projection;return i.projection[s]}return null}function Du(t,n){let r=Ae+t+1;if(r<n.length){let i=n[r],s=i[V].firstChild;if(s!==null)return Hr(i,s)}return n[Ft]}function $u(t,n,r,i,s,u,c){for(;r!=null;){let d=i[kt];if(r.type===128){r=r.next;continue}let h=i[r.index],p=r.type;if(c&&n===0&&(h&&Yn(We(h),i),r.flags|=2),!Lu(r))if(p&8)$u(t,n,r.child,i,s,u,!1),Wn(n,t,d,s,h,r,u,i);else if(p&32){let m=Fu(r,i),_;for(;_=m();)Wn(n,t,d,s,_,r,u,i);Wn(n,t,d,s,h,r,u,i)}else p&16?Xv(t,n,i,r,s,u):Wn(n,t,d,s,h,r,u,i);r=c?r.projectionNext:r.next}}function Ho(t,n,r,i,s,u){$u(r,i,t.firstChild,n,s,u,!1)}function Xv(t,n,r,i,s,u){let c=r[Xe],h=c[Ge].projection[i.projection];if(Array.isArray(h))for(let p=0;p<h.length;p++){let m=h[p];Wn(n,t,r[kt],s,m,i,u,r)}else{let p=h,m=c[pe];uh(i)&&(p.flags|=128),$u(t,n,p,m,s,u,!0)}}function ey(t,n,r,i,s,u,c){let d=i[Ft],h=We(i);d!==h&&Wn(n,t,r,u,d,s,c);for(let p=Ae;p<i.length;p++){let m=i[p];Ho(m[V],m,t,n,u,d)}}function Oh(t,n,r,i,s){let u=Do(),c=i&2;try{Bt(-1),c&&n.length>Be&&Th(t,n,Be,!1),J(c?2:0,s,r),r(i,s)}finally{Bt(u),J(c?3:1,s,r)}}function Zu(t,n,r){uy(t,n,r),(r.flags&64)===64&&cy(t,n,r)}function Rh(t,n,r=ft){let i=n.localNames;if(i!==null){let s=n.index+1;for(let u=0;u<i.length;u+=2){let c=i[u+1],d=c===-1?r(n,t):t[c];t[s++]=d}}}function ty(t,n,r,i){let u=i.get(gh,ph)||r===bt.ShadowDom,c=t.selectRootElement(n,u);return ny(c),c}function ny(t){ry(t)}var ry=()=>null;function iy(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function oy(t,n,r,i,s,u){let c=n[V];if(Gu(t,c,n,r,i)){dn(t)&&ay(n,t.index);return}t.type&3&&(r=iy(r)),sy(t,n,r,i,s,u)}function sy(t,n,r,i,s,u){if(t.type&3){let c=ft(t,n);i=u!=null?u(i,t.value||"",r):i,s.setProperty(c,r,i)}else t.type&12}function ay(t,n){let r=ht(n,t);r[k]&16||(r[k]|=64)}function uy(t,n,r){let i=r.directiveStart,s=r.directiveEnd;dn(r)&&Av(n,r,t.data[i+r.componentOffset]),t.firstCreatePass||th(r,n);let u=r.initialInputs;for(let c=i;c<s;c++){let d=t.data[c],h=hu(n,t,c,r);if(Yn(h,n),u!==null&&dy(n,c-i,h,d,r,u),fn(d)){let p=ht(r.index,n);p[Ee]=hu(n,t,c,r)}}}function cy(t,n,r){let i=r.directiveStart,s=r.directiveEnd,u=r.index,c=sf();try{Bt(u);for(let d=i;d<s;d++){let h=t.data[d],p=n[d];_o(d),(h.hostBindings!==null||h.hostVars!==0||h.hostAttrs!==null)&&ly(h,p)}}finally{Bt(-1),_o(c)}}function ly(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function kh(t,n){let r=t.directiveRegistry,i=null;if(r)for(let s=0;s<r.length;s++){let u=r[s];yv(n,u.selectors,!1)&&(i??=[],fn(u)?i.unshift(u):i.push(u))}return i}function dy(t,n,r,i,s,u){let c=u[n];if(c!==null)for(let d=0;d<c.length;d+=2){let h=c[d],p=c[d+1];_u(i,r,h,p)}}function fy(t,n,r,i,s){let u=Be+r,c=n[V],d=s(c,n,t,i,r);n[u]=d,Zn(t,!0);let h=t.type===2;return h?(wh(n[ge],d,t),(qd()===0||Rr(t))&&Yn(d,n),Yd()):Yn(d,n),Eo()&&(!h||!Lu(t))&&Uu(c,n,d,t),t}function hy(t){let n=t;return Ka()?tf():(n=n.parent,Zn(n,!1)),n}function py(t,n){let r=t[kt];if(!r)return;let i;try{i=r.get(tt,null)}catch{i=null}i?.(n)}function Gu(t,n,r,i,s){let u=t.inputs?.[i],c=t.hostDirectiveInputs?.[i],d=!1;if(c)for(let h=0;h<c.length;h+=2){let p=c[h],m=c[h+1],_=n.data[p];_u(_,r[p],m,s),d=!0}if(u)for(let h of u){let p=r[h],m=n.data[h];_u(m,p,i,s),d=!0}return d}function gy(t,n){let r=ht(n,t),i=r[V];my(i,r);let s=r[Je];s!==null&&r[xr]===null&&(r[xr]=mh(s,r[kt])),J(18),Wu(i,r,r[Ee]),J(19,r[Ee])}function my(t,n){for(let r=n.length;r<t.blueprint.length;r++)n.push(t.blueprint[r])}function Wu(t,n,r){vo(n);try{let i=t.viewQuery;i!==null&&mu(1,i,r);let s=t.template;s!==null&&Oh(t,n,s,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),n[ln]?.finishViewCreation(t),t.staticContentQueries&&_h(t,n),t.staticViewQueries&&mu(2,t.viewQuery,r);let u=t.components;u!==null&&_y(n,u)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[k]&=-5,yo()}}function _y(t,n){for(let r=0;r<n.length;r++)gy(t,n[r])}function vy(t,n,r,i){let s=U(null);try{let u=n.tView,d=t[k]&4096?4096:16,h=Ru(t,u,r,d,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),p=t[n.index];h[un]=p;let m=t[ln];return m!==null&&(h[ln]=m.createEmbeddedView(u)),Wu(u,h,r),h}finally{U(s)}}function Af(t,n){return!n||n.firstChild===null||uh(t)}function $r(t,n,r,i,s=!1){for(;r!==null;){if(r.type===128){r=s?r.projectionNext:r.next;continue}let u=n[r.index];u!==null&&i.push(We(u)),et(u)&&Fh(u,i);let c=r.type;if(c&8)$r(t,n,r.child,i);else if(c&32){let d=Fu(r,n),h;for(;h=d();)i.push(h)}else if(c&16){let d=Ph(n,r);if(Array.isArray(d))i.push(...d);else{let h=At(n[Xe]);$r(h[V],h,d,i,!0)}}r=s?r.projectionNext:r.next}return i}function Fh(t,n){for(let r=Ae;r<t.length;r++){let i=t[r],s=i[V].firstChild;s!==null&&$r(i[V],i,s,n)}t[Ft]!==t[Je]&&n.push(t[Ft])}function Bh(t){if(t[ho]!==null){for(let n of t[ho])n.impl.addSequence(n);t[ho].length=0}}var jh=[];function yy(t){return t[Fe]??Dy(t)}function Dy(t){let n=jh.pop()??Object.create(wy);return n.lView=t,n}function Ey(t){t.lView[Fe]!==t&&(t.lView=null,jh.push(t))}var wy=ct(Me({},Js),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Br(t.lView)},consumerOnSignalRead(){this.lView[Fe]=this}});function Cy(t){let n=t[Fe]??Object.create(Iy);return n.lView=t,n}var Iy=ct(Me({},Js),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=At(t.lView);for(;n&&!Vh(n[V]);)n=At(n);n&&Ga(n)},consumerOnSignalRead(){this.lView[Fe]=this}});function Vh(t){return t.type!==2}function Hh(t){if(t[Lr]===null)return;let n=!0;for(;n;){let r=!1;for(let i of t[Lr])i.dirty&&(r=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=r&&!!(t[k]&8192)}}var Ty=100;function zh(t,n=0){let i=t[It].rendererFactory,s=!1;s||i.begin?.();try{by(t,n)}finally{s||i.end?.()}}function by(t,n){let r=Qa();try{Ja(!0),Eu(t,n);let i=0;for(;Fr(t);){if(i===Ty)throw new P(103,!1);i++,Eu(t,1)}}finally{Ja(r)}}function My(t,n,r,i){if(hn(n))return;let s=n[k],u=!1,c=!1;vo(n);let d=!0,h=null,p=null;u||(Vh(t)?(p=yy(n),h=Xs(p)):Qs()===null?(d=!1,p=Cy(n),h=Xs(p)):n[Fe]&&(ta(n[Fe]),n[Fe]=null));try{Za(n),nf(t.bindingStartIndex),r!==null&&Oh(t,n,r,2,i);let m=(s&3)===3;if(!u)if(m){let y=t.preOrderCheckHooks;y!==null&&Io(n,y,null)}else{let y=t.preOrderHooks;y!==null&&To(n,y,0,null),au(n,0)}if(c||Sy(n),Hh(n),Uh(n,0),t.contentQueries!==null&&_h(t,n),!u)if(m){let y=t.contentCheckHooks;y!==null&&Io(n,y)}else{let y=t.contentHooks;y!==null&&To(n,y,1),au(n,1)}Ny(t,n);let _=t.components;_!==null&&Zh(n,_,0);let E=t.viewQuery;if(E!==null&&mu(2,E,i),!u)if(m){let y=t.viewCheckHooks;y!==null&&Io(n,y)}else{let y=t.viewHooks;y!==null&&To(n,y,2),au(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[fo]){for(let y of n[fo])y();n[fo]=null}u||(Bh(n),n[k]&=-73)}catch(m){throw u||Br(n),m}finally{p!==null&&(ql(p,h),d&&Ey(p)),yo()}}function Uh(t,n){for(let r=lh(t);r!==null;r=dh(r))for(let i=Ae;i<r.length;i++){let s=r[i];$h(s,n)}}function Sy(t){for(let n=lh(t);n!==null;n=dh(n)){if(!(n[k]&2))continue;let r=n[Or];for(let i=0;i<r.length;i++){let s=r[i];Ga(s)}}}function xy(t,n,r){J(18);let i=ht(n,t);$h(i,r),J(19,i[Ee])}function $h(t,n){go(t)&&Eu(t,n)}function Eu(t,n){let i=t[V],s=t[k],u=t[Fe],c=!!(n===0&&s&16);if(c||=!!(s&64&&n===0),c||=!!(s&1024),c||=!!(u?.dirty&&ea(u)),c||=!1,u&&(u.dirty=!1),t[k]&=-9217,c)My(i,t,i.template,t[Ee]);else if(s&8192){let d=U(null);try{Hh(t),Uh(t,1);let h=i.components;h!==null&&Zh(t,h,1),Bh(t)}finally{U(d)}}}function Zh(t,n,r){for(let i=0;i<n.length;i++)xy(t,n[i],r)}function Ny(t,n){let r=t.hostBindingOpCodes;if(r!==null)try{for(let i=0;i<r.length;i++){let s=r[i];if(s<0)Bt(~s);else{let u=s,c=r[++i],d=r[++i];of(c,u);let h=n[u];J(24,h),d(2,h),J(25,h)}}}finally{Bt(-1)}}function qu(t,n){let r=Qa()?64:1088;for(t[It].changeDetectionScheduler?.notify(n);t;){t[k]|=r;let i=At(t);if($n(t)&&!i)return t;t=i}return null}function Gh(t,n,r,i){return[t,!0,0,n,null,i,null,r,null,null]}function Ly(t,n,r,i=!0){let s=n[V];if(Ay(s,n,t,r),i){let c=Du(r,t),d=n[ge],h=d.parentNode(t[Ft]);h!==null&&Uv(s,t[Ge],d,n,h,c)}let u=n[xr];u!==null&&u.firstChild!==null&&(u.firstChild=null)}function wu(t,n){if(t.length<=Ae)return;let r=Ae+n,i=t[r];if(i){let s=i[un];s!==null&&s!==t&&zu(s,i),n>0&&(t[r-1][Ze]=i[Ze]);let u=br(t,Ae+n);zv(i[V],i);let c=u[ln];c!==null&&c.detachView(u[V]),i[pe]=null,i[Ze]=null,i[k]&=-129}return i}function Ay(t,n,r,i){let s=Ae+i,u=r.length;i>0&&(r[s-1][Ze]=n),i<u-Ae?(n[Ze]=r[s],ka(r,Ae+i,n)):(r.push(n),n[Ze]=null),n[pe]=r;let c=n[un];c!==null&&r!==c&&Wh(c,n);let d=n[ln];d!==null&&d.insertView(t),mo(n),n[k]|=128}function Wh(t,n){let r=t[Or],i=n[pe];if(Tt(i))t[k]|=2;else{let s=i[pe][Xe];n[Xe]!==s&&(t[k]|=2)}r===null?t[Or]=[n]:r.push(n)}var Qn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,r=n[V];return $r(r,n,r.firstChild,[])}constructor(n,r){this._lView=n,this._cdRefInjectingView=r}get context(){return this._lView[Ee]}set context(n){this._lView[Ee]=n}get destroyed(){return hn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[pe];if(et(n)){let r=n[Pr],i=r?r.indexOf(this):-1;i>-1&&(wu(n,i),br(r,i))}this._attachedToViewContainer=!1}Ah(this._lView[V],this._lView)}onDestroy(n){Wa(this._lView,n)}markForCheck(){qu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){mo(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,zh(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=$n(this._lView),r=this._lView[un];r!==null&&!n&&zu(r,this._lView),Lh(this._lView[V],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=n;let r=$n(this._lView),i=this._lView[un];i!==null&&!r&&Wh(i,this._lView),mo(this._lView)}};var Qr=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Py;constructor(r,i,s){this._declarationLView=r,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,i){return this.createEmbeddedViewImpl(r,i)}createEmbeddedViewImpl(r,i,s){let u=vy(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:i,dehydratedView:s});return new Qn(u)}}return t})();function Py(){return Oy(pt(),me())}function Oy(t,n){return t.type&4?new Qr(n,t,ko(t,n)):null}function Yu(t,n,r,i,s){let u=t.data[n];if(u===null)u=Ry(t,n,r,i,s),rf()&&(u.flags|=32);else if(u.type&64){u.type=r,u.value=i,u.attrs=s;let c=ef();u.injectorIndex=c===null?-1:c.injectorIndex}return Zn(u,!0),u}function Ry(t,n,r,i,s){let u=Ya(),c=Ka(),d=c?u:u&&u.parent,h=t.data[n]=Fy(t,d,r,n,i,s);return ky(t,h,u,c),h}function ky(t,n,r,i){t.firstChild===null&&(t.firstChild=n),r!==null&&(i?r.child==null&&n.parent!==null&&(r.child=n):r.next===null&&(r.next=n,n.prev=r))}function Fy(t,n,r,i,s,u){let c=n?n.injectorIndex:-1,d=0;return Qd()&&(d|=128),{type:r,index:i,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:s,attrs:u,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var xM=new RegExp(`^(\\d+)*(${lv}|${cv})*(.*)`);var By=()=>null;function Pf(t,n){return By(t,n)}var qh=class{},zo=class{},Cu=class{resolveComponentFactory(n){throw new P(917,!1)}},Uo=class{static NULL=new Cu},mn=class{};var Yh=(()=>{class t{static \u0275prov=Y({token:t,providedIn:"root",factory:()=>null})}return t})();var bo={},Iu=class{injector;parentInjector;constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,i){let s=this.injector.get(n,bo,i);return s!==bo||r===bo?s:this.parentInjector.get(n,r,i)}};function Of(t,n,r){let i=r?t.styles:null,s=r?t.classes:null,u=0;if(n!==null)for(let c=0;c<n.length;c++){let d=n[c];if(typeof d=="number")u=d;else if(u==1)s=Sa(s,d);else if(u==2){let h=d,p=n[++c];i=Sa(i,h+": "+p+";")}}r?t.styles=i:t.stylesWithoutHost=i,r?t.classes=s:t.classesWithoutHost=s}function ve(t,n=0){let r=me();if(r===null)return z(t,n);let i=pt();return oh(i,r,ke(t),n)}function Kh(t,n,r,i,s){let u=i===null?null:{"":-1},c=s(t,r);if(c!==null){let d=c,h=null,p=null;for(let m of c)if(m.resolveHostDirectives!==null){[d,h,p]=m.resolveHostDirectives(c);break}Hy(t,n,r,d,u,h,p)}u!==null&&i!==null&&jy(r,i,u)}function jy(t,n,r){let i=t.localNames=[];for(let s=0;s<n.length;s+=2){let u=r[n[s+1]];if(u==null)throw new P(-301,!1);i.push(n[s],u)}}function Vy(t,n,r){n.componentOffset=r,(t.components??=[]).push(n.index)}function Hy(t,n,r,i,s,u,c){let d=i.length,h=!1;for(let E=0;E<d;E++){let y=i[E];!h&&fn(y)&&(h=!0,Vy(t,r,E)),J_(th(r,n),t,y.type)}Wy(r,t.data.length,d);for(let E=0;E<d;E++){let y=i[E];y.providersResolver&&y.providersResolver(y)}let p=!1,m=!1,_=Ih(t,n,d,null);d>0&&(r.directiveToIndex=new Map);for(let E=0;E<d;E++){let y=i[E];if(r.mergedAttrs=Mu(r.mergedAttrs,y.hostAttrs),Uy(t,r,n,_,y),Gy(_,y,s),c!==null&&c.has(y)){let[I,b]=c.get(y);r.directiveToIndex.set(y.type,[_,I+r.directiveStart,b+r.directiveStart])}else(u===null||!u.has(y))&&r.directiveToIndex.set(y.type,_);y.contentQueries!==null&&(r.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(r.flags|=64);let S=y.type.prototype;!p&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),p=!0),!m&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),m=!0),_++}zy(t,r,u)}function zy(t,n,r){for(let i=n.directiveStart;i<n.directiveEnd;i++){let s=t.data[i];if(r===null||!r.has(s))Rf(0,n,s,i),Rf(1,n,s,i),Ff(n,i,!1);else{let u=r.get(s);kf(0,n,u,i),kf(1,n,u,i),Ff(n,i,!0)}}}function Rf(t,n,r,i){let s=t===0?r.inputs:r.outputs;for(let u in s)if(s.hasOwnProperty(u)){let c;t===0?c=n.inputs??={}:c=n.outputs??={},c[u]??=[],c[u].push(i),Qh(n,u)}}function kf(t,n,r,i){let s=t===0?r.inputs:r.outputs;for(let u in s)if(s.hasOwnProperty(u)){let c=s[u],d;t===0?d=n.hostDirectiveInputs??={}:d=n.hostDirectiveOutputs??={},d[c]??=[],d[c].push(i,u),Qh(n,c)}}function Qh(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function Ff(t,n,r){let{attrs:i,inputs:s,hostDirectiveInputs:u}=t;if(i===null||!r&&s===null||r&&u===null||Pu(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let c=null,d=0;for(;d<i.length;){let h=i[d];if(h===0){d+=4;continue}else if(h===5){d+=2;continue}else if(typeof h=="number")break;if(!r&&s.hasOwnProperty(h)){let p=s[h];for(let m of p)if(m===n){c??=[],c.push(h,i[d+1]);break}}else if(r&&u.hasOwnProperty(h)){let p=u[h];for(let m=0;m<p.length;m+=2)if(p[m]===n){c??=[],c.push(p[m+1],i[d+1]);break}}d+=2}t.initialInputs??=[],t.initialInputs.push(c)}function Uy(t,n,r,i,s){t.data[i]=s;let u=s.factory||(s.factory=Vn(s.type,!0)),c=new Ur(u,fn(s),ve,null);t.blueprint[i]=c,r[i]=c,$y(t,n,i,Ih(t,r,s.hostVars,Jn),s)}function $y(t,n,r,i,s){let u=s.hostBindings;if(u){let c=t.hostBindingOpCodes;c===null&&(c=t.hostBindingOpCodes=[]);let d=~n.index;Zy(c)!=d&&c.push(d),c.push(r,i,u)}}function Zy(t){let n=t.length;for(;n>0;){let r=t[--n];if(typeof r=="number"&&r<0)return r}return 0}function Gy(t,n,r){if(r){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)r[n.exportAs[i]]=t;fn(n)&&(r[""]=t)}}function Wy(t,n,r){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+r,t.providerIndexes=n}function Jh(t,n,r,i,s,u,c,d){let h=n[V],p=h.consts,m=kr(p,c),_=Yu(h,t,r,i,m);return u&&Kh(h,n,_,kr(p,d),s),_.mergedAttrs=Mu(_.mergedAttrs,_.attrs),_.attrs!==null&&Of(_,_.attrs,!1),_.mergedAttrs!==null&&Of(_,_.mergedAttrs,!0),h.queries!==null&&h.queries.elementStart(h,_),_}function Xh(t,n){Kf(t,n),$a(n)&&t.queries.elementEnd(n)}function Ku(t){return tp(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ep(t,n){if(Array.isArray(t))for(let r=0;r<t.length;r++)n(t[r]);else{let r=t[Symbol.iterator](),i;for(;!(i=r.next()).done;)n(i.value)}}function tp(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function np(t,n,r){if(r===Jn)return!1;let i=t[n];return Object.is(i,r)?!1:(t[n]=r,!0)}function lu(t,n,r){return function i(s){let u=dn(t)?ht(t.index,n):n;qu(u,5);let c=n[Ee],d=Bf(n,c,r,s),h=i.__ngNextListenerFn__;for(;h;)d=Bf(n,c,h,s)&&d,h=h.__ngNextListenerFn__;return d}}function Bf(t,n,r,i){let s=U(null);try{return J(6,n,r),r(i)!==!1}catch(u){return py(t,u),!1}finally{J(7,n,r),U(s)}}function qy(t,n,r,i,s,u,c,d){let h=Rr(t),p=!1,m=null;if(!i&&h&&(m=Ky(n,r,u,t.index)),m!==null){let _=m.__ngLastListenerFn__||m;_.__ngNextListenerFn__=c,m.__ngLastListenerFn__=c,p=!0}else{let _=ft(t,r),E=i?i(_):_;fv(r,E,u,d);let y=s.listen(E,u,d);if(!Yy(u)){let S=i?I=>i(We(I[t.index])):t.index;rp(S,n,r,u,d,y,!1)}}return p}function Yy(t){return t.startsWith("animation")||t.startsWith("transition")}function Ky(t,n,r,i){let s=t.cleanup;if(s!=null)for(let u=0;u<s.length-1;u+=2){let c=s[u];if(c===r&&s[u+1]===i){let d=n[zn],h=s[u+2];return d&&d.length>h?d[h]:null}typeof c=="string"&&(u+=2)}return null}function rp(t,n,r,i,s,u,c){let d=n.firstCreatePass?Wd(n):null,h=Gd(r),p=h.length;h.push(s,u),d&&d.push(i,t,p,(p+1)*(c?-1:1))}function jf(t,n,r,i,s,u){let c=n[r],d=n[V],p=d.data[r].outputs[i],_=c[p].subscribe(u);rp(t.index,d,n,s,u,_,!0)}var Tu=Symbol("BINDING");var bu=class extends Uo{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let r=on(n);return new Zr(r,this.ngModule)}};function Qy(t){return Object.keys(t).map(n=>{let[r,i,s]=t[n],u={propName:r,templateName:n,isSignal:(i&Vo.SignalBased)!==0};return s&&(u.transform=s),u})}function Jy(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function Xy(t,n,r){let i=n instanceof Le?n:n?.injector;return i&&t.getStandaloneInjector!==null&&(i=t.getStandaloneInjector(i)||i),i?new Iu(r,i):r}function eD(t){let n=t.get(mn,null);if(n===null)throw new P(407,!1);let r=t.get(Yh,null),i=t.get(Pt,null);return{rendererFactory:n,sanitizer:r,changeDetectionScheduler:i,ngReflect:!1}}function tD(t,n){let r=ip(t);return Dh(n,r,r==="svg"?Vd:r==="math"?Hd:null)}function ip(t){return(t.selectors[0][0]||"div").toLowerCase()}var Zr=class extends zo{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Qy(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Jy(this.componentDef.outputs),this.cachedOutputs}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=Cv(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!r}create(n,r,i,s,u,c){J(22);let d=U(null);try{let h=this.componentDef,p=nD(i,h,c,u),m=Xy(h,s||this.ngModule,n),_=eD(m),E=_.rendererFactory.createRenderer(null,h),y=i?ty(E,i,h.encapsulation,m):tD(h,E),S=c?.some(Vf)||u?.some(T=>typeof T!="function"&&T.bindings.some(Vf)),I=Ru(null,p,null,512|Ch(h),null,null,_,E,m,null,mh(y,m,!0));I[Be]=y,vo(I);let b=null;try{let T=Jh(Be,I,2,"#host",()=>p.directiveRegistry,!0,0);wh(E,y,T),Yn(y,I),Zu(p,I,T),vh(p,T,I),Xh(p,T),r!==void 0&&iD(T,this.ngContentSelectors,r),b=ht(T.index,I),I[Ee]=b[Ee],Wu(p,I,null)}catch(T){throw b!==null&&pu(b),pu(I),T}finally{J(23),yo()}return new Po(this.componentType,I,!!S)}finally{U(d)}}};function nD(t,n,r,i){let s=t?["ng-version","20.3.14"]:Iv(n.selectors[0]),u=null,c=null,d=0;if(r)for(let m of r)d+=m[Tu].requiredVars,m.create&&(m.targetIdx=0,(u??=[]).push(m)),m.update&&(m.targetIdx=0,(c??=[]).push(m));if(i)for(let m=0;m<i.length;m++){let _=i[m];if(typeof _!="function")for(let E of _.bindings){d+=E[Tu].requiredVars;let y=m+1;E.create&&(E.targetIdx=y,(u??=[]).push(E)),E.update&&(E.targetIdx=y,(c??=[]).push(E))}}let h=[n];if(i)for(let m of i){let _=typeof m=="function"?m:m.type,E=ja(_);h.push(E)}return Ou(0,null,rD(u,c),1,d,h,null,null,null,[s],null)}function rD(t,n){return!t&&!n?null:r=>{if(r&1&&t)for(let i of t)i.create();if(r&2&&n)for(let i of n)i.update()}}function Vf(t){let n=t[Tu].kind;return n==="input"||n==="twoWay"}var Po=class extends qh{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,r,i){super(),this._rootLView=r,this._hasInputBindings=i,this._tNode=po(r[V],Be),this.location=ko(this._tNode,r),this.instance=ht(this._tNode.index,r)[Ee],this.hostView=this.changeDetectorRef=new Qn(r,void 0),this.componentType=n}setInput(n,r){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;let s=this._rootLView,u=Gu(i,s[V],s,n,r);this.previousInputValues.set(n,r);let c=ht(i.index,s);qu(c,1)}get injector(){return new gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function iD(t,n,r){let i=t.projection=[];for(let s=0;s<n.length;s++){let u=r[s];i.push(u!=null&&u.length?Array.from(u):null)}}var Jr=(()=>{class t{static __NG_ELEMENT_ID__=oD}return t})();function oD(){let t=pt();return aD(t,me())}var sD=Jr,op=class extends sD{_lContainer;_hostTNode;_hostLView;constructor(n,r,i){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=i}get element(){return ko(this._hostTNode,this._hostLView)}get injector(){return new gn(this._hostTNode,this._hostLView)}get parentInjector(){let n=Su(this._hostTNode,this._hostLView);if(Jf(n)){let r=xo(n,this._hostLView),i=So(n),s=r[V].data[i+8];return new gn(s,r)}else return new gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let r=Hf(this._lContainer);return r!==null&&r[n]||null}get length(){return this._lContainer.length-Ae}createEmbeddedView(n,r,i){let s,u;typeof i=="number"?s=i:i!=null&&(s=i.index,u=i.injector);let c=Pf(this._lContainer,n.ssrId),d=n.createEmbeddedViewImpl(r||{},u,c);return this.insertImpl(d,s,Af(this._hostTNode,c)),d}createComponent(n,r,i,s,u,c,d){let h=n&&!F_(n),p;if(h)p=r;else{let b=r||{};p=b.index,i=b.injector,s=b.projectableNodes,u=b.environmentInjector||b.ngModuleRef,c=b.directives,d=b.bindings}let m=h?n:new Zr(on(n)),_=i||this.parentInjector;if(!u&&m.ngModule==null){let T=(h?_:this.parentInjector).get(Le,null);T&&(u=T)}let E=on(m.componentType??{}),y=Pf(this._lContainer,E?.id??null),S=y?.firstChild??null,I=m.create(_,s,S,u,c,d);return this.insertImpl(I.hostView,p,Af(this._hostTNode,y)),I}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,i){let s=n._lView;if(Ud(s)){let d=this.indexOf(n);if(d!==-1)this.detach(d);else{let h=s[pe],p=new op(h,h[Ge],h[pe]);p.detach(p.indexOf(n))}}let u=this._adjustIndex(r),c=this._lContainer;return Ly(c,s,u,i),n.attachToViewContainerRef(),ka(du(c),u,n),n}move(n,r){return this.insert(n,r)}indexOf(n){let r=Hf(this._lContainer);return r!==null?r.indexOf(n):-1}remove(n){let r=this._adjustIndex(n,-1),i=wu(this._lContainer,r);i&&(br(du(this._lContainer),r),Ah(i[V],i))}detach(n){let r=this._adjustIndex(n,-1),i=wu(this._lContainer,r);return i&&br(du(this._lContainer),r)!=null?new Qn(i):null}_adjustIndex(n,r=0){return n??this.length+r}};function Hf(t){return t[Pr]}function du(t){return t[Pr]||(t[Pr]=[])}function aD(t,n){let r,i=n[t.index];return et(i)?r=i:(r=Gh(i,n,null,t),n[t.index]=r,ku(n,r)),cD(r,n,t,i),new op(r,t,n)}function uD(t,n){let r=t[ge],i=r.createComment(""),s=ft(n,t),u=r.parentNode(s);return No(r,u,i,r.nextSibling(s),!1),i}var cD=fD,lD=()=>!1;function dD(t,n,r){return lD(t,n,r)}function fD(t,n,r,i){if(t[Ft])return;let s;r.type&8?s=We(i):s=uD(n,r),t[Ft]=s}var Gr=class{};var Wr=class extends Gr{injector;componentFactoryResolver=new bu(this);instance=null;constructor(n){super();let r=new en([...n.providers,{provide:Gr,useValue:this},{provide:Uo,useValue:this.componentFactoryResolver}],n.parent||Sr(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function sp(t,n,r=null){return new Wr({providers:t,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}var hD=(()=>{class t{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Va(!1,r.type),s=i.length>0?sp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Y({token:t,providedIn:"environment",factory:()=>new t(z(Le))})}return t})();function Qu(t){return Oo(()=>{let n=ap(t),r=ct(Me({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?s=>s.get(hD).getOrCreateStandaloneInjector(r):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bt.Emulated,styles:t.styles||Qe,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&ju("NgStandalone"),up(r);let i=t.dependencies;return r.directiveDefs=zf(i,pD),r.pipeDefs=zf(i,Ad),r.id=_D(r),r})}function pD(t){return on(t)||ja(t)}function vn(t){return Oo(()=>({type:t.type,bootstrap:t.bootstrap||Qe,declarations:t.declarations||Qe,imports:t.imports||Qe,exports:t.exports||Qe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gD(t,n){if(t==null)return rn;let r={};for(let i in t)if(t.hasOwnProperty(i)){let s=t[i],u,c,d,h;Array.isArray(s)?(d=s[0],u=s[1],c=s[2]??u,h=s[3]||null):(u=s,c=s,d=Vo.None,h=null),r[u]=[i,d,h],n[u]=c}return r}function mD(t){if(t==null)return rn;let n={};for(let r in t)t.hasOwnProperty(r)&&(n[t[r]]=r);return n}function yn(t){return Oo(()=>{let n=ap(t);return up(n),n})}function ap(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||rn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Qe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:gD(t.inputs,n),outputs:mD(t.outputs),debugInfo:null}}function up(t){t.features?.forEach(n=>n(t))}function zf(t,n){return t?()=>{let r=typeof t=="function"?t():t,i=[];for(let s of r){let u=n(s);u!==null&&i.push(u)}return i}:null}function _D(t){let n=0,r=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,r,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let u of i.join("|"))n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function vD(t,n,r,i,s,u,c,d){if(r.firstCreatePass){t.mergedAttrs=Mu(t.mergedAttrs,t.attrs);let m=t.tView=Ou(2,t,s,u,c,r.directiveRegistry,r.pipeRegistry,null,r.schemas,r.consts,null);r.queries!==null&&(r.queries.template(r,t),m.queries=r.queries.embeddedTView(t))}d&&(t.flags|=d),Zn(t,!1);let h=DD(r,n,t,i);Eo()&&Uu(r,n,h,t),Yn(h,n);let p=Gh(h,n,h,t);n[i+Be]=p,ku(n,p),dD(p,t,n)}function yD(t,n,r,i,s,u,c,d,h,p,m){let _=r+Be,E;return n.firstCreatePass?(E=Yu(n,_,4,c||null,d||null),qa()&&Kh(n,t,E,kr(n.consts,p),kh),Kf(n,E)):E=n.data[_],vD(E,t,n,r,i,s,u,h),Rr(E)&&Zu(n,t,E),p!=null&&Rh(t,E,m),E}function Xr(t,n,r,i,s,u,c,d){let h=me(),p=pn(),m=kr(p.consts,u);return yD(h,p,t,n,r,i,s,m,void 0,c,d),Xr}var DD=ED;function ED(t,n,r,i){return wo(!0),n[ge].createComment("")}var Ju=new R("");function $o(t){return!!t&&typeof t.then=="function"}function Xu(t){return!!t&&typeof t.subscribe=="function"}var cp=new R("");var ec=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i});appInits=N(cp,{optional:!0})??[];injector=N(tn);constructor(){}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let u=Hn(this.injector,s);if($o(u))r.push(u);else if(Xu(u)){let c=new Promise((d,h)=>{u.subscribe({complete:d,error:h})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lp=new R("");function dp(){ra(()=>{let t="";throw new P(600,t)})}function fp(t){return t.isBoundToModule}var wD=10;var ei=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(tt);afterRenderManager=N(xh);zonelessEnabled=N(jr);rootEffectScheduler=N(su);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Yt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(jt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe($e(r=>!r))}constructor(){N(Kr,{optional:!0})}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{r.unsubscribe()})}_injector=N(Le);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,i){return this.bootstrapImpl(r,i)}bootstrapImpl(r,i,s=tn.NULL){return this._injector.get(se).run(()=>{J(10);let c=r instanceof zo;if(!this._injector.get(ec).done){let S="";throw new P(405,S)}let h;c?h=r:h=this._injector.get(Uo).resolveComponentFactory(r),this.componentTypes.push(h.componentType);let p=fp(h)?void 0:this._injector.get(Gr),m=i||h.selector,_=h.create(s,[],m,p),E=_.location.nativeElement,y=_.injector.get(Ju,null);return y?.registerApplication(E),_.onDestroy(()=>{this.detachView(_.hostView),zr(this.components,_),y?.unregisterApplication(E)}),this._loadComponent(_),J(11,_),_})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){J(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Bu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new P(101,!1);let r=U(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,U(r),this.afterTick.next(),J(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(mn,null,{optional:!0}));let r=0;for(;this.dirtyFlags!==0&&r++<wD;)J(14),this.synchronizeOnce(),J(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let r=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s}of this.allViews){if(!i&&!Fr(s))continue;let u=i&&!this.zonelessEnabled?0:1;zh(s,u),r=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}r||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Fr(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;zr(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView);try{this.tick()}catch(s){this.internalErrorHandler(s)}this.components.push(r),this._injector.get(lp,[]).forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>zr(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new P(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zr(t,n){let r=t.indexOf(n);r>-1&&t.splice(r,1)}var RM=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Dn(t,n,r){let i=me(),s=Xa();if(np(i,s,n)){let u=pn(),c=df();oy(c,i,t,n,i[ge],r)}return Dn}function Uf(t,n,r,i,s){Gu(n,t,r,s?"class":"style",i)}function Mt(t,n,r,i){let s=me(),u=s[V],c=t+Be,d=u.firstCreatePass?Jh(c,s,2,n,kh,qa(),r,i):u.data[c];if(fy(d,s,t,n,CD),Rr(d)){let h=s[V];Zu(h,s,d),vh(h,d,s)}return i!=null&&Rh(s,d),Mt}function mt(){let t=pn(),n=pt(),r=hy(n);return t.firstCreatePass&&Xh(t,r),Jd(r)&&Xd(),Kd(),r.classesWithoutHost!=null&&U_(r)&&Uf(t,r,me(),r.classesWithoutHost,!0),r.stylesWithoutHost!=null&&$_(r)&&Uf(t,r,me(),r.stylesWithoutHost,!1),mt}var CD=(t,n,r,i,s)=>(wo(!0),Dh(n[ge],i,ff()));var ti="en-US";var ID=ti;function hp(t){typeof t=="string"&&(ID=t.toLowerCase().replace(/_/g,"-"))}function En(t,n,r){let i=me(),s=pn(),u=pt();return TD(s,i,i[ge],u,t,n,r),En}function TD(t,n,r,i,s,u,c){let d=!0,h=null;if((i.type&3||c)&&(h??=lu(i,n,u),qy(i,t,n,c,r,s,u,h)&&(d=!1)),d){let p=i.outputs?.[s],m=i.hostDirectiveOutputs?.[s];if(m&&m.length)for(let _=0;_<m.length;_+=2){let E=m[_],y=m[_+1];h??=lu(i,n,u),jf(i,n,E,y,s,h)}if(p&&p.length)for(let _ of p)h??=lu(i,n,u),jf(i,n,_,s,s,h)}}function tc(t=1){return lf(t)}function Xn(t,n=""){let r=me(),i=pn(),s=t+Be,u=i.firstCreatePass?Yu(i,s,1,n,null):i.data[s],c=bD(i,r,u,n,t);r[s]=c,Eo()&&Uu(i,r,c,u),Zn(u,!1)}var bD=(t,n,r,i,s)=>(wo(!0),Tv(n[ge],i));function MD(t,n,r,i=""){return np(t,Xa(),r)?n+Pa(r)+i:Jn}function ni(t,n,r){let i=me(),s=MD(i,t,n,r);return s!==Jn&&SD(i,Do(),s),ni}function SD(t,n,r){let i=zd(n,t);bv(t[ge],i,r)}var xD=(()=>{class t{zone=N(se);changeDetectionScheduler=N(Pt);applicationRef=N(ei);applicationErrorHandler=N(tt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(r){this.applicationErrorHandler(r)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pp=new R("",{factory:()=>!1});function nc({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return t??=()=>new se(ct(Me({},ic()),{scheduleInRootZone:r})),[{provide:se,useFactory:t},{provide:Rt,multi:!0,useFactory:()=>{let i=N(xD,{optional:!0});return()=>i.initialize()}},{provide:Rt,multi:!0,useFactory:()=>{let i=N(ND);return()=>{i.initialize()}}},n===!0?{provide:iu,useValue:!0}:[],{provide:ou,useValue:r??bh},{provide:tt,useFactory:()=>{let i=N(se),s=N(Le),u;return c=>{i.runOutsideAngular(()=>{s.destroyed&&!u?setTimeout(()=>{throw c}):(u??=s.get(dt),u.handleError(c))})}}}]}function rc(t){let n=t?.ignoreChangesOutsideZone,r=t?.scheduleInRootZone,i=nc({ngZoneFactory:()=>{let s=ic(t);return s.scheduleInRootZone=r,s.shouldCoalesceEventChangeDetection&&ju("NgZone_CoalesceEvent"),new se(s)},ignoreChangesOutsideZone:n,scheduleInRootZone:r});return sn([{provide:pp,useValue:!0},{provide:jr,useValue:!1},i])}function ic(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var ND=(()=>{class t{subscription=new De;initialized=!1;zone=N(se);pendingTasks=N(jt);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{se.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{se.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var gp=(()=>{class t{applicationErrorHandler=N(tt);appRef=N(ei);taskService=N(jt);ngZone=N(se);zonelessEnabled=N(jr);tracing=N(Kr,{optional:!0});disableScheduling=N(iu,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new De;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Lo):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(ou,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ao||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;let i=!1;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let s=this.useMicrotaskScheduler?bf:Mh;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>s(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(r){return!(this.disableScheduling&&!r||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Lo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(r),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bf(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function LD(){return typeof $localize<"u"&&$localize.locale||ti}var Zo=new R("",{providedIn:"root",factory:()=>N(Zo,{optional:!0,skipSelf:!0})||LD()});var WD=new R("");WD.__NG_ELEMENT_ID__=t=>{let n=pt();if(n===null)throw new P(204,!1);if(n.type&2)return n.value;if(t&8)return null;throw new P(204,!1)};var oc=new R(""),qD=new R("");function ri(t){return!t.moduleRef}function YD(t){let n=ri(t)?t.r3Injector:t.moduleRef.injector,r=n.get(se);return r.run(()=>{ri(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=n.get(tt),s;if(r.runOutsideAngular(()=>{s=r.onError.subscribe({next:i})}),ri(t)){let u=()=>n.destroy(),c=t.platformInjector.get(oc);c.add(u),n.onDestroy(()=>{s.unsubscribe(),c.delete(u)})}else{let u=()=>t.moduleRef.destroy(),c=t.platformInjector.get(oc);c.add(u),t.moduleRef.onDestroy(()=>{zr(t.allPlatformModules,t.moduleRef),s.unsubscribe(),c.delete(u)})}return QD(i,r,()=>{let u=n.get(jt),c=u.add(),d=n.get(ec);return d.runInitializers(),d.donePromise.then(()=>{let h=n.get(Zo,ti);if(hp(h||ti),!n.get(qD,!0))return ri(t)?n.get(ei):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ri(t)){let m=n.get(ei);return t.rootComponent!==void 0&&m.bootstrap(t.rootComponent),m}else return KD?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void u.remove(c))})})}var KD;function QD(t,n,r){try{let i=r();return $o(i)?i.catch(s=>{throw n.runOutsideAngular(()=>t(s)),s}):i}catch(i){throw n.runOutsideAngular(()=>t(i)),i}}var Go=null;function JD(t=[],n){return tn.create({name:n,providers:[{provide:Mr,useValue:"platform"},{provide:oc,useValue:new Set([()=>Go=null])},...t]})}function XD(t=[]){if(Go)return Go;let n=JD(t);return Go=n,dp(),eE(n),n}function eE(t){let n=t.get(Bo,null);Hn(t,()=>{n?.forEach(r=>r())})}var sc=class{constructor(){}supports(n){return Ku(n)}create(n){return new ac(n)}},tE=(t,n)=>n,ac=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||tE}forEachItem(n){let r;for(r=this._itHead;r!==null;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,i=this._removalsHead,s=0,u=null;for(;r||i;){let c=!i||r&&r.currentIndex<mp(i,s,u)?r:i,d=mp(c,s,u),h=c.currentIndex;if(c===i)s--,i=i._nextRemoved;else if(r=r._next,c.previousIndex==null)s++;else{u||(u=[]);let p=d-s,m=h-s;if(p!=m){for(let E=0;E<p;E++){let y=E<u.length?u[E]:u[E]=0,S=y+E;m<=S&&S<p&&(u[E]=y+1)}let _=c.previousIndex;u[_]=m-p}}d!==h&&n(c,d,h)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)n(r)}diff(n){if(n==null&&(n=[]),!Ku(n))throw new P(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._itHead,i=!1,s,u,c;if(Array.isArray(n)){this.length=n.length;for(let d=0;d<this.length;d++)u=n[d],c=this._trackByFn(d,u),r===null||!Object.is(r.trackById,c)?(r=this._mismatch(r,u,c,d),i=!0):(i&&(r=this._verifyReinsertion(r,u,c,d)),Object.is(r.item,u)||this._addIdentityChange(r,u)),r=r._next}else s=0,ep(n,d=>{c=this._trackByFn(s,d),r===null||!Object.is(r.trackById,c)?(r=this._mismatch(r,d,c,s),i=!0):(i&&(r=this._verifyReinsertion(r,d,c,s)),Object.is(r.item,d)||this._addIdentityChange(r,d)),r=r._next,s++}),this.length=s;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,i,s){let u;return n===null?u=this._itTail:(u=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),n!==null?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,u,s)):(n=this._linkedRecords===null?null:this._linkedRecords.get(i,s),n!==null?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,u,s)):n=this._addAfter(new uc(r,i),u,s)),n}_verifyReinsertion(n,r,i,s){let u=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return u!==null?n=this._reinsertAfter(u,n._prev,s):n.currentIndex!=s&&(n.currentIndex=s,this._addToMoves(n,s)),n}_truncate(n){for(;n!==null;){let r=n._next;this._addToRemovals(this._unlink(n)),n=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let s=n._prevRemoved,u=n._nextRemoved;return s===null?this._removalsHead=u:s._nextRemoved=u,u===null?this._removalsTail=s:u._prevRemoved=s,this._insertAfter(n,r,i),this._addToMoves(n,i),n}_moveAfter(n,r,i){return this._unlink(n),this._insertAfter(n,r,i),this._addToMoves(n,i),n}_addAfter(n,r,i){return this._insertAfter(n,r,i),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,r,i){let s=r===null?this._itHead:r._next;return n._next=s,n._prev=r,s===null?this._itTail=n:s._prev=n,r===null?this._itHead=n:r._next=n,this._linkedRecords===null&&(this._linkedRecords=new Wo),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let r=n._prev,i=n._next;return r===null?this._itHead=i:r._next=i,i===null?this._itTail=r:i._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wo),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},uc=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,r){this.item=n,this.trackById=r}},cc=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let i;for(i=this._head;i!==null;i=i._nextDup)if((r===null||r<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){let r=n._prevDup,i=n._nextDup;return r===null?this._head=i:r._nextDup=i,i===null?this._tail=r:i._prevDup=r,this._head===null}},Wo=class{map=new Map;put(n){let r=n.trackById,i=this.map.get(r);i||(i=new cc,this.map.set(r,i)),i.add(n)}get(n,r){let i=n,s=this.map.get(i);return s?s.get(n,r):null}remove(n){let r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function mp(t,n,r){let i=t.previousIndex;if(i===null)return i;let s=0;return r&&i<r.length&&(s=r[i]),i+n+s}function _p(){return new ii([new sc])}var ii=(()=>{class t{factories;static \u0275prov=Y({token:t,providedIn:"root",factory:_p});constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new t(r)}static extend(r){return{provide:t,useFactory:()=>{let i=N(t,{optional:!0,skipSelf:!0});return t.create(r,i||_p())}}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new P(901,!1)}}return t})();function vp(t){let{rootComponent:n,appProviders:r,platformProviders:i,platformRef:s}=t;J(8);try{let u=s?.injector??XD(i),c=[nc({}),{provide:Pt,useExisting:gp},gf,...r||[]],d=new Wr({providers:c,parent:u,debugName:"",runEnvironmentInitializers:!1});return YD({r3Injector:d.injector,platformInjector:u,rootComponent:n})}catch(u){return Promise.reject(u)}finally{J(9)}}var yp=null;function si(){return yp}function lc(t){yp??=t}var oi=class{};var qo=class{$implicit;ngForOf;index;count;constructor(n,r,i,s){this.$implicit=n,this.ngForOf=r,this.index=i,this.count=s}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ko=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,u,c)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new qo(s.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(u===null?void 0:u);else if(u!==null){let d=i.get(u);i.move(d,c),Dp(d,s)}});for(let s=0,u=i.length;s<u;s++){let d=i.get(s).context;d.index=s,d.count=u,d.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let u=i.get(s.currentIndex);Dp(u,s)})}static ngTemplateContextGuard(r,i){return!0}static \u0275fac=function(i){return new(i||t)(ve(Jr),ve(Qr),ve(ii))};static \u0275dir=yn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function Dp(t,n){t.context.$implicit=n.item}var dc=(()=>{class t{_viewContainer;_context=new Yo;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(r,i){this._viewContainer=r,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Ep(r,!1),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Ep(r,!1),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(r,i){return!0}static \u0275fac=function(i){return new(i||t)(ve(Jr),ve(Qr))};static \u0275dir=yn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Yo=class{$implicit=null;ngIf=null};function Ep(t,n){if(t&&!t.createEmbeddedView)throw new P(2020,!1)}var Qo=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=vn({type:t});static \u0275inj=Ot({})}return t})();function ai(t,n){n=encodeURIComponent(n);for(let r of t.split(";")){let i=r.indexOf("="),[s,u]=i==-1?[r,""]:[r.slice(0,i),r.slice(i+1)];if(s.trim()===n)return decodeURIComponent(u)}return null}var Cn=class{};var wp="browser";var ui=class{_doc;constructor(n){this._doc=n}manager},Jo=(()=>{class t extends ui{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s,u){return r.addEventListener(i,s,u),()=>this.removeEventListener(r,i,s,u)}removeEventListener(r,i,s,u){return r.removeEventListener(i,s,u)}static \u0275fac=function(i){return new(i||t)(z(Pe))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),es=new R(""),mc=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(r,i){this._zone=i,r.forEach(c=>{c.manager=this});let s=r.filter(c=>!(c instanceof Jo));this._plugins=s.slice().reverse();let u=r.find(c=>c instanceof Jo);u&&this._plugins.push(u)}addEventListener(r,i,s,u){return this._findPluginFor(i).addEventListener(r,i,s,u)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(u=>u.supports(r)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(r,i),i}static \u0275fac=function(i){return new(i||t)(z(es),z(se))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),fc="ng-app-id";function Cp(t){for(let n of t)n.remove()}function Ip(t,n){let r=n.createElement("style");return r.textContent=t,r}function iE(t,n,r,i){let s=t.head?.querySelectorAll(`style[${fc}="${n}"],link[${fc}="${n}"]`);if(s)for(let u of s)u.removeAttribute(fc),u instanceof HTMLLinkElement?i.set(u.href.slice(u.href.lastIndexOf("/")+1),{usage:0,elements:[u]}):u.textContent&&r.set(u.textContent,{usage:0,elements:[u]})}function pc(t,n){let r=n.createElement("link");return r.setAttribute("rel","stylesheet"),r.setAttribute("href",t),r}var _c=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(r,i,s,u={}){this.doc=r,this.appId=i,this.nonce=s,iE(r,i,this.inline,this.external),this.hosts.add(r.head)}addStyles(r,i){for(let s of r)this.addUsage(s,this.inline,Ip);i?.forEach(s=>this.addUsage(s,this.external,pc))}removeStyles(r,i){for(let s of r)this.removeUsage(s,this.inline);i?.forEach(s=>this.removeUsage(s,this.external))}addUsage(r,i,s){let u=i.get(r);u?u.usage++:i.set(r,{usage:1,elements:[...this.hosts].map(c=>this.addElement(c,s(r,this.doc)))})}removeUsage(r,i){let s=i.get(r);s&&(s.usage--,s.usage<=0&&(Cp(s.elements),i.delete(r)))}ngOnDestroy(){for(let[,{elements:r}]of[...this.inline,...this.external])Cp(r);this.hosts.clear()}addHost(r){this.hosts.add(r);for(let[i,{elements:s}]of this.inline)s.push(this.addElement(r,Ip(i,this.doc)));for(let[i,{elements:s}]of this.external)s.push(this.addElement(r,pc(i,this.doc)))}removeHost(r){this.hosts.delete(r)}addElement(r,i){return this.nonce&&i.setAttribute("nonce",this.nonce),r.appendChild(i)}static \u0275fac=function(i){return new(i||t)(z(Pe),z(Fo),z(jo,8),z(Yr))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),hc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vc=/%COMP%/g;var bp="%COMP%",oE=`_nghost-${bp}`,sE=`_ngcontent-${bp}`,aE=!0,uE=new R("",{providedIn:"root",factory:()=>aE});function cE(t){return sE.replace(vc,t)}function lE(t){return oE.replace(vc,t)}function Mp(t,n){return n.map(r=>r.replace(vc,t))}var yc=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(r,i,s,u,c,d,h=null,p=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=u,this.doc=c,this.ngZone=d,this.nonce=h,this.tracingService=p,this.platformIsServer=!1,this.defaultRenderer=new ci(r,c,d,this.platformIsServer,this.tracingService)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;let s=this.getOrCreateRenderer(r,i);return s instanceof Xo?s.applyToHost(r):s instanceof li&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,u=s.get(i.id);if(!u){let c=this.doc,d=this.ngZone,h=this.eventManager,p=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,_=this.platformIsServer,E=this.tracingService;switch(i.encapsulation){case bt.Emulated:u=new Xo(h,p,i,this.appId,m,c,d,_,E);break;case bt.ShadowDom:return new gc(h,p,r,i,c,d,this.nonce,_,E);default:u=new li(h,p,i,m,c,d,_,E);break}s.set(i.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(r){this.rendererByCompId.delete(r)}static \u0275fac=function(i){return new(i||t)(z(mc),z(_c),z(Fo),z(uE),z(Pe),z(se),z(jo),z(Kr,8))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),ci=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,r,i,s,u){this.eventManager=n,this.doc=r,this.ngZone=i,this.platformIsServer=s,this.tracingService=u}destroy(){}destroyNode=null;createElement(n,r){return r?this.doc.createElementNS(hc[r]||r,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,r){(Tp(n)?n.content:n).appendChild(r)}insertBefore(n,r,i){n&&(Tp(n)?n.content:n).insertBefore(r,i)}removeChild(n,r){r.remove()}selectRootElement(n,r){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new P(-5104,!1);return r||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,i,s){if(s){r=s+":"+r;let u=hc[s];u?n.setAttributeNS(u,r,i):n.setAttribute(r,i)}else n.setAttribute(r,i)}removeAttribute(n,r,i){if(i){let s=hc[i];s?n.removeAttributeNS(s,r):n.removeAttribute(`${i}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,i,s){s&(Vt.DashCase|Vt.Important)?n.style.setProperty(r,i,s&Vt.Important?"important":""):n.style[r]=i}removeStyle(n,r,i){i&Vt.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,i){n!=null&&(n[r]=i)}setValue(n,r){n.nodeValue=r}listen(n,r,i,s){if(typeof n=="string"&&(n=si().getGlobalEventTarget(this.doc,n),!n))throw new P(5102,!1);let u=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(u=this.tracingService.wrapEventListener(n,r,u)),this.eventManager.addEventListener(n,r,u,s)}decoratePreventDefault(n){return r=>{if(r==="__ngUnwrap__")return n;n(r)===!1&&r.preventDefault()}}};function Tp(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gc=class extends ci{sharedStylesHost;hostEl;shadowRoot;constructor(n,r,i,s,u,c,d,h,p){super(n,u,c,h,p),this.sharedStylesHost=r,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=s.styles;m=Mp(s.id,m);for(let E of m){let y=document.createElement("style");d&&y.setAttribute("nonce",d),y.textContent=E,this.shadowRoot.appendChild(y)}let _=s.getExternalStyles?.();if(_)for(let E of _){let y=pc(E,u);d&&y.setAttribute("nonce",d),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,i){return super.insertBefore(this.nodeOrShadowRoot(n),r,i)}removeChild(n,r){return super.removeChild(null,r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},li=class extends ci{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,r,i,s,u,c,d,h,p){super(n,u,c,d,h),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=s;let m=i.styles;this.styles=p?Mp(p,m):m,this.styleUrls=i.getExternalStyles?.(p)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Kn.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Xo=class extends li{contentAttr;hostAttr;constructor(n,r,i,s,u,c,d,h,p){let m=s+"-"+i.id;super(n,r,i,u,c,d,h,p,m),this.contentAttr=cE(m),this.hostAttr=lE(m)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,r){let i=super.createElement(n,r);return super.setAttribute(i,this.contentAttr,""),i}};var ts=class t extends oi{supportsDOMEvents=!0;static makeCurrent(){lc(new t)}onAndCancel(n,r,i,s){return n.addEventListener(r,i,s),()=>{n.removeEventListener(r,i,s)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.remove()}createElement(n,r){return r=r||this.getDefaultDocument(),r.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return r==="window"?window:r==="document"?n:r==="body"?n.body:null}getBaseHref(n){let r=dE();return r==null?null:fE(r)}resetBaseElement(){di=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return ai(document.cookie,n)}},di=null;function dE(){return di=di||document.head.querySelector("base"),di?di.getAttribute("href"):null}function fE(t){return new URL(t,document.baseURI).pathname}var hE=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),Sp=["alt","control","meta","shift"],pE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},xp=(()=>{class t extends ui{constructor(r){super(r)}supports(r){return t.parseEventName(r)!=null}addEventListener(r,i,s,u){let c=t.parseEventName(i),d=t.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>si().onAndCancel(r,c.domEventName,d,u))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let u=t._normalizeKey(i.pop()),c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),Sp.forEach(p=>{let m=i.indexOf(p);m>-1&&(i.splice(m,1),c+=p+".")}),c+=u,i.length!=0||u.length===0)return null;let h={};return h.domEventName=s,h.fullKey=c,h}static matchEventFullKeyCode(r,i){let s=pE[r.key]||r.key,u="";return i.indexOf("code.")>-1&&(s=r.code,u="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Sp.forEach(c=>{if(c!==s){let d=gE[c];d(r)&&(u+=c+".")}}),u+=s,u===i)}static eventCallback(r,i,s){return u=>{t.matchEventFullKeyCode(u,r)&&s.runGuarded(()=>i(u))}}static _normalizeKey(r){return r==="esc"?"escape":r}static \u0275fac=function(i){return new(i||t)(z(Pe))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})();function Dc(t,n,r){let i=Me({rootComponent:t,platformRef:r?.platformRef},mE(n));return vp(i)}function mE(t){return{appProviders:[...EE,...t?.providers??[]],platformProviders:DE}}function _E(){ts.makeCurrent()}function vE(){return new dt}function yE(){return Nu(document),document}var DE=[{provide:Yr,useValue:wp},{provide:Bo,useValue:_E,multi:!0},{provide:Pe,useFactory:yE}];var EE=[{provide:Mr,useValue:"root"},{provide:dt,useFactory:vE},{provide:es,useClass:Jo,multi:!0,deps:[Pe]},{provide:es,useClass:xp,multi:!0,deps:[Pe]},yc,_c,mc,{provide:mn,useExisting:yc},{provide:Cn,useClass:hE},[]];var nr=class{},fi=class{},Ht=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(r=>{let i=r.indexOf(":");if(i>0){let s=r.slice(0,i),u=r.slice(i+1).trim();this.addHeaderEntry(s,u)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((r,i)=>{this.addHeaderEntry(i,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([r,i])=>{this.setHeaderEntries(r,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let r=this.headers.get(n.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,r){return this.clone({name:n,value:r,op:"a"})}set(n,r){return this.clone({name:n,value:r,op:"s"})}delete(n,r){return this.clone({name:n,value:r,op:"d"})}maybeSetNormalizedName(n,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(r=>{this.headers.set(r,n.headers.get(r)),this.normalizedNames.set(r,n.normalizedNames.get(r))})}clone(n){let r=new t;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([n]),r}applyUpdate(n){let r=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,r);let s=(n.op==="a"?this.headers.get(r):void 0)||[];s.push(...i),this.headers.set(r,s);break;case"d":let u=n.value;if(!u)this.headers.delete(r),this.normalizedNames.delete(r);else{let c=this.headers.get(r);if(!c)return;c=c.filter(d=>u.indexOf(d)===-1),c.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,c)}break}}addHeaderEntry(n,r){let i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}setHeaderEntries(n,r){let i=(Array.isArray(r)?r:[r]).map(u=>u.toString()),s=n.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(n,s)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>n(this.normalizedNames.get(r),this.headers.get(r)))}};var rs=class{encodeKey(n){return Np(n)}encodeValue(n){return Np(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function wE(t,n){let r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(s=>{let u=s.indexOf("="),[c,d]=u==-1?[n.decodeKey(s),""]:[n.decodeKey(s.slice(0,u)),n.decodeValue(s.slice(u+1))],h=r.get(c)||[];h.push(d),r.set(c,h)}),r}var CE=/%(\d[a-f0-9])/gi,IE={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Np(t){return encodeURIComponent(t).replace(CE,(n,r)=>IE[r]??n)}function ns(t){return`${t}`}var St=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new rs,n.fromString){if(n.fromObject)throw new P(2805,!1);this.map=wE(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(r=>{let i=n.fromObject[r],s=Array.isArray(i)?i.map(ns):[ns(i)];this.map.set(r,s)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let r=this.map.get(n);return r?r[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,r){return this.clone({param:n,value:r,op:"a"})}appendAll(n){let r=[];return Object.keys(n).forEach(i=>{let s=n[i];Array.isArray(s)?s.forEach(u=>{r.push({param:i,value:u,op:"a"})}):r.push({param:i,value:s,op:"a"})}),this.clone(r)}set(n,r){return this.clone({param:n,value:r,op:"s"})}delete(n,r){return this.clone({param:n,value:r,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let r=this.encoder.encodeKey(n);return this.map.get(n).map(i=>r+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let r=new t({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(n),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let r=(n.op==="a"?this.map.get(n.param):void 0)||[];r.push(ns(n.value)),this.map.set(n.param,r);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],s=i.indexOf(ns(n.value));s!==-1&&i.splice(s,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var is=class{map=new Map;set(n,r){return this.map.set(n,r),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function TE(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Lp(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Ap(t){return typeof Blob<"u"&&t instanceof Blob}function Pp(t){return typeof FormData<"u"&&t instanceof FormData}function bE(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Op="Content-Type",Rp="Accept",kp="X-Request-URL",Fp="text/plain",Bp="application/json",ME=`${Bp}, ${Fp}, */*`,er=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,r,i,s){this.url=r,this.method=n.toUpperCase();let u;if(TE(this.method)||s?(this.body=i!==void 0?i:null,u=s):u=i,u){if(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,this.keepalive=!!u.keepalive,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params),u.priority&&(this.priority=u.priority),u.cache&&(this.cache=u.cache),u.credentials&&(this.credentials=u.credentials),typeof u.timeout=="number"){if(u.timeout<1||!Number.isInteger(u.timeout))throw new P(2822,"");this.timeout=u.timeout}u.mode&&(this.mode=u.mode),u.redirect&&(this.redirect=u.redirect),u.integrity&&(this.integrity=u.integrity),u.referrer&&(this.referrer=u.referrer),this.transferCache=u.transferCache}if(this.headers??=new Ht,this.context??=new is,!this.params)this.params=new St,this.urlWithParams=r;else{let c=this.params.toString();if(c.length===0)this.urlWithParams=r;else{let d=r.indexOf("?"),h=d===-1?"?":d<r.length-1?"&":"";this.urlWithParams=r+h+c}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Lp(this.body)||Ap(this.body)||Pp(this.body)||bE(this.body)?this.body:this.body instanceof St?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Pp(this.body)?null:Ap(this.body)?this.body.type||null:Lp(this.body)?null:typeof this.body=="string"?Fp:this.body instanceof St?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Bp:null}clone(n={}){let r=n.method||this.method,i=n.url||this.url,s=n.responseType||this.responseType,u=n.keepalive??this.keepalive,c=n.priority||this.priority,d=n.cache||this.cache,h=n.mode||this.mode,p=n.redirect||this.redirect,m=n.credentials||this.credentials,_=n.referrer||this.referrer,E=n.integrity||this.integrity,y=n.transferCache??this.transferCache,S=n.timeout??this.timeout,I=n.body!==void 0?n.body:this.body,b=n.withCredentials??this.withCredentials,T=n.reportProgress??this.reportProgress,ie=n.headers||this.headers,ue=n.params||this.params,oe=n.context??this.context;return n.setHeaders!==void 0&&(ie=Object.keys(n.setHeaders).reduce((rt,it)=>rt.set(it,n.setHeaders[it]),ie)),n.setParams&&(ue=Object.keys(n.setParams).reduce((rt,it)=>rt.set(it,n.setParams[it]),ue)),new t(r,i,I,{params:ue,headers:ie,context:oe,reportProgress:T,responseType:s,withCredentials:b,transferCache:y,keepalive:u,cache:d,priority:c,timeout:S,mode:h,redirect:p,credentials:m,referrer:_,integrity:E})}},In=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(In||{}),rr=class{headers;status;statusText;url;ok;type;redirected;constructor(n,r=200,i="OK"){this.headers=n.headers||new Ht,this.status=n.status!==void 0?n.status:r,this.statusText=n.statusText||i,this.url=n.url||null,this.redirected=n.redirected,this.ok=this.status>=200&&this.status<300}},os=class t extends rr{constructor(n={}){super(n)}type=In.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},hi=class t extends rr{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=In.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected})}},tr=class extends rr{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},SE=200,xE=204;function Ec(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}var as=(()=>{class t{handler;constructor(r){this.handler=r}request(r,i,s={}){let u;if(r instanceof er)u=r;else{let h;s.headers instanceof Ht?h=s.headers:h=new Ht(s.headers);let p;s.params&&(s.params instanceof St?p=s.params:p=new St({fromObject:s.params})),u=new er(r,i,s.body!==void 0?s.body:null,{headers:h,context:s.context,params:p,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache,keepalive:s.keepalive,priority:s.priority,cache:s.cache,mode:s.mode,redirect:s.redirect,credentials:s.credentials,referrer:s.referrer,integrity:s.integrity,timeout:s.timeout})}let c=eo(u).pipe(ha(h=>this.handler.handle(h)));if(r instanceof er||s.observe==="events")return c;let d=c.pipe(fa(h=>h instanceof hi));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return d.pipe($e(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new P(2806,!1);return h.body}));case"blob":return d.pipe($e(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new P(2807,!1);return h.body}));case"text":return d.pipe($e(h=>{if(h.body!==null&&typeof h.body!="string")throw new P(2808,!1);return h.body}));case"json":default:return d.pipe($e(h=>h.body))}case"response":return d;default:throw new P(2809,!1)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new St().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Ec(s,i))}post(r,i,s={}){return this.request("POST",r,Ec(s,i))}put(r,i,s={}){return this.request("PUT",r,Ec(s,i))}static \u0275fac=function(i){return new(i||t)(z(nr))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})();var NE=new R("");function LE(t,n){return n(t)}function AE(t,n,r){return(i,s)=>Hn(r,()=>n(i,u=>t(u,s)))}var jp=new R(""),Vp=new R(""),Hp=new R("",{providedIn:"root",factory:()=>!0});var ss=(()=>{class t extends nr{backend;injector;chain=null;pendingTasks=N(Co);contributeToStability=N(Hp);constructor(r,i){super(),this.backend=r,this.injector=i}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(jp),...this.injector.get(Vp,[])]));this.chain=i.reduceRight((s,u)=>AE(s,u,this.injector),LE)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(pa(i))}else return this.chain(r,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||t)(z(fi),z(Le))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})();var PE=/^\)\]\}',?\n/,OE=RegExp(`^${kp}:`,"m");function RE(t){return"responseURL"in t&&t.responseURL?t.responseURL:OE.test(t.getAllResponseHeaders())?t.getResponseHeader(kp):null}var wc=(()=>{class t{xhrFactory;constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new P(-2800,!1);let i=this.xhrFactory;return eo(null).pipe(ga(()=>new re(u=>{let c=i.build();if(c.open(r.method,r.urlWithParams),r.withCredentials&&(c.withCredentials=!0),r.headers.forEach((b,T)=>c.setRequestHeader(b,T.join(","))),r.headers.has(Rp)||c.setRequestHeader(Rp,ME),!r.headers.has(Op)){let b=r.detectContentTypeHeader();b!==null&&c.setRequestHeader(Op,b)}if(r.timeout&&(c.timeout=r.timeout),r.responseType){let b=r.responseType.toLowerCase();c.responseType=b!=="json"?b:"text"}let d=r.serializeBody(),h=null,p=()=>{if(h!==null)return h;let b=c.statusText||"OK",T=new Ht(c.getAllResponseHeaders()),ie=RE(c)||r.url;return h=new os({headers:T,status:c.status,statusText:b,url:ie}),h},m=()=>{let{headers:b,status:T,statusText:ie,url:ue}=p(),oe=null;T!==xE&&(oe=typeof c.response>"u"?c.responseText:c.response),T===0&&(T=oe?SE:0);let rt=T>=200&&T<300;if(r.responseType==="json"&&typeof oe=="string"){let it=oe;oe=oe.replace(PE,"");try{oe=oe!==""?JSON.parse(oe):null}catch(or){oe=it,rt&&(rt=!1,oe={error:or,text:oe})}}rt?(u.next(new hi({body:oe,headers:b,status:T,statusText:ie,url:ue||void 0})),u.complete()):u.error(new tr({error:oe,headers:b,status:T,statusText:ie,url:ue||void 0}))},_=b=>{let{url:T}=p(),ie=new tr({error:b,status:c.status||0,statusText:c.statusText||"Unknown Error",url:T||void 0});u.error(ie)},E=_;r.timeout&&(E=b=>{let{url:T}=p(),ie=new tr({error:new DOMException("Request timed out","TimeoutError"),status:c.status||0,statusText:c.statusText||"Request timeout",url:T||void 0});u.error(ie)});let y=!1,S=b=>{y||(u.next(p()),y=!0);let T={type:In.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(T.total=b.total),r.responseType==="text"&&c.responseText&&(T.partialText=c.responseText),u.next(T)},I=b=>{let T={type:In.UploadProgress,loaded:b.loaded};b.lengthComputable&&(T.total=b.total),u.next(T)};return c.addEventListener("load",m),c.addEventListener("error",_),c.addEventListener("timeout",E),c.addEventListener("abort",_),r.reportProgress&&(c.addEventListener("progress",S),d!==null&&c.upload&&c.upload.addEventListener("progress",I)),c.send(d),u.next({type:In.Sent}),()=>{c.removeEventListener("error",_),c.removeEventListener("abort",_),c.removeEventListener("load",m),c.removeEventListener("timeout",E),r.reportProgress&&(c.removeEventListener("progress",S),d!==null&&c.upload&&c.upload.removeEventListener("progress",I)),c.readyState!==c.DONE&&c.abort()}})))}static \u0275fac=function(i){return new(i||t)(z(Cn))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),zp=new R(""),kE="XSRF-TOKEN",FE=new R("",{providedIn:"root",factory:()=>kE}),BE="X-XSRF-TOKEN",jE=new R("",{providedIn:"root",factory:()=>BE}),pi=class{},VE=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(r,i){this.doc=r,this.cookieName=i}getToken(){let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=ai(r,this.cookieName),this.lastCookieString=r),this.lastToken}static \u0275fac=function(i){return new(i||t)(z(Pe),z(FE))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),HE=/^(?:https?:)?\/\//i;function zE(t,n){if(!N(zp)||t.method==="GET"||t.method==="HEAD"||HE.test(t.url))return n(t);let r=N(pi).getToken(),i=N(jE);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),n(t)}function Cc(...t){let n=[as,wc,ss,{provide:nr,useExisting:ss},{provide:fi,useFactory:()=>N(NE,{optional:!0})??N(wc)},{provide:jp,useValue:zE,multi:!0},{provide:zp,useValue:!0},{provide:pi,useClass:VE}];for(let r of t)n.push(...r.\u0275providers);return sn(n)}var Up={providers:[ru(),rc({eventCoalescing:!0}),Cc()]};var ir=Ws(Ic(),1),_e=class{static mapToArray(n){let r=[];for(let i in n)n.hasOwnProperty(i)&&r.push(n[i]);return r}static handleEvent(n,r,i){0<r.observers.length&&n.run(()=>{r.emit(i)})}},bc=(()=>{let n=class n{constructor(i,s){this.element=i,this.zone=s,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,ir.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new ee,this.zoomChange=new ee,this.centerChange=new ee,this.onClick=new ee,this.onDoubleClick=new ee,this.onMouseDown=new ee,this.onMouseUp=new ee,this.onMouseMove=new ee,this.onMouseOver=new ee,this.onMouseOut=new ee,this.onMapMove=new ee,this.onMapMoveStart=new ee,this.onMapMoveEnd=new ee,this.onMapZoom=new ee,this.onMapZoomStart=new ee,this.onMapZoomEnd=new ee}ngOnInit(){this.zone.runOutsideAngular(()=>{this.map=(0,ir.map)(this.element.nativeElement,this.options),this.addMapEventListeners()}),this.center!=null&&this.zoom!=null&&this.setView(this.center,this.zoom),this.fitBounds!=null&&this.setFitBounds(this.fitBounds),this.maxBounds!=null&&this.setMaxBounds(this.maxBounds),this.minZoom!=null&&this.setMinZoom(this.minZoom),this.maxZoom!=null&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)}ngOnChanges(i){i.zoom&&i.center&&this.zoom!=null&&this.center!=null?this.setView(i.center.currentValue,i.zoom.currentValue):i.zoom?this.setZoom(i.zoom.currentValue):i.center&&this.setCenter(i.center.currentValue),i.fitBounds&&this.setFitBounds(i.fitBounds.currentValue),i.maxBounds&&this.setMaxBounds(i.maxBounds.currentValue),i.minZoom&&this.setMinZoom(i.minZoom.currentValue),i.maxZoom&&this.setMaxZoom(i.maxZoom.currentValue)}ngOnDestroy(){this.map!=null&&this.map.remove()}getMap(){return this.map}onResize(){this.delayResize()}addMapEventListeners(){let i=(u,c)=>{this.map.on(u,c)};i("click",u=>_e.handleEvent(this.zone,this.onClick,u)),i("dblclick",u=>_e.handleEvent(this.zone,this.onDoubleClick,u)),i("mousedown",u=>_e.handleEvent(this.zone,this.onMouseDown,u)),i("mouseup",u=>_e.handleEvent(this.zone,this.onMouseUp,u)),i("mouseover",u=>_e.handleEvent(this.zone,this.onMouseOver,u)),i("mouseout",u=>_e.handleEvent(this.zone,this.onMouseOut,u)),i("mousemove",u=>_e.handleEvent(this.zone,this.onMouseMove,u)),i("zoomstart",u=>_e.handleEvent(this.zone,this.onMapZoomStart,u)),i("zoom",u=>_e.handleEvent(this.zone,this.onMapZoom,u)),i("zoomend",u=>_e.handleEvent(this.zone,this.onMapZoomEnd,u)),i("movestart",u=>_e.handleEvent(this.zone,this.onMapMoveStart,u)),i("move",u=>_e.handleEvent(this.zone,this.onMapMove,u)),i("moveend",u=>_e.handleEvent(this.zone,this.onMapMoveEnd,u));let s=()=>{let u=this.map.getZoom();u!==this.zoom&&(this.zoom=u,_e.handleEvent(this.zone,this.zoomChange,u));let c=this.map.getCenter();(c!=null||this.center!=null)&&((c==null||this.center==null)&&c!==this.center||c.lat!==this.center.lat||c.lng!==this.center.lng)&&(this.center=c,_e.handleEvent(this.zone,this.centerChange,c))};i("moveend",s),i("zoomend",s)}doResize(){this.zone.runOutsideAngular(()=>{this.map!=null&&this.map.invalidateSize({})})}delayResize(){this.resizeTimer!=null&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)}setView(i,s){this.map!=null&&i!=null&&s!=null&&this.map.setView(i,s,this.zoomPanOptions)}setZoom(i){this.map!=null&&i!=null&&this.map.setZoom(i,this.zoomOptions)}setCenter(i){this.map!=null&&i!=null&&this.map.panTo(i,this.panOptions)}setFitBounds(i){this.map!=null&&i!=null&&this.map.fitBounds(i,this.fitBoundsOptions)}setMaxBounds(i){this.map!=null&&i!=null&&this.map.setMaxBounds(i)}setMinZoom(i){this.map!=null&&i!=null&&this.map.setMinZoom(i)}setMaxZoom(i){this.map!=null&&i!=null&&this.map.setMaxZoom(i)}};n.\u0275fac=function(s){return new(s||n)(ve(qr),ve(se))},n.\u0275dir=yn({type:n,selectors:[["","leaflet",""]],hostBindings:function(s,u){s&1&&En("resize",function(){return u.onResize()},Au)},inputs:{fitBoundsOptions:[0,"leafletFitBoundsOptions","fitBoundsOptions"],panOptions:[0,"leafletPanOptions","panOptions"],zoomOptions:[0,"leafletZoomOptions","zoomOptions"],zoomPanOptions:[0,"leafletZoomPanOptions","zoomPanOptions"],options:[0,"leafletOptions","options"],zoom:[0,"leafletZoom","zoom"],center:[0,"leafletCenter","center"],fitBounds:[0,"leafletFitBounds","fitBounds"],maxBounds:[0,"leafletMaxBounds","maxBounds"],minZoom:[0,"leafletMinZoom","minZoom"],maxZoom:[0,"leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[Ro]});let t=n;return t})(),Tc=class{constructor(n){this.leafletDirective=n}init(){}getMap(){return this.leafletDirective.getMap()}};var Zp=(()=>{let n=class n{set layers(i){this.layersValue=i,this.updateLayers()}get layers(){return this.layersValue}constructor(i,s,u){this.differs=s,this.zone=u,this.leafletDirective=new Tc(i),this.layersDiffer=this.differs.find([]).create()}ngDoCheck(){this.updateLayers()}ngOnInit(){this.leafletDirective.init(),this.updateLayers()}ngOnDestroy(){this.layers=[]}updateLayers(){let i=this.leafletDirective.getMap();if(i!=null&&this.layersDiffer!=null){let s=this.layersDiffer.diff(this.layersValue);s!=null&&this.zone.runOutsideAngular(()=>{s.forEachRemovedItem(u=>{i.removeLayer(u.item)}),s.forEachAddedItem(u=>{i.addLayer(u.item)})})}}};n.\u0275fac=function(s){return new(s||n)(ve(bc),ve(ii),ve(se))},n.\u0275dir=yn({type:n,selectors:[["","leafletLayers",""]],inputs:{layers:[0,"leafletLayers","layers"]}});let t=n;return t})();var Gp=(()=>{let n=class n{};n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Ot({});let t=n;return t})();var we=Ws(Ic());var Rk=Ws(qp());var ls=class t{constructor(n){this.http=n}locationsUrl="assets/all_locations.json";geoJsonUrl="assets/tunisia-governorates.json";getLocations(){return this.http.get(this.locationsUrl)}getGovernorates(){return this.http.get(this.geoJsonUrl)}static \u0275fac=function(r){return new(r||t)(z(as))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})};function GE(t,n){if(t&1&&(Mt(0,"option",7),Xn(1),mt()),t&2){let r=n.$implicit;Dn("value",r),_n(),ni(" ",r," ")}}function WE(t,n){if(t&1&&(Mt(0,"div",8),Xn(1),mt()),t&2){let r=tc();_n(),ni(" ",r.layers.length," r\xE9sultats affich\xE9s ")}}var ds=class t{constructor(n){this.mapDataService=n}allLocations=[];categories=[];selectedCategory="";options={layers:[we.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"&copy; OpenStreetMap contributors"})],zoom:7,center:we.latLng(34,9)};markerClusterGroup;geoJsonLayer;layers=[];ngOnInit(){da({locations:this.mapDataService.getLocations(),geoJson:this.mapDataService.getGovernorates()}).subscribe({next:n=>{if(n.locations&&n.locations.length>0){this.allLocations=n.locations;let r=new Set(this.allLocations.map(i=>i.categorie).filter(i=>i));this.categories=Array.from(r).sort()}n.geoJson&&this.initGeoJsonLayer(n.geoJson)},error:n=>console.error("Erreur chargement:",n)})}initGeoJsonLayer(n){this.geoJsonLayer=we.geoJSON(n,{style:r=>({color:"#000000",weight:2,opacity:1,fillColor:"#FF1493",fillOpacity:.1}),onEachFeature:(r,i)=>{i.on("click",s=>this.showGovernorateStats(s,r)),i.on("mouseover",s=>{s.target.setStyle({weight:4,fillOpacity:.3})}),i.on("mouseout",s=>{let u=s.target;this.geoJsonLayer?.resetStyle(u)})}}),this.layers.push(this.geoJsonLayer)}showGovernorateStats(n,r){let i=r.properties.name_fr||r.properties.name_ar||"Zone",s=this.allLocations.filter(d=>this.isPointInLayer(d,n.target)),u={};s.forEach(d=>u[d.categorie]=(u[d.categorie]||0)+1);let c="";for(let[d,h]of Object.entries(u))c+=`<li><b>${d}:</b> ${h}</li>`;s.length===0&&(c="<li>Aucun lieu trouv\xE9</li>"),we.popup().setLatLng(n.latlng).setContent(`<div><h3 style="color:#000; margin:0 0 10px 0;">${i}</h3><p>Total : ${s.length}</p><ul style="padding-left:20px; font-size:13px;">${c}</ul></div>`).openOn(n.target._map)}isPointInLayer(n,r){let i=we.latLng(n.lat,n.lng);return r.getBounds&&r.getBounds().contains(i)}onCategoryChange(n){let r=n.target;this.selectedCategory=r.value,this.updateMarkers()}updateMarkers(){if(this.markerClusterGroup){let i=this.layers.indexOf(this.markerClusterGroup);i>-1&&this.layers.splice(i,1),this.markerClusterGroup.clearLayers()}if(!this.selectedCategory)return;let n=this.allLocations.filter(i=>i.categorie===this.selectedCategory);this.markerClusterGroup=we.markerClusterGroup({maxClusterRadius:80,disableClusteringAtZoom:11,animate:!0,showCoverageOnHover:!0,polygonOptions:{color:"#FF1493",weight:3,opacity:.8,fillColor:"#FF1493",fillOpacity:.1}});let r=n.map(i=>we.marker([i.lat,i.lng],{icon:we.icon({iconSize:[25,41],iconAnchor:[13,41],iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png"}),title:i.nom}).bindPopup(`<b>${i.nom}</b><br>${i.categorie}`));this.markerClusterGroup&&(this.markerClusterGroup.addLayers(r),this.layers=[...this.layers,this.markerClusterGroup])}onMapReady(n){}static \u0275fac=function(r){return new(r||t)(ve(ls))};static \u0275cmp=Qu({type:t,selectors:[["app-root"]],decls:10,vars:4,consts:[[1,"map-wrapper"],[1,"filter-controls"],[1,"category-select",3,"change"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","count-badge",4,"ngIf"],["leaflet","",1,"map-container",3,"leafletMapReady","leafletOptions","leafletLayers"],[3,"value"],[1,"count-badge"]],template:function(r,i){r&1&&(Mt(0,"div",0)(1,"div",1)(2,"label"),Xn(3,"Choisissez une cat\xE9gorie :"),mt(),Mt(4,"select",2),En("change",function(u){return i.onCategoryChange(u)}),Mt(5,"option",3),Xn(6,"-- Cliquez pour choisir --"),mt(),Xr(7,GE,2,2,"option",4),mt(),Xr(8,WE,2,1,"div",5),mt(),Mt(9,"div",6),En("leafletMapReady",function(u){return i.onMapReady(u)}),mt()()),r&2&&(_n(7),Dn("ngForOf",i.categories),_n(),Dn("ngIf",i.layers.length>0),_n(),Dn("leafletOptions",i.options)("leafletLayers",i.layers))},dependencies:[Qo,Ko,dc,Gp,bc,Zp],styles:[".map-wrapper[_ngcontent-%COMP%]{position:relative;height:100vh;width:100%}.map-container[_ngcontent-%COMP%]{height:100%;width:100%;z-index:1}.filter-controls[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;z-index:1000;background-color:#ffffffe6;padding:15px;border-radius:8px;box-shadow:0 4px 6px #0003;display:flex;flex-direction:column;gap:8px;min-width:200px;font-family:Arial,sans-serif}.filter-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#333}.category-select[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px;font-size:14px;cursor:pointer}.count-badge[_ngcontent-%COMP%]{text-align:right;font-size:.8rem;color:#666;margin-top:5px}"]})};Dc(ds,Up).catch(t=>console.error(t));
