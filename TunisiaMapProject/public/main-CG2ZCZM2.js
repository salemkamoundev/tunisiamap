var gm=Object.create;var Gs=Object.defineProperty,mm=Object.defineProperties,_m=Object.getOwnPropertyDescriptor,vm=Object.getOwnPropertyDescriptors,ym=Object.getOwnPropertyNames,Bl=Object.getOwnPropertySymbols,Dm=Object.getPrototypeOf,Vl=Object.prototype.hasOwnProperty,Em=Object.prototype.propertyIsEnumerable;var jl=(t,n,i)=>n in t?Gs(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,Me=(t,n)=>{for(var i in n||={})Vl.call(n,i)&&jl(t,i,n[i]);if(Bl)for(var i of Bl(n))Em.call(n,i)&&jl(t,i,n[i]);return t},ut=(t,n)=>mm(t,vm(n));var Hl=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var wm=(t,n,i,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of ym(n))!Vl.call(t,s)&&s!==i&&Gs(t,s,{get:()=>n[s],enumerable:!(r=_m(n,s))||r.enumerable});return t};var Ws=(t,n,i)=>(i=t!=null?gm(Dm(t)):{},wm(n||!t||!t.__esModule?Gs(i,"default",{value:t,enumerable:!0}):i,t));var Cc=Hl((us,Bp)=>{"use strict";(function(t,n){typeof us=="object"&&typeof Bp<"u"?n(us):typeof define=="function"&&define.amd?define(["exports"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.leaflet={}))})(us,function(t){"use strict";var n="1.9.4";function i(e){var o,a,l,f;for(a=1,l=arguments.length;a<l;a++){f=arguments[a];for(o in f)e[o]=f[o]}return e}var r=Object.create||(function(){function e(){}return function(o){return e.prototype=o,new e}})();function s(e,o){var a=Array.prototype.slice;if(e.bind)return e.bind.apply(e,a.call(arguments,1));var l=a.call(arguments,2);return function(){return e.apply(o,l.length?l.concat(a.call(arguments)):arguments)}}var u=0;function c(e){return"_leaflet_id"in e||(e._leaflet_id=++u),e._leaflet_id}function d(e,o,a){var l,f,p,v;return v=function(){l=!1,f&&(p.apply(a,f),f=!1)},p=function(){l?f=arguments:(e.apply(a,arguments),setTimeout(v,o),l=!0)},p}function h(e,o,a){var l=o[1],f=o[0],p=l-f;return e===l&&a?e:((e-f)%p+p)%p+f}function g(){return!1}function m(e,o){if(o===!1)return e;var a=Math.pow(10,o===void 0?6:o);return Math.round(e*a)/a}function _(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function E(e){return _(e).split(/\s+/)}function y(e,o){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{});for(var a in o)e.options[a]=o[a];return e.options}function S(e,o,a){var l=[];for(var f in e)l.push(encodeURIComponent(a?f.toUpperCase():f)+"="+encodeURIComponent(e[f]));return(!o||o.indexOf("?")===-1?"?":"&")+l.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function b(e,o){return e.replace(I,function(a,l){var f=o[l];if(f===void 0)throw new Error("No value provided for variable "+a);return typeof f=="function"&&(f=f(o)),f})}var T=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function ie(e,o){for(var a=0;a<e.length;a++)if(e[a]===o)return a;return-1}var ue="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function re(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var nt=0;function it(e){var o=+new Date,a=Math.max(0,16-(o-nt));return nt=o+a,window.setTimeout(e,a)}var oi=window.requestAnimationFrame||re("RequestAnimationFrame")||it,bc=window.cancelAnimationFrame||re("CancelAnimationFrame")||re("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function Ce(e,o,a){if(a&&oi===it)e.call(o);else return oi.call(window,s(e,o))}function Fe(e){e&&bc.call(window,e)}var Up={__proto__:null,extend:i,create:r,bind:s,get lastId(){return u},stamp:c,throttle:d,wrapNum:h,falseFn:g,formatNum:m,trim:_,splitWords:E,setOptions:y,getParamString:S,template:b,isArray:T,indexOf:ie,emptyImageUrl:ue,requestFn:oi,cancelFn:bc,requestAnimFrame:Ce,cancelAnimFrame:Fe};function _t(){}_t.extend=function(e){var o=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=o.__super__=this.prototype,l=r(a);l.constructor=o,o.prototype=l;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(o[f]=this[f]);return e.statics&&i(o,e.statics),e.includes&&($p(e.includes),i.apply(null,[l].concat(e.includes))),i(l,e),delete l.statics,delete l.includes,l.options&&(l.options=a.options?r(a.options):{},i(l.options,e.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,v=l._initHooks.length;p<v;p++)l._initHooks[p].call(this)}},o},_t.include=function(e){var o=this.prototype.options;return i(this.prototype,e),e.options&&(this.prototype.options=o,this.mergeOptions(e.options)),this},_t.mergeOptions=function(e){return i(this.prototype.options,e),this},_t.addInitHook=function(e){var o=Array.prototype.slice.call(arguments,1),a=typeof e=="function"?e:function(){this[e].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function $p(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=T(e)?e:[e];for(var o=0;o<e.length;o++)e[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ae={on:function(e,o,a){if(typeof e=="object")for(var l in e)this._on(l,e[l],o);else{e=E(e);for(var f=0,p=e.length;f<p;f++)this._on(e[f],o,a)}return this},off:function(e,o,a){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var l in e)this._off(l,e[l],o);else{e=E(e);for(var f=arguments.length===1,p=0,v=e.length;p<v;p++)f?this._off(e[p]):this._off(e[p],o,a)}return this},_on:function(e,o,a,l){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(e,o,a)===!1){a===this&&(a=void 0);var f={fn:o,ctx:a};l&&(f.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(f)}},_off:function(e,o,a){var l,f,p;if(this._events&&(l=this._events[e],!!l)){if(arguments.length===1){if(this._firingCount)for(f=0,p=l.length;f<p;f++)l[f].fn=g;delete this._events[e];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var v=this._listens(e,o,a);if(v!==!1){var D=l[v];this._firingCount&&(D.fn=g,this._events[e]=l=l.slice()),l.splice(v,1)}}},fire:function(e,o,a){if(!this.listens(e,a))return this;var l=i({},o,{type:e,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var f=this._events[e];if(f){this._firingCount=this._firingCount+1||1;for(var p=0,v=f.length;p<v;p++){var D=f[p],w=D.fn;D.once&&this.off(e,w,D.ctx),w.call(D.ctx||this,l)}this._firingCount--}}return a&&this._propagateEvent(l),this},listens:function(e,o,a,l){typeof e!="string"&&console.warn('"string" type argument expected');var f=o;typeof o!="function"&&(l=!!o,f=void 0,a=void 0);var p=this._events&&this._events[e];if(p&&p.length&&this._listens(e,f,a)!==!1)return!0;if(l){for(var v in this._eventParents)if(this._eventParents[v].listens(e,o,a,l))return!0}return!1},_listens:function(e,o,a){if(!this._events)return!1;var l=this._events[e]||[];if(!o)return!!l.length;a===this&&(a=void 0);for(var f=0,p=l.length;f<p;f++)if(l[f].fn===o&&l[f].ctx===a)return f;return!1},once:function(e,o,a){if(typeof e=="object")for(var l in e)this._on(l,e[l],o,!0);else{e=E(e);for(var f=0,p=e.length;f<p;f++)this._on(e[f],o,a,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[c(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[c(e)],this},_propagateEvent:function(e){for(var o in this._eventParents)this._eventParents[o].fire(e.type,i({layer:e.target,propagatedFrom:e.target},e),!0)}};Ae.addEventListener=Ae.on,Ae.removeEventListener=Ae.clearAllEventListeners=Ae.off,Ae.addOneTimeEventListener=Ae.once,Ae.fireEvent=Ae.fire,Ae.hasEventListeners=Ae.listens;var si=_t.extend(Ae);function F(e,o,a){this.x=a?Math.round(e):e,this.y=a?Math.round(o):o}var Mc=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};F.prototype={clone:function(){return new F(this.x,this.y)},add:function(e){return this.clone()._add(O(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(O(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new F(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new F(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Mc(this.x),this.y=Mc(this.y),this},distanceTo:function(e){e=O(e);var o=e.x-this.x,a=e.y-this.y;return Math.sqrt(o*o+a*a)},equals:function(e){return e=O(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=O(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function O(e,o,a){return e instanceof F?e:T(e)?new F(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new F(e.x,e.y):new F(e,o,a)}function te(e,o){if(e)for(var a=o?[e,o]:e,l=0,f=a.length;l<f;l++)this.extend(a[l])}te.prototype={extend:function(e){var o,a;if(!e)return this;if(e instanceof F||typeof e[0]=="number"||"x"in e)o=a=O(e);else if(e=Ie(e),o=e.min,a=e.max,!o||!a)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=a.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(e){return O((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return O(this.min.x,this.max.y)},getTopRight:function(){return O(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var o,a;return typeof e[0]=="number"||e instanceof F?e=O(e):e=Ie(e),e instanceof te?(o=e.min,a=e.max):o=a=e,o.x>=this.min.x&&a.x<=this.max.x&&o.y>=this.min.y&&a.y<=this.max.y},intersects:function(e){e=Ie(e);var o=this.min,a=this.max,l=e.min,f=e.max,p=f.x>=o.x&&l.x<=a.x,v=f.y>=o.y&&l.y<=a.y;return p&&v},overlaps:function(e){e=Ie(e);var o=this.min,a=this.max,l=e.min,f=e.max,p=f.x>o.x&&l.x<a.x,v=f.y>o.y&&l.y<a.y;return p&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var o=this.min,a=this.max,l=Math.abs(o.x-a.x)*e,f=Math.abs(o.y-a.y)*e;return Ie(O(o.x-l,o.y-f),O(a.x+l,a.y+f))},equals:function(e){return e?(e=Ie(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Ie(e,o){return!e||e instanceof te?e:new te(e,o)}function Te(e,o){if(e)for(var a=o?[e,o]:e,l=0,f=a.length;l<f;l++)this.extend(a[l])}Te.prototype={extend:function(e){var o=this._southWest,a=this._northEast,l,f;if(e instanceof K)l=e,f=e;else if(e instanceof Te){if(l=e._southWest,f=e._northEast,!l||!f)return this}else return e?this.extend($(e)||ce(e)):this;return!o&&!a?(this._southWest=new K(l.lat,l.lng),this._northEast=new K(f.lat,f.lng)):(o.lat=Math.min(l.lat,o.lat),o.lng=Math.min(l.lng,o.lng),a.lat=Math.max(f.lat,a.lat),a.lng=Math.max(f.lng,a.lng)),this},pad:function(e){var o=this._southWest,a=this._northEast,l=Math.abs(o.lat-a.lat)*e,f=Math.abs(o.lng-a.lng)*e;return new Te(new K(o.lat-l,o.lng-f),new K(a.lat+l,a.lng+f))},getCenter:function(){return new K((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new K(this.getNorth(),this.getWest())},getSouthEast:function(){return new K(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof K||"lat"in e?e=$(e):e=ce(e);var o=this._southWest,a=this._northEast,l,f;return e instanceof Te?(l=e.getSouthWest(),f=e.getNorthEast()):l=f=e,l.lat>=o.lat&&f.lat<=a.lat&&l.lng>=o.lng&&f.lng<=a.lng},intersects:function(e){e=ce(e);var o=this._southWest,a=this._northEast,l=e.getSouthWest(),f=e.getNorthEast(),p=f.lat>=o.lat&&l.lat<=a.lat,v=f.lng>=o.lng&&l.lng<=a.lng;return p&&v},overlaps:function(e){e=ce(e);var o=this._southWest,a=this._northEast,l=e.getSouthWest(),f=e.getNorthEast(),p=f.lat>o.lat&&l.lat<a.lat,v=f.lng>o.lng&&l.lng<a.lng;return p&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,o){return e?(e=ce(e),this._southWest.equals(e.getSouthWest(),o)&&this._northEast.equals(e.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(e,o){return e instanceof Te?e:new Te(e,o)}function K(e,o,a){if(isNaN(e)||isNaN(o))throw new Error("Invalid LatLng object: ("+e+", "+o+")");this.lat=+e,this.lng=+o,a!==void 0&&(this.alt=+a)}K.prototype={equals:function(e,o){if(!e)return!1;e=$(e);var a=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return a<=(o===void 0?1e-9:o)},toString:function(e){return"LatLng("+m(this.lat,e)+", "+m(this.lng,e)+")"},distanceTo:function(e){return xt.distance(this,$(e))},wrap:function(){return xt.wrapLatLng(this)},toBounds:function(e){var o=180*e/40075017,a=o/Math.cos(Math.PI/180*this.lat);return ce([this.lat-o,this.lng-a],[this.lat+o,this.lng+a])},clone:function(){return new K(this.lat,this.lng,this.alt)}};function $(e,o,a){return e instanceof K?e:T(e)&&typeof e[0]!="object"?e.length===3?new K(e[0],e[1],e[2]):e.length===2?new K(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new K(e.lat,"lng"in e?e.lng:e.lon,e.alt):o===void 0?null:new K(e,o,a)}var vt={latLngToPoint:function(e,o){var a=this.projection.project(e),l=this.scale(o);return this.transformation._transform(a,l)},pointToLatLng:function(e,o){var a=this.scale(o),l=this.transformation.untransform(e,a);return this.projection.unproject(l)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var o=this.projection.bounds,a=this.scale(e),l=this.transformation.transform(o.min,a),f=this.transformation.transform(o.max,a);return new te(l,f)},infinite:!1,wrapLatLng:function(e){var o=this.wrapLng?h(e.lng,this.wrapLng,!0):e.lng,a=this.wrapLat?h(e.lat,this.wrapLat,!0):e.lat,l=e.alt;return new K(a,o,l)},wrapLatLngBounds:function(e){var o=e.getCenter(),a=this.wrapLatLng(o),l=o.lat-a.lat,f=o.lng-a.lng;if(l===0&&f===0)return e;var p=e.getSouthWest(),v=e.getNorthEast(),D=new K(p.lat-l,p.lng-f),w=new K(v.lat-l,v.lng-f);return new Te(D,w)}},xt=i({},vt,{wrapLng:[-180,180],R:6371e3,distance:function(e,o){var a=Math.PI/180,l=e.lat*a,f=o.lat*a,p=Math.sin((o.lat-e.lat)*a/2),v=Math.sin((o.lng-e.lng)*a/2),D=p*p+Math.cos(l)*Math.cos(f)*v*v,w=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*w}}),Sc=6378137,fs={R:Sc,MAX_LATITUDE:85.0511287798,project:function(e){var o=Math.PI/180,a=this.MAX_LATITUDE,l=Math.max(Math.min(a,e.lat),-a),f=Math.sin(l*o);return new F(this.R*e.lng*o,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(e){var o=180/Math.PI;return new K((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*o,e.x*o/this.R)},bounds:(function(){var e=Sc*Math.PI;return new te([-e,-e],[e,e])})()};function hs(e,o,a,l){if(T(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=o,this._c=a,this._d=l}hs.prototype={transform:function(e,o){return this._transform(e.clone(),o)},_transform:function(e,o){return o=o||1,e.x=o*(this._a*e.x+this._b),e.y=o*(this._c*e.y+this._d),e},untransform:function(e,o){return o=o||1,new F((e.x/o-this._b)/this._a,(e.y/o-this._d)/this._c)}};function ai(e,o,a,l){return new hs(e,o,a,l)}var ps=i({},xt,{code:"EPSG:3857",projection:fs,transformation:(function(){var e=.5/(Math.PI*fs.R);return ai(e,.5,-e,.5)})()}),Zp=i({},ps,{code:"EPSG:900913"});function xc(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Nc(e,o){var a="",l,f,p,v,D,w;for(l=0,p=e.length;l<p;l++){for(D=e[l],f=0,v=D.length;f<v;f++)w=D[f],a+=(f?"L":"M")+w.x+" "+w.y;a+=o?x.svg?"z":"x":""}return a||"M0 0"}var gs=document.documentElement.style,gr="ActiveXObject"in window,Gp=gr&&!document.addEventListener,Lc="msLaunchUri"in navigator&&!("documentMode"in document),ms=rt("webkit"),Ac=rt("android"),Pc=rt("android 2")||rt("android 3"),Wp=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qp=Ac&&rt("Google")&&Wp<537&&!("AudioNode"in window),_s=!!window.opera,Oc=!Lc&&rt("chrome"),Rc=rt("gecko")&&!ms&&!_s&&!gr,Yp=!Oc&&rt("safari"),kc=rt("phantom"),Fc="OTransition"in gs,Kp=navigator.platform.indexOf("Win")===0,Bc=gr&&"transition"in gs,vs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Pc,jc="MozPerspective"in gs,Qp=!window.L_DISABLE_3D&&(Bc||vs||jc)&&!Fc&&!kc,ui=typeof orientation<"u"||rt("mobile"),Jp=ui&&ms,Xp=ui&&vs,Vc=!window.PointerEvent&&window.MSPointerEvent,Hc=!!(window.PointerEvent||Vc),zc="ontouchstart"in window||!!window.TouchEvent,eg=!window.L_NO_TOUCH&&(zc||Hc),tg=ui&&_s,ng=ui&&Rc,ig=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,rg=(function(){var e=!1;try{var o=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",g,o),window.removeEventListener("testPassiveEventSupport",g,o)}catch{}return e})(),og=(function(){return!!document.createElement("canvas").getContext})(),ys=!!(document.createElementNS&&xc("svg").createSVGRect),sg=!!ys&&(function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ag=!ys&&(function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var o=e.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}})(),ug=navigator.platform.indexOf("Mac")===0,cg=navigator.platform.indexOf("Linux")===0;function rt(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var x={ie:gr,ielt9:Gp,edge:Lc,webkit:ms,android:Ac,android23:Pc,androidStock:qp,opera:_s,chrome:Oc,gecko:Rc,safari:Yp,phantom:kc,opera12:Fc,win:Kp,ie3d:Bc,webkit3d:vs,gecko3d:jc,any3d:Qp,mobile:ui,mobileWebkit:Jp,mobileWebkit3d:Xp,msPointer:Vc,pointer:Hc,touch:eg,touchNative:zc,mobileOpera:tg,mobileGecko:ng,retina:ig,passiveEvents:rg,canvas:og,svg:ys,vml:ag,inlineSvg:sg,mac:ug,linux:cg},Uc=x.msPointer?"MSPointerDown":"pointerdown",$c=x.msPointer?"MSPointerMove":"pointermove",Zc=x.msPointer?"MSPointerUp":"pointerup",Gc=x.msPointer?"MSPointerCancel":"pointercancel",Ds={touchstart:Uc,touchmove:$c,touchend:Zc,touchcancel:Gc},Wc={touchstart:gg,touchmove:mr,touchend:mr,touchcancel:mr},Tn={},qc=!1;function lg(e,o,a){return o==="touchstart"&&pg(),Wc[o]?(a=Wc[o].bind(this,a),e.addEventListener(Ds[o],a,!1),a):(console.warn("wrong event specified:",o),g)}function dg(e,o,a){if(!Ds[o]){console.warn("wrong event specified:",o);return}e.removeEventListener(Ds[o],a,!1)}function fg(e){Tn[e.pointerId]=e}function hg(e){Tn[e.pointerId]&&(Tn[e.pointerId]=e)}function Yc(e){delete Tn[e.pointerId]}function pg(){qc||(document.addEventListener(Uc,fg,!0),document.addEventListener($c,hg,!0),document.addEventListener(Zc,Yc,!0),document.addEventListener(Gc,Yc,!0),qc=!0)}function mr(e,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var a in Tn)o.touches.push(Tn[a]);o.changedTouches=[o],e(o)}}function gg(e,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&he(o),mr(e,o)}function mg(e){var o={},a,l;for(l in e)a=e[l],o[l]=a&&a.bind?a.bind(e):a;return e=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var _g=200;function vg(e,o){e.addEventListener("dblclick",o);var a=0,l;function f(p){if(p.detail!==1){l=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var v=el(p);if(!(v.some(function(w){return w instanceof HTMLLabelElement&&w.attributes.for})&&!v.some(function(w){return w instanceof HTMLInputElement||w instanceof HTMLSelectElement}))){var D=Date.now();D-a<=_g?(l++,l===2&&o(mg(p))):l=1,a=D}}}return e.addEventListener("click",f),{dblclick:o,simDblclick:f}}function yg(e,o){e.removeEventListener("dblclick",o.dblclick),e.removeEventListener("click",o.simDblclick)}var Es=yr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ci=yr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Kc=ci==="webkitTransition"||ci==="OTransition"?ci+"End":"transitionend";function Qc(e){return typeof e=="string"?document.getElementById(e):e}function li(e,o){var a=e.style[o]||e.currentStyle&&e.currentStyle[o];if((!a||a==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(e,null);a=l?l[o]:null}return a==="auto"?null:a}function W(e,o,a){var l=document.createElement(e);return l.className=o||"",a&&a.appendChild(l),l}function ne(e){var o=e.parentNode;o&&o.removeChild(e)}function _r(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function bn(e){var o=e.parentNode;o&&o.lastChild!==e&&o.appendChild(e)}function Mn(e){var o=e.parentNode;o&&o.firstChild!==e&&o.insertBefore(e,o.firstChild)}function ws(e,o){if(e.classList!==void 0)return e.classList.contains(o);var a=vr(e);return a.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(a)}function j(e,o){if(e.classList!==void 0)for(var a=E(o),l=0,f=a.length;l<f;l++)e.classList.add(a[l]);else if(!ws(e,o)){var p=vr(e);Cs(e,(p?p+" ":"")+o)}}function se(e,o){e.classList!==void 0?e.classList.remove(o):Cs(e,_((" "+vr(e)+" ").replace(" "+o+" "," ")))}function Cs(e,o){e.className.baseVal===void 0?e.className=o:e.className.baseVal=o}function vr(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function Be(e,o){"opacity"in e.style?e.style.opacity=o:"filter"in e.style&&Dg(e,o)}function Dg(e,o){var a=!1,l="DXImageTransform.Microsoft.Alpha";try{a=e.filters.item(l)}catch{if(o===1)return}o=Math.round(o*100),a?(a.Enabled=o!==100,a.Opacity=o):e.style.filter+=" progid:"+l+"(opacity="+o+")"}function yr(e){for(var o=document.documentElement.style,a=0;a<e.length;a++)if(e[a]in o)return e[a];return!1}function zt(e,o,a){var l=o||new F(0,0);e.style[Es]=(x.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(a?" scale("+a+")":"")}function le(e,o){e._leaflet_pos=o,x.any3d?zt(e,o):(e.style.left=o.x+"px",e.style.top=o.y+"px")}function Ut(e){return e._leaflet_pos||new F(0,0)}var di,fi,Is;if("onselectstart"in document)di=function(){B(window,"selectstart",he)},fi=function(){X(window,"selectstart",he)};else{var hi=yr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);di=function(){if(hi){var e=document.documentElement.style;Is=e[hi],e[hi]="none"}},fi=function(){hi&&(document.documentElement.style[hi]=Is,Is=void 0)}}function Ts(){B(window,"dragstart",he)}function bs(){X(window,"dragstart",he)}var Dr,Ms;function Ss(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Er(),Dr=e,Ms=e.style.outlineStyle,e.style.outlineStyle="none",B(window,"keydown",Er))}function Er(){Dr&&(Dr.style.outlineStyle=Ms,Dr=void 0,Ms=void 0,X(window,"keydown",Er))}function Jc(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function xs(e){var o=e.getBoundingClientRect();return{x:o.width/e.offsetWidth||1,y:o.height/e.offsetHeight||1,boundingClientRect:o}}var Eg={__proto__:null,TRANSFORM:Es,TRANSITION:ci,TRANSITION_END:Kc,get:Qc,getStyle:li,create:W,remove:ne,empty:_r,toFront:bn,toBack:Mn,hasClass:ws,addClass:j,removeClass:se,setClass:Cs,getClass:vr,setOpacity:Be,testProp:yr,setTransform:zt,setPosition:le,getPosition:Ut,get disableTextSelection(){return di},get enableTextSelection(){return fi},disableImageDrag:Ts,enableImageDrag:bs,preventOutline:Ss,restoreOutline:Er,getSizedParentNode:Jc,getScale:xs};function B(e,o,a,l){if(o&&typeof o=="object")for(var f in o)Ls(e,f,o[f],a);else{o=E(o);for(var p=0,v=o.length;p<v;p++)Ls(e,o[p],a,l)}return this}var ot="_leaflet_events";function X(e,o,a,l){if(arguments.length===1)Xc(e),delete e[ot];else if(o&&typeof o=="object")for(var f in o)As(e,f,o[f],a);else if(o=E(o),arguments.length===2)Xc(e,function(D){return ie(o,D)!==-1});else for(var p=0,v=o.length;p<v;p++)As(e,o[p],a,l);return this}function Xc(e,o){for(var a in e[ot]){var l=a.split(/\d/)[0];(!o||o(l))&&As(e,l,null,null,a)}}var Ns={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ls(e,o,a,l){var f=o+c(a)+(l?"_"+c(l):"");if(e[ot]&&e[ot][f])return this;var p=function(D){return a.call(l||e,D||window.event)},v=p;!x.touchNative&&x.pointer&&o.indexOf("touch")===0?p=lg(e,o,p):x.touch&&o==="dblclick"?p=vg(e,p):"addEventListener"in e?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?e.addEventListener(Ns[o]||o,p,x.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(p=function(D){D=D||window.event,Os(e,D)&&v(D)},e.addEventListener(Ns[o],p,!1)):e.addEventListener(o,v,!1):e.attachEvent("on"+o,p),e[ot]=e[ot]||{},e[ot][f]=p}function As(e,o,a,l,f){f=f||o+c(a)+(l?"_"+c(l):"");var p=e[ot]&&e[ot][f];if(!p)return this;!x.touchNative&&x.pointer&&o.indexOf("touch")===0?dg(e,o,p):x.touch&&o==="dblclick"?yg(e,p):"removeEventListener"in e?e.removeEventListener(Ns[o]||o,p,!1):e.detachEvent("on"+o,p),e[ot][f]=null}function $t(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Ps(e){return Ls(e,"wheel",$t),this}function pi(e){return B(e,"mousedown touchstart dblclick contextmenu",$t),e._leaflet_disable_click=!0,this}function he(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Zt(e){return he(e),$t(e),this}function el(e){if(e.composedPath)return e.composedPath();for(var o=[],a=e.target;a;)o.push(a),a=a.parentNode;return o}function tl(e,o){if(!o)return new F(e.clientX,e.clientY);var a=xs(o),l=a.boundingClientRect;return new F((e.clientX-l.left)/a.x-o.clientLeft,(e.clientY-l.top)/a.y-o.clientTop)}var wg=x.linux&&x.chrome?window.devicePixelRatio:x.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nl(e){return x.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/wg:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Os(e,o){var a=o.relatedTarget;if(!a)return!0;try{for(;a&&a!==e;)a=a.parentNode}catch{return!1}return a!==e}var Cg={__proto__:null,on:B,off:X,stopPropagation:$t,disableScrollPropagation:Ps,disableClickPropagation:pi,preventDefault:he,stop:Zt,getPropagationPath:el,getMousePosition:tl,getWheelDelta:nl,isExternalTarget:Os,addListener:B,removeListener:X},il=si.extend({run:function(e,o,a,l){this.stop(),this._el=e,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=Ut(e),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ce(this._animate,this),this._step()},_step:function(e){var o=+new Date-this._startTime,a=this._duration*1e3;o<a?this._runFrame(this._easeOut(o/a),e):(this._runFrame(1),this._complete())},_runFrame:function(e,o){var a=this._startPos.add(this._offset.multiplyBy(e));o&&a._round(),le(this._el,a),this.fire("step")},_complete:function(){Fe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Z=si.extend({options:{crs:ps,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,o){o=y(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView($(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ci&&x.any3d&&!x.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),B(this._proxy,Kc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,o,a){if(o=o===void 0?this._zoom:this._limitZoom(o),e=this._limitCenter($(e),o,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=i({animate:a.animate},a.zoom),a.pan=i({animate:a.animate,duration:a.duration},a.pan));var l=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,o,a.zoom):this._tryAnimatedPan(e,a.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(e,o,a.pan&&a.pan.noMoveStart),this},setZoom:function(e,o){return this._loaded?this.setView(this.getCenter(),e,{zoom:o}):(this._zoom=e,this)},zoomIn:function(e,o){return e=e||(x.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,o)},zoomOut:function(e,o){return e=e||(x.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,o)},setZoomAround:function(e,o,a){var l=this.getZoomScale(o),f=this.getSize().divideBy(2),p=e instanceof F?e:this.latLngToContainerPoint(e),v=p.subtract(f).multiplyBy(1-1/l),D=this.containerPointToLatLng(f.add(v));return this.setView(D,o,{zoom:a})},_getBoundsCenterZoom:function(e,o){o=o||{},e=e.getBounds?e.getBounds():ce(e);var a=O(o.paddingTopLeft||o.padding||[0,0]),l=O(o.paddingBottomRight||o.padding||[0,0]),f=this.getBoundsZoom(e,!1,a.add(l));if(f=typeof o.maxZoom=="number"?Math.min(o.maxZoom,f):f,f===1/0)return{center:e.getCenter(),zoom:f};var p=l.subtract(a).divideBy(2),v=this.project(e.getSouthWest(),f),D=this.project(e.getNorthEast(),f),w=this.unproject(v.add(D).divideBy(2).add(p),f);return{center:w,zoom:f}},fitBounds:function(e,o){if(e=ce(e),!e.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(e,o);return this.setView(a.center,a.zoom,o)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,o){return this.setView(e,this._zoom,{pan:o})},panBy:function(e,o){if(e=O(e).round(),o=o||{},!e.x&&!e.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new il,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){j(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,a,o.duration||.25,o.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,o,a){if(a=a||{},a.animate===!1||!x.any3d)return this.setView(e,o,a);this._stop();var l=this.project(this.getCenter()),f=this.project(e),p=this.getSize(),v=this._zoom;e=$(e),o=o===void 0?v:o;var D=Math.max(p.x,p.y),w=D*this.getZoomScale(v,o),C=f.distanceTo(l)||1,M=1.42,A=M*M;function H(de){var Pr=de?-1:1,dm=de?w:D,fm=w*w-D*D+Pr*A*A*C*C,hm=2*dm*A*C,Zs=fm/hm,Fl=Math.sqrt(Zs*Zs+1)-Zs,pm=Fl<1e-9?-18:Math.log(Fl);return pm}function ye(de){return(Math.exp(de)-Math.exp(-de))/2}function fe(de){return(Math.exp(de)+Math.exp(-de))/2}function Ve(de){return ye(de)/fe(de)}var be=H(0);function Pn(de){return D*(fe(be)/fe(be+M*de))}function am(de){return D*(fe(be)*Ve(be+M*de)-ye(be))/A}function um(de){return 1-Math.pow(1-de,1.5)}var cm=Date.now(),Rl=(H(1)-be)/M,lm=a.duration?1e3*a.duration:1e3*Rl*.8;function kl(){var de=(Date.now()-cm)/lm,Pr=um(de)*Rl;de<=1?(this._flyToFrame=Ce(kl,this),this._move(this.unproject(l.add(f.subtract(l).multiplyBy(am(Pr)/C)),v),this.getScaleZoom(D/Pn(Pr),v),{flyTo:!0})):this._move(e,o)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),kl.call(this),this},flyToBounds:function(e,o){var a=this._getBoundsCenterZoom(e,o);return this.flyTo(a.center,a.zoom,o)},setMaxBounds:function(e){return e=ce(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var o=this.options.minZoom;return this.options.minZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var o=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,o){this._enforcingBounds=!0;var a=this.getCenter(),l=this._limitCenter(a,this._zoom,ce(e));return a.equals(l)||this.panTo(l,o),this._enforcingBounds=!1,this},panInside:function(e,o){o=o||{};var a=O(o.paddingTopLeft||o.padding||[0,0]),l=O(o.paddingBottomRight||o.padding||[0,0]),f=this.project(this.getCenter()),p=this.project(e),v=this.getPixelBounds(),D=Ie([v.min.add(a),v.max.subtract(l)]),w=D.getSize();if(!D.contains(p)){this._enforcingBounds=!0;var C=p.subtract(D.getCenter()),M=D.extend(p).getSize().subtract(w);f.x+=C.x<0?-M.x:M.x,f.y+=C.y<0?-M.y:M.y,this.panTo(this.unproject(f),o),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=i({animate:!1,pan:!0},e===!0?{animate:!0}:e);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),l=o.divideBy(2).round(),f=a.divideBy(2).round(),p=l.subtract(f);return!p.x&&!p.y?this:(e.animate&&e.pan?this.panBy(p):(e.pan&&this._rawPanBy(p),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=i({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=s(this._handleGeolocationResponse,this),a=s(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,a,e):navigator.geolocation.getCurrentPosition(o,a,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var o=e.code,a=e.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var o=e.coords.latitude,a=e.coords.longitude,l=new K(o,a),f=l.toBounds(e.coords.accuracy*2),p=this._locateOptions;if(p.setView){var v=this.getBoundsZoom(f);this.setView(l,p.maxZoom?Math.min(v,p.maxZoom):v)}var D={latlng:l,bounds:f,timestamp:e.timestamp};for(var w in e.coords)typeof e.coords[w]=="number"&&(D[w]=e.coords[w]);this.fire("locationfound",D)}},addHandler:function(e,o){if(!o)return this;var a=this[e]=new o(this);return this._handlers.push(a),this.options[e]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Fe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)ne(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,o){var a="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),l=W("div",a,o||this._mapPane);return e&&(this._panes[e]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),o=this.unproject(e.getBottomLeft()),a=this.unproject(e.getTopRight());return new Te(o,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,o,a){e=ce(e),a=O(a||[0,0]);var l=this.getZoom()||0,f=this.getMinZoom(),p=this.getMaxZoom(),v=e.getNorthWest(),D=e.getSouthEast(),w=this.getSize().subtract(a),C=Ie(this.project(D,l),this.project(v,l)).getSize(),M=x.any3d?this.options.zoomSnap:1,A=w.x/C.x,H=w.y/C.y,ye=o?Math.max(A,H):Math.min(A,H);return l=this.getScaleZoom(ye,l),M&&(l=Math.round(l/(M/100))*(M/100),l=o?Math.ceil(l/M)*M:Math.floor(l/M)*M),Math.max(f,Math.min(p,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new F(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,o){var a=this._getTopLeftPoint(e,o);return new te(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,o){var a=this.options.crs;return o=o===void 0?this._zoom:o,a.scale(e)/a.scale(o)},getScaleZoom:function(e,o){var a=this.options.crs;o=o===void 0?this._zoom:o;var l=a.zoom(e*a.scale(o));return isNaN(l)?1/0:l},project:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint($(e),o)},unproject:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(O(e),o)},layerPointToLatLng:function(e){var o=O(e).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(e){var o=this.project($(e))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng($(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ce(e))},distance:function(e,o){return this.options.crs.distance($(e),$(o))},containerPointToLayerPoint:function(e){return O(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return O(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var o=this.containerPointToLayerPoint(O(e));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint($(e)))},mouseEventToContainerPoint:function(e){return tl(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var o=this._container=Qc(e);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");B(o,"scroll",this._onScroll,this),this._containerId=c(o)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&x.any3d,j(e,"leaflet-container"+(x.touch?" leaflet-touch":"")+(x.retina?" leaflet-retina":"")+(x.ielt9?" leaflet-oldie":"")+(x.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=li(e,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),le(this._mapPane,new F(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(j(e.markerPane,"leaflet-zoom-hide"),j(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,o,a){le(this._mapPane,new F(0,0));var l=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var f=this._zoom!==o;this._moveStart(f,a)._move(e,o)._moveEnd(f),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(e,o){return e&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(e,o,a,l){o===void 0&&(o=this._zoom);var f=this._zoom!==o;return this._zoom=o,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),l?a&&a.pinch&&this.fire("zoom",a):((f||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Fe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){le(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[c(this._container)]=this;var o=e?X:B;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),x.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Fe(this._resizeRequest),this._resizeRequest=Ce(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,o){for(var a=[],l,f=o==="mouseout"||o==="mouseover",p=e.target||e.srcElement,v=!1;p;){if(l=this._targets[c(p)],l&&(o==="click"||o==="preclick")&&this._draggableMoved(l)){v=!0;break}if(l&&l.listens(o,!0)&&(f&&!Os(p,e)||(a.push(l),f))||p===this._container)break;p=p.parentNode}return!a.length&&!v&&!f&&this.listens(o,!0)&&(a=[this]),a},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var o=e.target||e.srcElement;if(!(!this._loaded||o._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(o))){var a=e.type;a==="mousedown"&&Ss(o),this._fireDOMEvent(e,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,o,a){if(e.type==="click"){var l=i({},e);l.type="preclick",this._fireDOMEvent(l,l.type,a)}var f=this._findEventTargets(e,o);if(a){for(var p=[],v=0;v<a.length;v++)a[v].listens(o,!0)&&p.push(a[v]);f=p.concat(f)}if(f.length){o==="contextmenu"&&he(e);var D=f[0],w={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var C=D.getLatLng&&(!D._radius||D._radius<=10);w.containerPoint=C?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(e),w.layerPoint=this.containerPointToLayerPoint(w.containerPoint),w.latlng=C?D.getLatLng():this.layerPointToLatLng(w.layerPoint)}for(v=0;v<f.length;v++)if(f[v].fire(o,w,!0),w.originalEvent._stopped||f[v].options.bubblingMouseEvents===!1&&ie(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,o=this._handlers.length;e<o;e++)this._handlers[e].disable()},whenReady:function(e,o){return this._loaded?e.call(o||this,{target:this}):this.on("load",e,o),this},_getMapPanePos:function(){return Ut(this._mapPane)||new F(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,o){var a=e&&o!==void 0?this._getNewPixelOrigin(e,o):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,o){var a=this.getSize()._divideBy(2);return this.project(e,o)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,o,a){var l=this._getNewPixelOrigin(a,o);return this.project(e,o)._subtract(l)},_latLngBoundsToNewLayerBounds:function(e,o,a){var l=this._getNewPixelOrigin(a,o);return Ie([this.project(e.getSouthWest(),o)._subtract(l),this.project(e.getNorthWest(),o)._subtract(l),this.project(e.getSouthEast(),o)._subtract(l),this.project(e.getNorthEast(),o)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,o,a){if(!a)return e;var l=this.project(e,o),f=this.getSize().divideBy(2),p=new te(l.subtract(f),l.add(f)),v=this._getBoundsOffset(p,a,o);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?e:this.unproject(l.add(v),o)},_limitOffset:function(e,o){if(!o)return e;var a=this.getPixelBounds(),l=new te(a.min.add(e),a.max.add(e));return e.add(this._getBoundsOffset(l,o))},_getBoundsOffset:function(e,o,a){var l=Ie(this.project(o.getNorthEast(),a),this.project(o.getSouthWest(),a)),f=l.min.subtract(e.min),p=l.max.subtract(e.max),v=this._rebound(f.x,-p.x),D=this._rebound(f.y,-p.y);return new F(v,D)},_rebound:function(e,o){return e+o>0?Math.round(e-o)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(o))},_limitZoom:function(e){var o=this.getMinZoom(),a=this.getMaxZoom(),l=x.any3d?this.options.zoomSnap:1;return l&&(e=Math.round(e/l)*l),Math.max(o,Math.min(a,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){se(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,o){var a=this._getCenterOffset(e)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,o),!0)},_createAnimProxy:function(){var e=this._proxy=W("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(o){var a=Es,l=this._proxy.style[a];zt(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),l===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),o=this.getZoom();zt(this._proxy,this.project(e,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,o,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(o),f=this._getCenterOffset(e)._divideBy(1-1/l);return a.animate!==!0&&!this.getSize().contains(f)?!1:(Ce(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(e,o,!0)},this),!0)},_animateZoom:function(e,o,a,l){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=o,j(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:o,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&se(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ig(e,o){return new Z(e,o)}var We=_t.extend({options:{position:"topright"},initialize:function(e){y(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var o=this._map;return o&&o.removeControl(this),this.options.position=e,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var o=this._container=this.onAdd(e),a=this.getPosition(),l=e._controlCorners[a];return j(o,"leaflet-control"),a.indexOf("bottom")!==-1?l.insertBefore(o,l.firstChild):l.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),gi=function(e){return new We(e)};Z.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},o="leaflet-",a=this._controlContainer=W("div",o+"control-container",this._container);function l(f,p){var v=o+f+" "+o+p;e[f+p]=W("div",v,a)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ne(this._controlCorners[e]);ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var rl=We.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,o,a,l){return a<l?-1:l<a?1:0}},initialize:function(e,o,a){y(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in e)this._addLayer(e[l],l);for(l in o)this._addLayer(o[l],l,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return We.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,o){return this._addLayer(e,o),this._map?this._update():this},addOverlay:function(e,o){return this._addLayer(e,o,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var o=this._getLayer(c(e));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){j(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(j(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):se(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return se(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",o=this._container=W("div",e),a=this.options.collapsed;o.setAttribute("aria-haspopup",!0),pi(o),Ps(o);var l=this._section=W("section",e+"-list");a&&(this._map.on("click",this.collapse,this),B(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=W("a",e+"-toggle",o);f.href="#",f.title="Layers",f.setAttribute("role","button"),B(f,{keydown:function(p){p.keyCode===13&&this._expandSafely()},click:function(p){he(p),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=W("div",e+"-base",l),this._separator=W("div",e+"-separator",l),this._overlaysList=W("div",e+"-overlays",l),o.appendChild(l)},_getLayer:function(e){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&c(this._layers[o].layer)===e)return this._layers[o]},_addLayer:function(e,o,a){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:o,overlay:a}),this.options.sortLayers&&this._layers.sort(s(function(l,f){return this.options.sortFunction(l.layer,f.layer,l.name,f.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_r(this._baseLayersList),_r(this._overlaysList),this._layerControlInputs=[];var e,o,a,l,f=0;for(a=0;a<this._layers.length;a++)l=this._layers[a],this._addItem(l),o=o||l.overlay,e=e||!l.overlay,f+=l.overlay?0:1;return this.options.hideSingleBase&&(e=e&&f>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=o&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var o=this._getLayer(c(e.target)),a=o.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;a&&this._map.fire(a,o)},_createRadioElement:function(e,o){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(o?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=a,l.firstChild},_addItem:function(e){var o=document.createElement("label"),a=this._map.hasLayer(e.layer),l;e.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=a):l=this._createRadioElement("leaflet-base-layers_"+c(this),a),this._layerControlInputs.push(l),l.layerId=c(e.layer),B(l,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+e.name;var p=document.createElement("span");o.appendChild(p),p.appendChild(l),p.appendChild(f);var v=e.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,o,a,l=[],f=[];this._handlingClick=!0;for(var p=e.length-1;p>=0;p--)o=e[p],a=this._getLayer(o.layerId).layer,o.checked?l.push(a):o.checked||f.push(a);for(p=0;p<f.length;p++)this._map.hasLayer(f[p])&&this._map.removeLayer(f[p]);for(p=0;p<l.length;p++)this._map.hasLayer(l[p])||this._map.addLayer(l[p]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,o,a,l=this._map.getZoom(),f=e.length-1;f>=0;f--)o=e[f],a=this._getLayer(o.layerId).layer,o.disabled=a.options.minZoom!==void 0&&l<a.options.minZoom||a.options.maxZoom!==void 0&&l>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,B(e,"click",he),this.expand();var o=this;setTimeout(function(){X(e,"click",he),o._preventClick=!1})}}),Tg=function(e,o,a){return new rl(e,o,a)},Rs=We.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var o="leaflet-control-zoom",a=W("div",o+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,o+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,o+"-out",a,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,o,a,l,f){var p=W("a",a,l);return p.innerHTML=e,p.href="#",p.title=o,p.setAttribute("role","button"),p.setAttribute("aria-label",o),pi(p),B(p,"click",Zt),B(p,"click",f,this),B(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var e=this._map,o="leaflet-disabled";se(this._zoomInButton,o),se(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(j(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(j(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Z.mergeOptions({zoomControl:!0}),Z.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Rs,this.addControl(this.zoomControl))});var bg=function(e){return new Rs(e)},ol=We.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var o="leaflet-control-scale",a=W("div",o),l=this.options;return this._addScales(l,o+"-line",a),e.on(l.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),a},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,o,a){e.metric&&(this._mScale=W("div",o,a)),e.imperial&&(this._iScale=W("div",o,a))},_update:function(){var e=this._map,o=e.getSize().y/2,a=e.distance(e.containerPointToLatLng([0,o]),e.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(a)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var o=this._getRoundNum(e),a=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,a,o/e)},_updateImperial:function(e){var o=e*3.2808399,a,l,f;o>5280?(a=o/5280,l=this._getRoundNum(a),this._updateScale(this._iScale,l+" mi",l/a)):(f=this._getRoundNum(o),this._updateScale(this._iScale,f+" ft",f/o))},_updateScale:function(e,o,a){e.style.width=Math.round(this.options.maxWidth*a)+"px",e.innerHTML=o},_getRoundNum:function(e){var o=Math.pow(10,(Math.floor(e)+"").length-1),a=e/o;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,o*a}}),Mg=function(e){return new ol(e)},Sg='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ks=We.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(x.inlineSvg?Sg+" ":"")+"Leaflet</a>"},initialize:function(e){y(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=W("div","leaflet-control-attribution"),pi(this._container);for(var o in e._layers)e._layers[o].getAttribution&&this.addAttribution(e._layers[o].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var o in this._attributions)this._attributions[o]&&e.push(o);var a=[];this.options.prefix&&a.push(this.options.prefix),e.length&&a.push(e.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});Z.mergeOptions({attributionControl:!0}),Z.addInitHook(function(){this.options.attributionControl&&new ks().addTo(this)});var xg=function(e){return new ks(e)};We.Layers=rl,We.Zoom=Rs,We.Scale=ol,We.Attribution=ks,gi.layers=Tg,gi.zoom=bg,gi.scale=Mg,gi.attribution=xg;var st=_t.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});st.addTo=function(e,o){return e.addHandler(o,this),this};var Ng={Events:Ae},sl=x.touch?"touchstart mousedown":"mousedown",Nt=si.extend({options:{clickTolerance:3},initialize:function(e,o,a,l){y(this,l),this._element=e,this._dragStartTarget=o||e,this._preventOutline=a},enable:function(){this._enabled||(B(this._dragStartTarget,sl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Nt._dragging===this&&this.finishDrag(!0),X(this._dragStartTarget,sl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ws(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Nt._dragging===this&&this.finishDrag();return}if(!(Nt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Nt._dragging=this,this._preventOutline&&Ss(this._element),Ts(),di(),!this._moving)){this.fire("down");var o=e.touches?e.touches[0]:e,a=Jc(this._element);this._startPoint=new F(o.clientX,o.clientY),this._startPos=Ut(this._element),this._parentScale=xs(a);var l=e.type==="mousedown";B(document,l?"mousemove":"touchmove",this._onMove,this),B(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var o=e.touches&&e.touches.length===1?e.touches[0]:e,a=new F(o.clientX,o.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,he(e),this._moved||(this.fire("dragstart"),this._moved=!0,j(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),j(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),le(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){se(document.body,"leaflet-dragging"),this._lastTarget&&(se(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),X(document,"mousemove touchmove",this._onMove,this),X(document,"mouseup touchend touchcancel",this._onUp,this),bs(),fi();var o=this._moved&&this._moving;this._moving=!1,Nt._dragging=!1,o&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function al(e,o,a){var l,f=[1,4,2,8],p,v,D,w,C,M,A,H;for(p=0,M=e.length;p<M;p++)e[p]._code=Gt(e[p],o);for(D=0;D<4;D++){for(A=f[D],l=[],p=0,M=e.length,v=M-1;p<M;v=p++)w=e[p],C=e[v],w._code&A?C._code&A||(H=wr(C,w,A,o,a),H._code=Gt(H,o),l.push(H)):(C._code&A&&(H=wr(C,w,A,o,a),H._code=Gt(H,o),l.push(H)),l.push(w));e=l}return e}function ul(e,o){var a,l,f,p,v,D,w,C,M;if(!e||e.length===0)throw new Error("latlngs not passed");je(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var A=$([0,0]),H=ce(e),ye=H.getNorthWest().distanceTo(H.getSouthWest())*H.getNorthEast().distanceTo(H.getNorthWest());ye<1700&&(A=Fs(e));var fe=e.length,Ve=[];for(a=0;a<fe;a++){var be=$(e[a]);Ve.push(o.project($([be.lat-A.lat,be.lng-A.lng])))}for(D=w=C=0,a=0,l=fe-1;a<fe;l=a++)f=Ve[a],p=Ve[l],v=f.y*p.x-p.y*f.x,w+=(f.x+p.x)*v,C+=(f.y+p.y)*v,D+=v*3;D===0?M=Ve[0]:M=[w/D,C/D];var Pn=o.unproject(O(M));return $([Pn.lat+A.lat,Pn.lng+A.lng])}function Fs(e){for(var o=0,a=0,l=0,f=0;f<e.length;f++){var p=$(e[f]);o+=p.lat,a+=p.lng,l++}return $([o/l,a/l])}var Lg={__proto__:null,clipPolygon:al,polygonCenter:ul,centroid:Fs};function cl(e,o){if(!o||!e.length)return e.slice();var a=o*o;return e=Og(e,a),e=Pg(e,a),e}function ll(e,o,a){return Math.sqrt(mi(e,o,a,!0))}function Ag(e,o,a){return mi(e,o,a)}function Pg(e,o){var a=e.length,l=typeof Uint8Array<"u"?Uint8Array:Array,f=new l(a);f[0]=f[a-1]=1,Bs(e,f,o,0,a-1);var p,v=[];for(p=0;p<a;p++)f[p]&&v.push(e[p]);return v}function Bs(e,o,a,l,f){var p=0,v,D,w;for(D=l+1;D<=f-1;D++)w=mi(e[D],e[l],e[f],!0),w>p&&(v=D,p=w);p>a&&(o[v]=1,Bs(e,o,a,l,v),Bs(e,o,a,v,f))}function Og(e,o){for(var a=[e[0]],l=1,f=0,p=e.length;l<p;l++)Rg(e[l],e[f])>o&&(a.push(e[l]),f=l);return f<p-1&&a.push(e[p-1]),a}var dl;function fl(e,o,a,l,f){var p=l?dl:Gt(e,a),v=Gt(o,a),D,w,C;for(dl=v;;){if(!(p|v))return[e,o];if(p&v)return!1;D=p||v,w=wr(e,o,D,a,f),C=Gt(w,a),D===p?(e=w,p=C):(o=w,v=C)}}function wr(e,o,a,l,f){var p=o.x-e.x,v=o.y-e.y,D=l.min,w=l.max,C,M;return a&8?(C=e.x+p*(w.y-e.y)/v,M=w.y):a&4?(C=e.x+p*(D.y-e.y)/v,M=D.y):a&2?(C=w.x,M=e.y+v*(w.x-e.x)/p):a&1&&(C=D.x,M=e.y+v*(D.x-e.x)/p),new F(C,M,f)}function Gt(e,o){var a=0;return e.x<o.min.x?a|=1:e.x>o.max.x&&(a|=2),e.y<o.min.y?a|=4:e.y>o.max.y&&(a|=8),a}function Rg(e,o){var a=o.x-e.x,l=o.y-e.y;return a*a+l*l}function mi(e,o,a,l){var f=o.x,p=o.y,v=a.x-f,D=a.y-p,w=v*v+D*D,C;return w>0&&(C=((e.x-f)*v+(e.y-p)*D)/w,C>1?(f=a.x,p=a.y):C>0&&(f+=v*C,p+=D*C)),v=e.x-f,D=e.y-p,l?v*v+D*D:new F(f,p)}function je(e){return!T(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function hl(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),je(e)}function pl(e,o){var a,l,f,p,v,D,w,C;if(!e||e.length===0)throw new Error("latlngs not passed");je(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var M=$([0,0]),A=ce(e),H=A.getNorthWest().distanceTo(A.getSouthWest())*A.getNorthEast().distanceTo(A.getNorthWest());H<1700&&(M=Fs(e));var ye=e.length,fe=[];for(a=0;a<ye;a++){var Ve=$(e[a]);fe.push(o.project($([Ve.lat-M.lat,Ve.lng-M.lng])))}for(a=0,l=0;a<ye-1;a++)l+=fe[a].distanceTo(fe[a+1])/2;if(l===0)C=fe[0];else for(a=0,p=0;a<ye-1;a++)if(v=fe[a],D=fe[a+1],f=v.distanceTo(D),p+=f,p>l){w=(p-l)/f,C=[D.x-w*(D.x-v.x),D.y-w*(D.y-v.y)];break}var be=o.unproject(O(C));return $([be.lat+M.lat,be.lng+M.lng])}var kg={__proto__:null,simplify:cl,pointToSegmentDistance:ll,closestPointOnSegment:Ag,clipSegment:fl,_getEdgeIntersection:wr,_getBitCode:Gt,_sqClosestPointOnSegment:mi,isFlat:je,_flat:hl,polylineCenter:pl},js={project:function(e){return new F(e.lng,e.lat)},unproject:function(e){return new K(e.y,e.x)},bounds:new te([-180,-90],[180,90])},Vs={R:6378137,R_MINOR:6356752314245179e-9,bounds:new te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var o=Math.PI/180,a=this.R,l=e.lat*o,f=this.R_MINOR/a,p=Math.sqrt(1-f*f),v=p*Math.sin(l),D=Math.tan(Math.PI/4-l/2)/Math.pow((1-v)/(1+v),p/2);return l=-a*Math.log(Math.max(D,1e-10)),new F(e.lng*o*a,l)},unproject:function(e){for(var o=180/Math.PI,a=this.R,l=this.R_MINOR/a,f=Math.sqrt(1-l*l),p=Math.exp(-e.y/a),v=Math.PI/2-2*Math.atan(p),D=0,w=.1,C;D<15&&Math.abs(w)>1e-7;D++)C=f*Math.sin(v),C=Math.pow((1-C)/(1+C),f/2),w=Math.PI/2-2*Math.atan(p*C)-v,v+=w;return new K(v*o,e.x*o/a)}},Fg={__proto__:null,LonLat:js,Mercator:Vs,SphericalMercator:fs},Bg=i({},xt,{code:"EPSG:3395",projection:Vs,transformation:(function(){var e=.5/(Math.PI*Vs.R);return ai(e,.5,-e,.5)})()}),gl=i({},xt,{code:"EPSG:4326",projection:js,transformation:ai(1/180,1,-1/180,.5)}),jg=i({},vt,{projection:js,transformation:ai(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,o){var a=o.lng-e.lng,l=o.lat-e.lat;return Math.sqrt(a*a+l*l)},infinite:!0});vt.Earth=xt,vt.EPSG3395=Bg,vt.EPSG3857=ps,vt.EPSG900913=Zp,vt.EPSG4326=gl,vt.Simple=jg;var qe=si.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[c(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[c(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var o=e.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var a=this.getEvents();o.on(a,this),this.once("remove",function(){o.off(a,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Z.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var o=c(e);return this._layers[o]?this:(this._layers[o]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var o=c(e);return this._layers[o]?(this._loaded&&e.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return c(e)in this._layers},eachLayer:function(e,o){for(var a in this._layers)e.call(o,this._layers[a]);return this},_addLayers:function(e){e=e?T(e)?e:[e]:[];for(var o=0,a=e.length;o<a;o++)this.addLayer(e[o])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[c(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var o=c(e);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,o=-1/0,a=this._getZoomSpan();for(var l in this._zoomBoundLayers){var f=this._zoomBoundLayers[l].options;e=f.minZoom===void 0?e:Math.min(e,f.minZoom),o=f.maxZoom===void 0?o:Math.max(o,f.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=e===1/0?void 0:e,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sn=qe.extend({initialize:function(e,o){y(this,o),this._layers={};var a,l;if(e)for(a=0,l=e.length;a<l;a++)this.addLayer(e[a])},addLayer:function(e){var o=this.getLayerId(e);return this._layers[o]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var o=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(e){var o=typeof e=="number"?e:this.getLayerId(e);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var o=Array.prototype.slice.call(arguments,1),a,l;for(a in this._layers)l=this._layers[a],l[e]&&l[e].apply(l,o);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,o){for(var a in this._layers)e.call(o,this._layers[a]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return c(e)}}),Vg=function(e,o){return new Sn(e,o)},yt=Sn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Sn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Sn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Te;for(var o in this._layers){var a=this._layers[o];e.extend(a.getBounds?a.getBounds():a.getLatLng())}return e}}),Hg=function(e,o){return new yt(e,o)},xn=_t.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){y(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,o){var a=this._getIconUrl(e);if(!a){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(a,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(l,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(e,o){var a=this.options,l=a[o+"Size"];typeof l=="number"&&(l=[l,l]);var f=O(l),p=O(o==="shadow"&&a.shadowAnchor||a.iconAnchor||f&&f.divideBy(2,!0));e.className="leaflet-marker-"+o+" "+(a.className||""),p&&(e.style.marginLeft=-p.x+"px",e.style.marginTop=-p.y+"px"),f&&(e.style.width=f.x+"px",e.style.height=f.y+"px")},_createImg:function(e,o){return o=o||document.createElement("img"),o.src=e,o},_getIconUrl:function(e){return x.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function zg(e){return new xn(e)}var _i=xn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof _i.imagePath!="string"&&(_i.imagePath=this._detectIconPath()),(this.options.imagePath||_i.imagePath)+xn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var o=function(a,l,f){var p=l.exec(a);return p&&p[f]};return e=o(e,/^url\((['"])?(.+)\1\)$/,2),e&&o(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=W("div","leaflet-default-icon-path",document.body),o=li(e,"background-image")||li(e,"backgroundImage");if(document.body.removeChild(e),o=this._stripUrl(o),o)return o;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),ml=st.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Nt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),j(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&se(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var o=this._marker,a=o._map,l=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,p=Ut(o._icon),v=a.getPixelBounds(),D=a.getPixelOrigin(),w=Ie(v.min._subtract(D).add(f),v.max._subtract(D).subtract(f));if(!w.contains(p)){var C=O((Math.max(w.max.x,p.x)-w.max.x)/(v.max.x-w.max.x)-(Math.min(w.min.x,p.x)-w.min.x)/(v.min.x-w.min.x),(Math.max(w.max.y,p.y)-w.max.y)/(v.max.y-w.max.y)-(Math.min(w.min.y,p.y)-w.min.y)/(v.min.y-w.min.y)).multiplyBy(l);a.panBy(C,{animate:!1}),this._draggable._newPos._add(C),this._draggable._startPos._add(C),le(o._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=Ce(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(Fe(this._panRequest),this._panRequest=Ce(this._adjustPan.bind(this,e)))},_onDrag:function(e){var o=this._marker,a=o._shadow,l=Ut(o._icon),f=o._map.layerPointToLatLng(l);a&&le(a,l),o._latlng=f,e.latlng=f,e.oldLatLng=this._oldLatLng,o.fire("move",e).fire("drag",e)},_onDragEnd:function(e){Fe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Cr=qe.extend({options:{icon:new _i,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,o){y(this,o),this._latlng=$(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var o=this._latlng;return this._latlng=$(e),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=e.icon.createIcon(this._icon),l=!1;a!==this._icon&&(this._icon&&this._removeIcon(),l=!0,e.title&&(a.title=e.title),a.tagName==="IMG"&&(a.alt=e.alt||"")),j(a,o),e.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&B(a,"focus",this._panOnFocus,this);var f=e.icon.createShadow(this._shadow),p=!1;f!==this._shadow&&(this._removeShadow(),p=!0),f&&(j(f,o),f.alt=""),this._shadow=f,e.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&p&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&X(this._icon,"focus",this._panOnFocus,this),ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ne(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&le(this._icon,e),this._shadow&&le(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(j(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ml)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ml(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Be(this._icon,e),this._shadow&&Be(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var o=this.options.icon.options,a=o.iconSize?O(o.iconSize):O(0,0),l=o.iconAnchor?O(o.iconAnchor):O(0,0);e.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:a.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ug(e,o){return new Cr(e,o)}var Lt=qe.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return y(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ir=Lt.extend({options:{fill:!0,radius:10},initialize:function(e,o){y(this,o),this._latlng=$(e),this._radius=this.options.radius},setLatLng:function(e){var o=this._latlng;return this._latlng=$(e),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var o=e&&e.radius||this._radius;return Lt.prototype.setStyle.call(this,e),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,o=this._radiusY||e,a=this._clickTolerance(),l=[e+a,o+a];this._pxBounds=new te(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function $g(e,o){return new Ir(e,o)}var Hs=Ir.extend({initialize:function(e,o,a){if(typeof o=="number"&&(o=i({},a,{radius:o})),y(this,o),this._latlng=$(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Te(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Lt.prototype.setStyle,_project:function(){var e=this._latlng.lng,o=this._latlng.lat,a=this._map,l=a.options.crs;if(l.distance===xt.distance){var f=Math.PI/180,p=this._mRadius/xt.R/f,v=a.project([o+p,e]),D=a.project([o-p,e]),w=v.add(D).divideBy(2),C=a.unproject(w).lat,M=Math.acos((Math.cos(p*f)-Math.sin(o*f)*Math.sin(C*f))/(Math.cos(o*f)*Math.cos(C*f)))/f;(isNaN(M)||M===0)&&(M=p/Math.cos(Math.PI/180*o)),this._point=w.subtract(a.getPixelOrigin()),this._radius=isNaN(M)?0:w.x-a.project([C,e-M]).x,this._radiusY=w.y-v.y}else{var A=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(A).x}this._updateBounds()}});function Zg(e,o,a){return new Hs(e,o,a)}var Dt=Lt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,o){y(this,o),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var o=1/0,a=null,l=mi,f,p,v=0,D=this._parts.length;v<D;v++)for(var w=this._parts[v],C=1,M=w.length;C<M;C++){f=w[C-1],p=w[C];var A=l(e,f,p,!0);A<o&&(o=A,a=l(e,f,p))}return a&&(a.distance=Math.sqrt(o)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,o){return o=o||this._defaultShape(),e=$(e),o.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Te,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return je(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var o=[],a=je(e),l=0,f=e.length;l<f;l++)a?(o[l]=$(e[l]),this._bounds.extend(o[l])):o[l]=this._convertLatLngs(e[l]);return o},_project:function(){var e=new te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),o=new F(e,e);this._rawPxBounds&&(this._pxBounds=new te([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(e,o,a){var l=e[0]instanceof K,f=e.length,p,v;if(l){for(v=[],p=0;p<f;p++)v[p]=this._map.latLngToLayerPoint(e[p]),a.extend(v[p]);o.push(v)}else for(p=0;p<f;p++)this._projectLatlngs(e[p],o,a)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,a,l,f,p,v,D,w;for(a=0,f=0,p=this._rings.length;a<p;a++)for(w=this._rings[a],l=0,v=w.length;l<v-1;l++)D=fl(w[l],w[l+1],e,l,!0),D&&(o[f]=o[f]||[],o[f].push(D[0]),(D[1]!==w[l+1]||l===v-2)&&(o[f].push(D[1]),f++))}},_simplifyPoints:function(){for(var e=this._parts,o=this.options.smoothFactor,a=0,l=e.length;a<l;a++)e[a]=cl(e[a],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,o){var a,l,f,p,v,D,w=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(a=0,p=this._parts.length;a<p;a++)for(D=this._parts[a],l=0,v=D.length,f=v-1;l<v;f=l++)if(!(!o&&l===0)&&ll(e,D[f],D[l])<=w)return!0;return!1}});function Gg(e,o){return new Dt(e,o)}Dt._flat=hl;var Nn=Dt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ul(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var o=Dt.prototype._convertLatLngs.call(this,e),a=o.length;return a>=2&&o[0]instanceof K&&o[0].equals(o[a-1])&&o.pop(),o},_setLatLngs:function(e){Dt.prototype._setLatLngs.call(this,e),je(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return je(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,o=this.options.weight,a=new F(o,o);if(e=new te(e.min.subtract(a),e.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,f=this._rings.length,p;l<f;l++)p=al(this._rings[l],e,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var o=!1,a,l,f,p,v,D,w,C;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(p=0,w=this._parts.length;p<w;p++)for(a=this._parts[p],v=0,C=a.length,D=C-1;v<C;D=v++)l=a[v],f=a[D],l.y>e.y!=f.y>e.y&&e.x<(f.x-l.x)*(e.y-l.y)/(f.y-l.y)+l.x&&(o=!o);return o||Dt.prototype._containsPoint.call(this,e,!0)}});function Wg(e,o){return new Nn(e,o)}var Et=yt.extend({initialize:function(e,o){y(this,o),this._layers={},e&&this.addData(e)},addData:function(e){var o=T(e)?e:e.features,a,l,f;if(o){for(a=0,l=o.length;a<l;a++)f=o[a],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var p=this.options;if(p.filter&&!p.filter(e))return this;var v=Tr(e,p);return v?(v.feature=Sr(e),v.defaultOptions=v.options,this.resetStyle(v),p.onEachFeature&&p.onEachFeature(e,v),this.addLayer(v)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=i({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(o){this._setLayerStyle(o,e)},this)},_setLayerStyle:function(e,o){e.setStyle&&(typeof o=="function"&&(o=o(e.feature)),e.setStyle(o))}});function Tr(e,o){var a=e.type==="Feature"?e.geometry:e,l=a?a.coordinates:null,f=[],p=o&&o.pointToLayer,v=o&&o.coordsToLatLng||zs,D,w,C,M;if(!l&&!a)return null;switch(a.type){case"Point":return D=v(l),_l(p,e,D,o);case"MultiPoint":for(C=0,M=l.length;C<M;C++)D=v(l[C]),f.push(_l(p,e,D,o));return new yt(f);case"LineString":case"MultiLineString":return w=br(l,a.type==="LineString"?0:1,v),new Dt(w,o);case"Polygon":case"MultiPolygon":return w=br(l,a.type==="Polygon"?1:2,v),new Nn(w,o);case"GeometryCollection":for(C=0,M=a.geometries.length;C<M;C++){var A=Tr({geometry:a.geometries[C],type:"Feature",properties:e.properties},o);A&&f.push(A)}return new yt(f);case"FeatureCollection":for(C=0,M=a.features.length;C<M;C++){var H=Tr(a.features[C],o);H&&f.push(H)}return new yt(f);default:throw new Error("Invalid GeoJSON object.")}}function _l(e,o,a,l){return e?e(o,a):new Cr(a,l&&l.markersInheritOptions&&l)}function zs(e){return new K(e[1],e[0],e[2])}function br(e,o,a){for(var l=[],f=0,p=e.length,v;f<p;f++)v=o?br(e[f],o-1,a):(a||zs)(e[f]),l.push(v);return l}function Us(e,o){return e=$(e),e.alt!==void 0?[m(e.lng,o),m(e.lat,o),m(e.alt,o)]:[m(e.lng,o),m(e.lat,o)]}function Mr(e,o,a,l){for(var f=[],p=0,v=e.length;p<v;p++)f.push(o?Mr(e[p],je(e[p])?0:o-1,a,l):Us(e[p],l));return!o&&a&&f.length>0&&f.push(f[0].slice()),f}function Ln(e,o){return e.feature?i({},e.feature,{geometry:o}):Sr(o)}function Sr(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var $s={toGeoJSON:function(e){return Ln(this,{type:"Point",coordinates:Us(this.getLatLng(),e)})}};Cr.include($s),Hs.include($s),Ir.include($s),Dt.include({toGeoJSON:function(e){var o=!je(this._latlngs),a=Mr(this._latlngs,o?1:0,!1,e);return Ln(this,{type:(o?"Multi":"")+"LineString",coordinates:a})}}),Nn.include({toGeoJSON:function(e){var o=!je(this._latlngs),a=o&&!je(this._latlngs[0]),l=Mr(this._latlngs,a?2:o?1:0,!0,e);return o||(l=[l]),Ln(this,{type:(a?"Multi":"")+"Polygon",coordinates:l})}}),Sn.include({toMultiPoint:function(e){var o=[];return this.eachLayer(function(a){o.push(a.toGeoJSON(e).geometry.coordinates)}),Ln(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(e){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(e);var a=o==="GeometryCollection",l=[];return this.eachLayer(function(f){if(f.toGeoJSON){var p=f.toGeoJSON(e);if(a)l.push(p.geometry);else{var v=Sr(p);v.type==="FeatureCollection"?l.push.apply(l,v.features):l.push(v)}}}),a?Ln(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function vl(e,o){return new Et(e,o)}var qg=vl,xr=qe.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,o,a){this._url=e,this._bounds=ce(o),y(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(j(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&bn(this._image),this},bringToBack:function(){return this._map&&Mn(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ce(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",o=this._image=e?this._url:W("img");if(j(o,"leaflet-image-layer"),this._zoomAnimated&&j(o,"leaflet-zoom-animated"),this.options.className&&j(o,this.options.className),o.onselectstart=g,o.onmousemove=g,o.onload=s(this.fire,this,"load"),o.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(e){var o=this._map.getZoomScale(e.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;zt(this._image,a,o)},_reset:function(){var e=this._image,o=new te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=o.getSize();le(e,o.min),e.style.width=a.x+"px",e.style.height=a.y+"px"},_updateOpacity:function(){Be(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Yg=function(e,o,a){return new xr(e,o,a)},yl=xr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",o=this._image=e?this._url:W("video");if(j(o,"leaflet-image-layer"),this._zoomAnimated&&j(o,"leaflet-zoom-animated"),this.options.className&&j(o,this.options.className),o.onselectstart=g,o.onmousemove=g,o.onloadeddata=s(this.fire,this,"load"),e){for(var a=o.getElementsByTagName("source"),l=[],f=0;f<a.length;f++)l.push(a[f].src);this._url=a.length>0?l:[o.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var v=W("source");v.src=this._url[p],o.appendChild(v)}}});function Kg(e,o,a){return new yl(e,o,a)}var Dl=xr.extend({_initImage:function(){var e=this._image=this._url;j(e,"leaflet-image-layer"),this._zoomAnimated&&j(e,"leaflet-zoom-animated"),this.options.className&&j(e,this.options.className),e.onselectstart=g,e.onmousemove=g}});function Qg(e,o,a){return new Dl(e,o,a)}var at=qe.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,o){e&&(e instanceof K||T(e))?(this._latlng=$(e),y(this,o)):(y(this,e),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Be(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Be(this._container,1),this.bringToFront(),this.options.interactive&&(j(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Be(this._container,0),this._removeTimeout=setTimeout(s(ne,void 0,this._container),200)):ne(this._container),this.options.interactive&&(se(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=$(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bn(this._container),this},bringToBack:function(){return this._map&&Mn(this._container),this},_prepareOpen:function(e){var o=this._source;if(!o._map)return!1;if(o instanceof yt){o=null;var a=this._source._layers;for(var l in a)if(a[l]._map){o=a[l];break}if(!o)return!1;this._source=o}if(!e)if(o.getCenter)e=o.getCenter();else if(o.getLatLng)e=o.getLatLng();else if(o.getBounds)e=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")e.innerHTML=o;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),o=O(this.options.offset),a=this._getAnchor();this._zoomAnimated?le(this._container,e.add(a)):o=o.add(e).add(a);var l=this._containerBottom=-o.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=l+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});Z.include({_initOverlay:function(e,o,a,l){var f=o;return f instanceof e||(f=new e(l).setContent(o)),a&&f.setLatLng(a),f}}),qe.include({_initOverlay:function(e,o,a,l){var f=a;return f instanceof e?(y(f,l),f._source=this):(f=o&&!l?o:new e(l,this),f.setContent(a)),f}});var Nr=at.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,at.prototype.openOn.call(this,e)},onAdd:function(e){at.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Lt||this._source.on("preclick",$t))},onRemove:function(e){at.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Lt||this._source.off("preclick",$t))},getEvents:function(){var e=at.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",o=this._container=W("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=W("div",e+"-content-wrapper",o);if(this._contentNode=W("div",e+"-content",a),pi(o),Ps(this._contentNode),B(o,"contextmenu",$t),this._tipContainer=W("div",e+"-tip-container",o),this._tip=W("div",e+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=W("a",e+"-close-button",o);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',B(l,"click",function(f){he(f),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,o=e.style;o.width="",o.whiteSpace="nowrap";var a=e.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),o.width=a+1+"px",o.whiteSpace="",o.height="";var l=e.offsetHeight,f=this.options.maxHeight,p="leaflet-popup-scrolled";f&&l>f?(o.height=f+"px",j(e,p)):se(e,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),a=this._getAnchor();le(this._container,o.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,o=parseInt(li(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+o,l=this._containerWidth,f=new F(this._containerLeft,-a-this._containerBottom);f._add(Ut(this._container));var p=e.layerPointToContainerPoint(f),v=O(this.options.autoPanPadding),D=O(this.options.autoPanPaddingTopLeft||v),w=O(this.options.autoPanPaddingBottomRight||v),C=e.getSize(),M=0,A=0;p.x+l+w.x>C.x&&(M=p.x+l-C.x+w.x),p.x-M-D.x<0&&(M=p.x-D.x),p.y+a+w.y>C.y&&(A=p.y+a-C.y+w.y),p.y-A-D.y<0&&(A=p.y-D.y),(M||A)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([M,A]))}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jg=function(e,o){return new Nr(e,o)};Z.mergeOptions({closePopupOnClick:!0}),Z.include({openPopup:function(e,o,a){return this._initOverlay(Nr,e,o,a).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),qe.include({bindPopup:function(e,o){return this._popup=this._initOverlay(Nr,this._popup,e,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof yt||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){Zt(e);var o=e.layer||e.target;if(this._popup._source===o&&!(o instanceof Lt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=o,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Lr=at.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){at.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){at.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=at.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",o=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=W("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var o,a,l=this._map,f=this._container,p=l.latLngToContainerPoint(l.getCenter()),v=l.layerPointToContainerPoint(e),D=this.options.direction,w=f.offsetWidth,C=f.offsetHeight,M=O(this.options.offset),A=this._getAnchor();D==="top"?(o=w/2,a=C):D==="bottom"?(o=w/2,a=0):D==="center"?(o=w/2,a=C/2):D==="right"?(o=0,a=C/2):D==="left"?(o=w,a=C/2):v.x<p.x?(D="right",o=0,a=C/2):(D="left",o=w+(M.x+A.x)*2,a=C/2),e=e.subtract(O(o,a,!0)).add(M).add(A),se(f,"leaflet-tooltip-right"),se(f,"leaflet-tooltip-left"),se(f,"leaflet-tooltip-top"),se(f,"leaflet-tooltip-bottom"),j(f,"leaflet-tooltip-"+D),le(f,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Be(this._container,e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(o)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xg=function(e,o){return new Lr(e,o)};Z.include({openTooltip:function(e,o,a){return this._initOverlay(Lr,e,o,a).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),qe.include({bindTooltip:function(e,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lr,this._tooltip,e,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var o=e?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[o](a),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof yt||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var o=typeof e.getElement=="function"&&e.getElement();o&&(B(o,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),B(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var o=typeof e.getElement=="function"&&e.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var o=e.latlng,a,l;this._tooltip.options.sticky&&e.originalEvent&&(a=this._map.mouseEventToContainerPoint(e.originalEvent),l=this._map.containerPointToLayerPoint(a),o=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(o)}});var El=xn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var o=e&&e.tagName==="DIV"?e:document.createElement("div"),a=this.options;if(a.html instanceof Element?(_r(o),o.appendChild(a.html)):o.innerHTML=a.html!==!1?a.html:"",a.bgPos){var l=O(a.bgPos);o.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function em(e){return new El(e)}xn.Default=_i;var vi=qe.extend({options:{tileSize:256,opacity:1,updateWhenIdle:x.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){y(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ne(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Mn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=d(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof F?e:new F(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var o=this.getPane().children,a=-e(-1/0,1/0),l=0,f=o.length,p;l<f;l++)p=o[l].style.zIndex,o[l]!==this._container&&p&&(a=e(a,+p));isFinite(a)&&(this.options.zIndex=a+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!x.ielt9){Be(this._container,this.options.opacity);var e=+new Date,o=!1,a=!1;for(var l in this._tiles){var f=this._tiles[l];if(!(!f.current||!f.loaded)){var p=Math.min(1,(e-f.loaded)/200);Be(f.el,p),p<1?o=!0:(f.active?a=!0:this._onOpaqueTile(f),f.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),o&&(Fe(this._fadeFrame),this._fadeFrame=Ce(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=W("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,o=this.options.maxZoom;if(e!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===e?(this._levels[a].el.style.zIndex=o-Math.abs(e-a),this._onUpdateLevel(a)):(ne(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var l=this._levels[e],f=this._map;return l||(l=this._levels[e]={},l.el=W("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=o,l.origin=f.project(f.unproject(f.getPixelOrigin()),e).round(),l.zoom=e,this._setZoomTransform(l,f.getCenter(),f.getZoom()),g(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var e,o,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)o=this._tiles[e],o.retain=o.current;for(e in this._tiles)if(o=this._tiles[e],o.current&&!o.active){var l=o.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var o in this._tiles)this._tiles[o].coords.z===e&&this._removeTile(o)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ne(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,o,a,l){var f=Math.floor(e/2),p=Math.floor(o/2),v=a-1,D=new F(+f,+p);D.z=+v;var w=this._tileCoordsToKey(D),C=this._tiles[w];return C&&C.active?(C.retain=!0,!0):(C&&C.loaded&&(C.retain=!0),v>l?this._retainParent(f,p,v,l):!1)},_retainChildren:function(e,o,a,l){for(var f=2*e;f<2*e+2;f++)for(var p=2*o;p<2*o+2;p++){var v=new F(f,p);v.z=a+1;var D=this._tileCoordsToKey(v),w=this._tiles[D];if(w&&w.active){w.retain=!0;continue}else w&&w.loaded&&(w.retain=!0);a+1<l&&this._retainChildren(f,p,a+1,l)}},_resetView:function(e){var o=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var o=this.options;return o.minNativeZoom!==void 0&&e<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<e?o.maxNativeZoom:e},_setView:function(e,o,a,l){var f=Math.round(o);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var p=this.options.updateWhenZooming&&f!==this._tileZoom;(!l||p)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(e),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(e,o)},_setZoomTransforms:function(e,o){for(var a in this._levels)this._setZoomTransform(this._levels[a],e,o)},_setZoomTransform:function(e,o,a){var l=this._map.getZoomScale(a,e.zoom),f=e.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(o,a)).round();x.any3d?zt(e.el,f,l):le(e.el,f)},_resetGrid:function(){var e=this._map,o=e.options.crs,a=this._tileSize=this.getTileSize(),l=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,o.wrapLng[0]],l).x/a.x),Math.ceil(e.project([0,o.wrapLng[1]],l).x/a.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([o.wrapLat[0],0],l).y/a.x),Math.ceil(e.project([o.wrapLat[1],0],l).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var o=this._map,a=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),l=o.getZoomScale(a,this._tileZoom),f=o.project(e,this._tileZoom).floor(),p=o.getSize().divideBy(l*2);return new te(f.subtract(p),f.add(p))},_update:function(e){var o=this._map;if(o){var a=this._clampZoom(o.getZoom());if(e===void 0&&(e=o.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(e),f=this._pxBoundsToTileRange(l),p=f.getCenter(),v=[],D=this.options.keepBuffer,w=new te(f.getBottomLeft().subtract([D,-D]),f.getTopRight().add([D,-D]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var C in this._tiles){var M=this._tiles[C].coords;(M.z!==this._tileZoom||!w.contains(new F(M.x,M.y)))&&(this._tiles[C].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(e,a);return}for(var A=f.min.y;A<=f.max.y;A++)for(var H=f.min.x;H<=f.max.x;H++){var ye=new F(H,A);if(ye.z=this._tileZoom,!!this._isValidTile(ye)){var fe=this._tiles[this._tileCoordsToKey(ye)];fe?fe.current=!0:v.push(ye)}}if(v.sort(function(be,Pn){return be.distanceTo(p)-Pn.distanceTo(p)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ve=document.createDocumentFragment();for(H=0;H<v.length;H++)this._addTile(v[H],Ve);this._level.el.appendChild(Ve)}}}},_isValidTile:function(e){var o=this._map.options.crs;if(!o.infinite){var a=this._globalTileRange;if(!o.wrapLng&&(e.x<a.min.x||e.x>a.max.x)||!o.wrapLat&&(e.y<a.min.y||e.y>a.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(e);return ce(this.options.bounds).overlaps(l)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var o=this._map,a=this.getTileSize(),l=e.scaleBy(a),f=l.add(a),p=o.unproject(l,e.z),v=o.unproject(f,e.z);return[p,v]},_tileCoordsToBounds:function(e){var o=this._tileCoordsToNwSe(e),a=new Te(o[0],o[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var o=e.split(":"),a=new F(+o[0],+o[1]);return a.z=+o[2],a},_removeTile:function(e){var o=this._tiles[e];o&&(ne(o.el),delete this._tiles[e],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){j(e,"leaflet-tile");var o=this.getTileSize();e.style.width=o.x+"px",e.style.height=o.y+"px",e.onselectstart=g,e.onmousemove=g,x.ielt9&&this.options.opacity<1&&Be(e,this.options.opacity)},_addTile:function(e,o){var a=this._getTilePos(e),l=this._tileCoordsToKey(e),f=this.createTile(this._wrapCoords(e),s(this._tileReady,this,e));this._initTile(f),this.createTile.length<2&&Ce(s(this._tileReady,this,e,null,f)),le(f,a),this._tiles[l]={el:f,coords:e,current:!0},o.appendChild(f),this.fire("tileloadstart",{tile:f,coords:e})},_tileReady:function(e,o,a){o&&this.fire("tileerror",{error:o,tile:a,coords:e});var l=this._tileCoordsToKey(e);a=this._tiles[l],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Be(a.el,0),Fe(this._fadeFrame),this._fadeFrame=Ce(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),o||(j(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),x.ielt9||!this._map._fadeAnimated?Ce(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var o=new F(this._wrapX?h(e.x,this._wrapX):e.x,this._wrapY?h(e.y,this._wrapY):e.y);return o.z=e.z,o},_pxBoundsToTileRange:function(e){var o=this.getTileSize();return new te(e.min.unscaleBy(o).floor(),e.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function tm(e){return new vi(e)}var An=vi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,o){this._url=e,o=y(this,o),o.detectRetina&&x.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,o){return this._url===e&&o===void 0&&(o=!0),this._url=e,o||this.redraw(),this},createTile:function(e,o){var a=document.createElement("img");return B(a,"load",s(this._tileOnLoad,this,o,a)),B(a,"error",s(this._tileOnError,this,o,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(e),a},getTileUrl:function(e){var o={r:x.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-e.y;this.options.tms&&(o.y=a),o["-y"]=a}return b(this._url,i(o,this.options))},_tileOnLoad:function(e,o){x.ielt9?setTimeout(s(e,this,null,o),0):e(null,o)},_tileOnError:function(e,o,a){var l=this.options.errorTileUrl;l&&o.getAttribute("src")!==l&&(o.src=l),e(a,o)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,o=this.options.maxZoom,a=this.options.zoomReverse,l=this.options.zoomOffset;return a&&(e=o-e),e+l},_getSubdomain:function(e){var o=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var e,o;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(o=this._tiles[e].el,o.onload=g,o.onerror=g,!o.complete)){o.src=ue;var a=this._tiles[e].coords;ne(o),delete this._tiles[e],this.fire("tileabort",{tile:o,coords:a})}},_removeTile:function(e){var o=this._tiles[e];if(o)return o.el.setAttribute("src",ue),vi.prototype._removeTile.call(this,e)},_tileReady:function(e,o,a){if(!(!this._map||a&&a.getAttribute("src")===ue))return vi.prototype._tileReady.call(this,e,o,a)}});function wl(e,o){return new An(e,o)}var Cl=An.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,o){this._url=e;var a=i({},this.defaultWmsParams);for(var l in o)l in this.options||(a[l]=o[l]);o=y(this,o);var f=o.detectRetina&&x.retina?2:1,p=this.getTileSize();a.width=p.x*f,a.height=p.y*f,this.wmsParams=a},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,An.prototype.onAdd.call(this,e)},getTileUrl:function(e){var o=this._tileCoordsToNwSe(e),a=this._crs,l=Ie(a.project(o[0]),a.project(o[1])),f=l.min,p=l.max,v=(this._wmsVersion>=1.3&&this._crs===gl?[f.y,f.x,p.y,p.x]:[f.x,f.y,p.x,p.y]).join(","),D=An.prototype.getTileUrl.call(this,e);return D+S(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(e,o){return i(this.wmsParams,e),o||this.redraw(),this}});function nm(e,o){return new Cl(e,o)}An.WMS=Cl,wl.wms=nm;var wt=qe.extend({options:{padding:.1},initialize:function(e){y(this,e),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),j(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,o){var a=this._map.getZoomScale(o,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,o),p=l.multiplyBy(-a).add(f).subtract(this._map._getNewPixelOrigin(e,o));x.any3d?zt(this._container,p,a):le(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,o=this._map.getSize(),a=this._map.containerPointToLayerPoint(o.multiplyBy(-e)).round();this._bounds=new te(a,a.add(o.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Il=wt.extend({options:{tolerance:0},getEvents:function(){var e=wt.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){wt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");B(e,"mousemove",this._onMouseMove,this),B(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),B(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){Fe(this._redrawRequest),delete this._ctx,ne(this._container),X(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var o in this._layers)e=this._layers[o],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wt.prototype._update.call(this);var e=this._bounds,o=this._container,a=e.getSize(),l=x.retina?2:1;le(o,e.min),o.width=l*a.x,o.height=l*a.y,o.style.width=a.x+"px",o.style.height=a.y+"px",x.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){wt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[c(e)]=e;var o=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var o=e._order,a=o.next,l=o.prev;a?a.prev=l:this._drawLast=l,l?l.next=a:this._drawFirst=a,delete e._order,delete this._layers[c(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var o=e.options.dashArray.split(/[, ]+/),a=[],l,f;for(f=0;f<o.length;f++){if(l=Number(o[f]),isNaN(l))return;a.push(l)}e.options._dashArray=a}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||Ce(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var o=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new te,this._redrawBounds.extend(e._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(e._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var o=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,o=this._redrawBounds;if(this._ctx.save(),o){var a=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)e=l.layer,(!o||e._pxBounds&&e._pxBounds.intersects(o))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,o){if(this._drawing){var a,l,f,p,v=e._parts,D=v.length,w=this._ctx;if(D){for(w.beginPath(),a=0;a<D;a++){for(l=0,f=v[a].length;l<f;l++)p=v[a][l],w[l?"lineTo":"moveTo"](p.x,p.y);o&&w.closePath()}this._fillStroke(w,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var o=e._point,a=this._ctx,l=Math.max(Math.round(e._radius),1),f=(Math.max(Math.round(e._radiusY),1)||l)/l;f!==1&&(a.save(),a.scale(1,f)),a.beginPath(),a.arc(o.x,o.y/f,l,0,Math.PI*2,!1),f!==1&&a.restore(),this._fillStroke(a,e)}},_fillStroke:function(e,o){var a=o.options;a.fill&&(e.globalAlpha=a.fillOpacity,e.fillStyle=a.fillColor||a.color,e.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(e.setLineDash&&e.setLineDash(o.options&&o.options._dashArray||[]),e.globalAlpha=a.opacity,e.lineWidth=a.weight,e.strokeStyle=a.color,e.lineCap=a.lineCap,e.lineJoin=a.lineJoin,e.stroke())},_onClick:function(e){for(var o=this._map.mouseEventToLayerPoint(e),a,l,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(o)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(a))&&(l=a);this._fireEvent(l?[l]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,o)}},_handleMouseOut:function(e){var o=this._hoveredLayer;o&&(se(this._container,"leaflet-interactive"),this._fireEvent([o],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,o){if(!this._mouseHoverThrottled){for(var a,l,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(o)&&(l=a);l!==this._hoveredLayer&&(this._handleMouseOut(e),l&&(j(this._container,"leaflet-interactive"),this._fireEvent([l],e,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,o,a){this._map._fireDOMEvent(o,a||o.type,e)},_bringToFront:function(e){var o=e._order;if(o){var a=o.next,l=o.prev;if(a)a.prev=l;else return;l?l.next=a:a&&(this._drawFirst=a),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(e)}},_bringToBack:function(e){var o=e._order;if(o){var a=o.next,l=o.prev;if(l)l.next=a;else return;a?a.prev=l:l&&(this._drawLast=l),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(e)}}});function Tl(e){return x.canvas?new Il(e):null}var yi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),im={_initContainer:function(){this._container=W("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(wt.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var o=e._container=yi("shape");j(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",e._path=yi("path"),o.appendChild(e._path),this._updateStyle(e),this._layers[c(e)]=e},_addPath:function(e){var o=e._container;this._container.appendChild(o),e.options.interactive&&e.addInteractiveTarget(o)},_removePath:function(e){var o=e._container;ne(o),e.removeInteractiveTarget(o),delete this._layers[c(e)]},_updateStyle:function(e){var o=e._stroke,a=e._fill,l=e.options,f=e._container;f.stroked=!!l.stroke,f.filled=!!l.fill,l.stroke?(o||(o=e._stroke=yi("stroke")),f.appendChild(o),o.weight=l.weight+"px",o.color=l.color,o.opacity=l.opacity,l.dashArray?o.dashStyle=T(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=l.lineCap.replace("butt","flat"),o.joinstyle=l.lineJoin):o&&(f.removeChild(o),e._stroke=null),l.fill?(a||(a=e._fill=yi("fill")),f.appendChild(a),a.color=l.fillColor||l.color,a.opacity=l.fillOpacity):a&&(f.removeChild(a),e._fill=null)},_updateCircle:function(e){var o=e._point.round(),a=Math.round(e._radius),l=Math.round(e._radiusY||a);this._setPath(e,e._empty()?"M0 0":"AL "+o.x+","+o.y+" "+a+","+l+" 0,"+65535*360)},_setPath:function(e,o){e._path.v=o},_bringToFront:function(e){bn(e._container)},_bringToBack:function(e){Mn(e._container)}},Ar=x.vml?yi:xc,Di=wt.extend({_initContainer:function(){this._container=Ar("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ar("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ne(this._container),X(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wt.prototype._update.call(this);var e=this._bounds,o=e.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,a.setAttribute("width",o.x),a.setAttribute("height",o.y)),le(a,e.min),a.setAttribute("viewBox",[e.min.x,e.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(e){var o=e._path=Ar("path");e.options.className&&j(o,e.options.className),e.options.interactive&&j(o,"leaflet-interactive"),this._updateStyle(e),this._layers[c(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ne(e._path),e.removeInteractiveTarget(e._path),delete this._layers[c(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var o=e._path,a=e.options;o&&(a.stroke?(o.setAttribute("stroke",a.color),o.setAttribute("stroke-opacity",a.opacity),o.setAttribute("stroke-width",a.weight),o.setAttribute("stroke-linecap",a.lineCap),o.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?o.setAttribute("stroke-dasharray",a.dashArray):o.removeAttribute("stroke-dasharray"),a.dashOffset?o.setAttribute("stroke-dashoffset",a.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),a.fill?(o.setAttribute("fill",a.fillColor||a.color),o.setAttribute("fill-opacity",a.fillOpacity),o.setAttribute("fill-rule",a.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(e,o){this._setPath(e,Nc(e._parts,o))},_updateCircle:function(e){var o=e._point,a=Math.max(Math.round(e._radius),1),l=Math.max(Math.round(e._radiusY),1)||a,f="a"+a+","+l+" 0 1,0 ",p=e._empty()?"M0 0":"M"+(o.x-a)+","+o.y+f+a*2+",0 "+f+-a*2+",0 ";this._setPath(e,p)},_setPath:function(e,o){e._path.setAttribute("d",o)},_bringToFront:function(e){bn(e._path)},_bringToBack:function(e){Mn(e._path)}});x.vml&&Di.include(im);function bl(e){return x.svg||x.vml?new Di(e):null}Z.include({getRenderer:function(e){var o=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var o=this._paneRenderers[e];return o===void 0&&(o=this._createRenderer({pane:e}),this._paneRenderers[e]=o),o},_createRenderer:function(e){return this.options.preferCanvas&&Tl(e)||bl(e)}});var Ml=Nn.extend({initialize:function(e,o){Nn.prototype.initialize.call(this,this._boundsToLatLngs(e),o)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ce(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function rm(e,o){return new Ml(e,o)}Di.create=Ar,Di.pointsToPath=Nc,Et.geometryToLayer=Tr,Et.coordsToLatLng=zs,Et.coordsToLatLngs=br,Et.latLngToCoords=Us,Et.latLngsToCoords=Mr,Et.getFeature=Ln,Et.asFeature=Sr,Z.mergeOptions({boxZoom:!0});var Sl=st.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){B(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){X(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),di(),Ts(),this._startPoint=this._map.mouseEventToContainerPoint(e),B(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=W("div","leaflet-zoom-box",this._container),j(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var o=new te(this._point,this._startPoint),a=o.getSize();le(this._box,o.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(ne(this._box),se(this._container,"leaflet-crosshair")),fi(),bs(),X(document,{contextmenu:Zt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var o=new Te(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Z.addInitHook("addHandler","boxZoom",Sl),Z.mergeOptions({doubleClickZoom:!0});var xl=st.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var o=this._map,a=o.getZoom(),l=o.options.zoomDelta,f=e.originalEvent.shiftKey?a-l:a+l;o.options.doubleClickZoom==="center"?o.setZoom(f):o.setZoomAround(e.containerPoint,f)}});Z.addInitHook("addHandler","doubleClickZoom",xl),Z.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Nl=st.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Nt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}j(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){se(this._map._container,"leaflet-grab"),se(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=ce(this._map.options.maxBounds);this._offsetLimit=Ie(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var o=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(o),this._prunePositions(o)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,o){return e-(e-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;e.x<o.min.x&&(e.x=this._viscousLimit(e.x,o.min.x)),e.y<o.min.y&&(e.y=this._viscousLimit(e.y,o.min.y)),e.x>o.max.x&&(e.x=this._viscousLimit(e.x,o.max.x)),e.y>o.max.y&&(e.y=this._viscousLimit(e.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,o=Math.round(e/2),a=this._initialWorldOffset,l=this._draggable._newPos.x,f=(l-o+a)%e+o-a,p=(l+o+a)%e-o-a,v=Math.abs(f+a)<Math.abs(p+a)?f:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(e){var o=this._map,a=o.options,l=!a.inertia||e.noInertia||this._times.length<2;if(o.fire("dragend",e),l)o.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,v=a.easeLinearity,D=f.multiplyBy(v/p),w=D.distanceTo([0,0]),C=Math.min(a.inertiaMaxSpeed,w),M=D.multiplyBy(C/w),A=C/(a.inertiaDeceleration*v),H=M.multiplyBy(-A/2).round();!H.x&&!H.y?o.fire("moveend"):(H=o._limitOffset(H,o.options.maxBounds),Ce(function(){o.panBy(H,{duration:A,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});Z.addInitHook("addHandler","dragging",Nl),Z.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ll=st.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),B(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),X(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,o=document.documentElement,a=e.scrollTop||o.scrollTop,l=e.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(l,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var o=this._panKeys={},a=this.keyCodes,l,f;for(l=0,f=a.left.length;l<f;l++)o[a.left[l]]=[-1*e,0];for(l=0,f=a.right.length;l<f;l++)o[a.right[l]]=[e,0];for(l=0,f=a.down.length;l<f;l++)o[a.down[l]]=[0,e];for(l=0,f=a.up.length;l<f;l++)o[a.up[l]]=[0,-1*e]},_setZoomDelta:function(e){var o=this._zoomKeys={},a=this.keyCodes,l,f;for(l=0,f=a.zoomIn.length;l<f;l++)o[a.zoomIn[l]]=e;for(l=0,f=a.zoomOut.length;l<f;l++)o[a.zoomOut[l]]=-e},_addHooks:function(){B(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){X(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var o=e.keyCode,a=this._map,l;if(o in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(l=this._panKeys[o],e.shiftKey&&(l=O(l).multiplyBy(3)),a.options.maxBounds&&(l=a._limitOffset(O(l),a.options.maxBounds)),a.options.worldCopyJump){var f=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(l)));a.panTo(f)}else a.panBy(l)}else if(o in this._zoomKeys)a.setZoom(a.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;Zt(e)}}});Z.addInitHook("addHandler","keyboard",Ll),Z.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Al=st.extend({addHooks:function(){B(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){X(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var o=nl(e),a=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var l=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),l),Zt(e)},_performZoom:function(){var e=this._map,o=e.getZoom(),a=this._map.options.zoomSnap||0;e._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,p=a?Math.ceil(f/a)*a:f,v=e._limitZoom(o+(this._delta>0?p:-p))-o;this._delta=0,this._startTime=null,v&&(e.options.scrollWheelZoom==="center"?e.setZoom(o+v):e.setZoomAround(this._lastMousePos,o+v))}});Z.addInitHook("addHandler","scrollWheelZoom",Al);var om=600;Z.mergeOptions({tapHold:x.touchNative&&x.safari&&x.mobile,tapTolerance:15});var Pl=st.extend({addHooks:function(){B(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){X(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var o=e.touches[0];this._startPos=this._newPos=new F(o.clientX,o.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(B(document,"touchend",he),B(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),om),B(document,"touchend touchcancel contextmenu",this._cancel,this),B(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){X(document,"touchend",he),X(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),X(document,"touchend touchcancel contextmenu",this._cancel,this),X(document,"touchmove",this._onMove,this)},_onMove:function(e){var o=e.touches[0];this._newPos=new F(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,o){var a=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});a._simulated=!0,o.target.dispatchEvent(a)}});Z.addInitHook("addHandler","tapHold",Pl),Z.mergeOptions({touchZoom:x.touch,bounceAtZoomLimits:!0});var Ol=st.extend({addHooks:function(){j(this._map._container,"leaflet-touch-zoom"),B(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){se(this._map._container,"leaflet-touch-zoom"),X(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var o=this._map;if(!(!e.touches||e.touches.length!==2||o._animatingZoom||this._zooming)){var a=o.mouseEventToContainerPoint(e.touches[0]),l=o.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(a.add(l)._divideBy(2))),this._startDist=a.distanceTo(l),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),B(document,"touchmove",this._onTouchMove,this),B(document,"touchend touchcancel",this._onTouchEnd,this),he(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var o=this._map,a=o.mouseEventToContainerPoint(e.touches[0]),l=o.mouseEventToContainerPoint(e.touches[1]),f=a.distanceTo(l)/this._startDist;if(this._zoom=o.getScaleZoom(f,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&f<1||this._zoom>o.getMaxZoom()&&f>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var p=a._add(l)._divideBy(2)._subtract(this._centerPoint);if(f===1&&p.x===0&&p.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),Fe(this._animRequest);var v=s(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ce(v,this,!0),he(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Fe(this._animRequest),X(document,"touchmove",this._onTouchMove,this),X(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Z.addInitHook("addHandler","touchZoom",Ol),Z.BoxZoom=Sl,Z.DoubleClickZoom=xl,Z.Drag=Nl,Z.Keyboard=Ll,Z.ScrollWheelZoom=Al,Z.TapHold=Pl,Z.TouchZoom=Ol,t.Bounds=te,t.Browser=x,t.CRS=vt,t.Canvas=Il,t.Circle=Hs,t.CircleMarker=Ir,t.Class=_t,t.Control=We,t.DivIcon=El,t.DivOverlay=at,t.DomEvent=Cg,t.DomUtil=Eg,t.Draggable=Nt,t.Evented=si,t.FeatureGroup=yt,t.GeoJSON=Et,t.GridLayer=vi,t.Handler=st,t.Icon=xn,t.ImageOverlay=xr,t.LatLng=K,t.LatLngBounds=Te,t.Layer=qe,t.LayerGroup=Sn,t.LineUtil=kg,t.Map=Z,t.Marker=Cr,t.Mixin=Ng,t.Path=Lt,t.Point=F,t.PolyUtil=Lg,t.Polygon=Nn,t.Polyline=Dt,t.Popup=Nr,t.PosAnimation=il,t.Projection=Fg,t.Rectangle=Ml,t.Renderer=wt,t.SVG=Di,t.SVGOverlay=Dl,t.TileLayer=An,t.Tooltip=Lr,t.Transformation=hs,t.Util=Up,t.VideoOverlay=yl,t.bind=s,t.bounds=Ie,t.canvas=Tl,t.circle=Zg,t.circleMarker=$g,t.control=gi,t.divIcon=em,t.extend=i,t.featureGroup=Hg,t.geoJSON=vl,t.geoJson=qg,t.gridLayer=tm,t.icon=zg,t.imageOverlay=Yg,t.latLng=$,t.latLngBounds=ce,t.layerGroup=Vg,t.map=Ig,t.marker=Ug,t.point=O,t.polygon=Wg,t.polyline=Gg,t.popup=Jg,t.rectangle=rm,t.setOptions=y,t.stamp=c,t.svg=bl,t.svgOverlay=Qg,t.tileLayer=wl,t.tooltip=Xg,t.transformation=ai,t.version=n,t.videoOverlay=Kg;var sm=window.L;t.noConflict=function(){return window.L=sm,this},window.L=t})});var zp=Hl((cs,Hp)=>{"use strict";(function(t,n){typeof cs=="object"&&typeof Hp<"u"?n(cs):typeof define=="function"&&define.amd?define(["exports"],n):(t=t||self,n((t.Leaflet=t.Leaflet||{},t.Leaflet.markercluster={})))})(cs,function(t){"use strict";var n=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(r){L.Util.setOptions(this,r),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var s=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,s?this._withAnimation:this._noAnimation),this._markerCluster=s?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(r){if(r instanceof L.LayerGroup)return this.addLayers([r]);if(!r.getLatLng)return this._nonPointGroup.addLayer(r),this.fire("layeradd",{layer:r}),this;if(!this._map)return this._needsClustering.push(r),this.fire("layeradd",{layer:r}),this;if(this.hasLayer(r))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(r,this._maxZoom),this.fire("layeradd",{layer:r}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var s=r,u=this._zoom;if(r.__parent)for(;s.__parent._zoom>=u;)s=s.__parent;return this._currentShownBounds.contains(s.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(r,s):this._animationAddLayerNonAnimated(r,s)),this},removeLayer:function(r){return r instanceof L.LayerGroup?this.removeLayers([r]):r.getLatLng?this._map?r.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(r)),this._removeLayer(r,!0),this.fire("layerremove",{layer:r}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),r.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(r)&&(this._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,r)&&this.hasLayer(r)&&this._needsRemoving.push({layer:r,latlng:r._latlng}),this.fire("layerremove",{layer:r}),this):(this._nonPointGroup.removeLayer(r),this.fire("layerremove",{layer:r}),this)},addLayers:function(r,s){if(!L.Util.isArray(r))return this.addLayer(r);var u=this._featureGroup,c=this._nonPointGroup,d=this.options.chunkedLoading,h=this.options.chunkInterval,g=this.options.chunkProgress,m=r.length,_=0,E=!0,y;if(this._map){var S=new Date().getTime(),I=L.bind(function(){var T=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();_<m;_++){if(d&&_%200===0){var ie=new Date().getTime()-T;if(ie>h)break}if(y=r[_],y instanceof L.LayerGroup){E&&(r=r.slice(),E=!1),this._extractNonGroupLayers(y,r),m=r.length;continue}if(!y.getLatLng){c.addLayer(y),s||this.fire("layeradd",{layer:y});continue}if(!this.hasLayer(y)&&(this._addLayer(y,this._maxZoom),s||this.fire("layeradd",{layer:y}),y.__parent&&y.__parent.getChildCount()===2)){var ue=y.__parent.getAllChildMarkers(),re=ue[0]===y?ue[1]:ue[0];u.removeLayer(re)}}g&&g(_,m,new Date().getTime()-S),_===m?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(I,this.options.chunkDelay)},this);I()}else for(var b=this._needsClustering;_<m;_++){if(y=r[_],y instanceof L.LayerGroup){E&&(r=r.slice(),E=!1),this._extractNonGroupLayers(y,r),m=r.length;continue}if(!y.getLatLng){c.addLayer(y);continue}this.hasLayer(y)||b.push(y)}return this},removeLayers:function(r){var s,u,c=r.length,d=this._featureGroup,h=this._nonPointGroup,g=!0;if(!this._map){for(s=0;s<c;s++){if(u=r[s],u instanceof L.LayerGroup){g&&(r=r.slice(),g=!1),this._extractNonGroupLayers(u,r),c=r.length;continue}this._arraySplice(this._needsClustering,u),h.removeLayer(u),this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u})}return this}if(this._unspiderfy){this._unspiderfy();var m=r.slice(),_=c;for(s=0;s<_;s++){if(u=m[s],u instanceof L.LayerGroup){this._extractNonGroupLayers(u,m),_=m.length;continue}this._unspiderfyLayer(u)}}for(s=0;s<c;s++){if(u=r[s],u instanceof L.LayerGroup){g&&(r=r.slice(),g=!1),this._extractNonGroupLayers(u,r),c=r.length;continue}if(!u.__parent){h.removeLayer(u),this.fire("layerremove",{layer:u});continue}this._removeLayer(u,!0,!0),this.fire("layerremove",{layer:u}),d.hasLayer(u)&&(d.removeLayer(u),u.clusterShow&&u.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(r){r.off(this._childMarkerEventHandlers,this),delete r.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var r=new L.LatLngBounds;this._topClusterLevel&&r.extend(this._topClusterLevel._bounds);for(var s=this._needsClustering.length-1;s>=0;s--)r.extend(this._needsClustering[s].getLatLng());return r.extend(this._nonPointGroup.getBounds()),r},eachLayer:function(r,s){var u=this._needsClustering.slice(),c=this._needsRemoving,d,h,g;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(u),h=u.length-1;h>=0;h--){for(d=!0,g=c.length-1;g>=0;g--)if(c[g].layer===u[h]){d=!1;break}d&&r.call(s,u[h])}this._nonPointGroup.eachLayer(r,s)},getLayers:function(){var r=[];return this.eachLayer(function(s){r.push(s)}),r},getLayer:function(r){var s=null;return r=parseInt(r,10),this.eachLayer(function(u){L.stamp(u)===r&&(s=u)}),s},hasLayer:function(r){if(!r)return!1;var s,u=this._needsClustering;for(s=u.length-1;s>=0;s--)if(u[s]===r)return!0;for(u=this._needsRemoving,s=u.length-1;s>=0;s--)if(u[s].layer===r)return!1;return!!(r.__parent&&r.__parent._group===this)||this._nonPointGroup.hasLayer(r)},zoomToShowLayer:function(r,s){var u=this._map;typeof s!="function"&&(s=function(){});var c=function(){(u.hasLayer(r)||u.hasLayer(r.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",c,this),this.off("animationend",c,this),u.hasLayer(r)?s():r.__parent._icon&&(this.once("spiderfied",s,this),r.__parent.spiderfy()))};r._icon&&this._map.getBounds().contains(r.getLatLng())?s():r.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",c,this),this._map.panTo(r.getLatLng())):(this._map.on("moveend",c,this),this.on("animationend",c,this),r.__parent.zoomToBounds())},onAdd:function(r){this._map=r;var s,u,c;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(r),this._nonPointGroup.addTo(r),this._gridClusters||this._generateInitialClusters(),this._maxLat=r.options.crs.projection.MAX_LATITUDE,s=0,u=this._needsRemoving.length;s<u;s++)c=this._needsRemoving[s],c.newlatlng=c.layer._latlng,c.layer._latlng=c.latlng;for(s=0,u=this._needsRemoving.length;s<u;s++)c=this._needsRemoving[s],this._removeLayer(c.layer,!0),c.layer._latlng=c.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),u=this._needsClustering,this._needsClustering=[],this.addLayers(u,!0)},onRemove:function(r){r.off("zoomend",this._zoomEnd,this),r.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(r){for(var s=r;s&&!s._icon;)s=s.__parent;return s||null},_arraySplice:function(r,s){for(var u=r.length-1;u>=0;u--)if(r[u]===s)return r.splice(u,1),!0},_removeFromGridUnclustered:function(r,s){for(var u=this._map,c=this._gridUnclustered,d=Math.floor(this._map.getMinZoom());s>=d&&c[s].removeObject(r,u.project(r.getLatLng(),s));s--);},_childMarkerDragStart:function(r){r.target.__dragStart=r.target._latlng},_childMarkerMoved:function(r){if(!this._ignoreMove&&!r.target.__dragStart){var s=r.target._popup&&r.target._popup.isOpen();this._moveChild(r.target,r.oldLatLng,r.latlng),s&&r.target.openPopup()}},_moveChild:function(r,s,u){r._latlng=s,this.removeLayer(r),r._latlng=u,this.addLayer(r)},_childMarkerDragEnd:function(r){var s=r.target.__dragStart;delete r.target.__dragStart,s&&this._moveChild(r.target,s,r.target._latlng)},_removeLayer:function(r,s,u){var c=this._gridClusters,d=this._gridUnclustered,h=this._featureGroup,g=this._map,m=Math.floor(this._map.getMinZoom());s&&this._removeFromGridUnclustered(r,this._maxZoom);var _=r.__parent,E=_._markers,y;for(this._arraySplice(E,r);_&&(_._childCount--,_._boundsNeedUpdate=!0,!(_._zoom<m));)s&&_._childCount<=1?(y=_._markers[0]===r?_._markers[1]:_._markers[0],c[_._zoom].removeObject(_,g.project(_._cLatLng,_._zoom)),d[_._zoom].addObject(y,g.project(y.getLatLng(),_._zoom)),this._arraySplice(_.__parent._childClusters,_),_.__parent._markers.push(y),y.__parent=_.__parent,_._icon&&(h.removeLayer(_),u||h.addLayer(y))):_._iconNeedsUpdate=!0,_=_.__parent;delete r.__parent},_isOrIsParent:function(r,s){for(;s;){if(r===s)return!0;s=s.parentNode}return!1},fire:function(r,s,u){if(s&&s.layer instanceof L.MarkerCluster){if(s.originalEvent&&this._isOrIsParent(s.layer._icon,s.originalEvent.relatedTarget))return;r="cluster"+r}L.FeatureGroup.prototype.fire.call(this,r,s,u)},listens:function(r,s){return L.FeatureGroup.prototype.listens.call(this,r,s)||L.FeatureGroup.prototype.listens.call(this,"cluster"+r,s)},_defaultIconCreateFunction:function(r){var s=r.getChildCount(),u=" marker-cluster-";return s<10?u+="small":s<100?u+="medium":u+="large",new L.DivIcon({html:"<div><span>"+s+"</span></div>",className:"marker-cluster"+u,iconSize:new L.Point(40,40)})},_bindEvents:function(){var r=this._map,s=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,c=this.options.zoomToBoundsOnClick,d=this.options.spiderfyOnEveryZoom;(s||c||d)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),r.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(r){var s=r.layer,u=s;if(!(r.type==="clusterkeypress"&&r.originalEvent&&r.originalEvent.keyCode!==13)){for(;u._childClusters.length===1;)u=u._childClusters[0];u._zoom===this._maxZoom&&u._childCount===s._childCount&&this.options.spiderfyOnMaxZoom?s.spiderfy():this.options.zoomToBoundsOnClick&&s.zoomToBounds(),this.options.spiderfyOnEveryZoom&&s.spiderfy(),r.originalEvent&&r.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(r){var s=this._map;this._inZoomAnimation||(this._shownPolygon&&s.removeLayer(this._shownPolygon),r.layer.getChildCount()>2&&r.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(r.layer.getConvexHull(),this.options.polygonOptions),s.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var r=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom,d=this._map;(r||u||c)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),d.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var r=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,r),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),r),this._currentShownBounds=r}},_generateInitialClusters:function(){var r=Math.ceil(this._map.getMaxZoom()),s=Math.floor(this._map.getMinZoom()),u=this.options.maxClusterRadius,c=u;typeof u!="function"&&(c=function(){return u}),this.options.disableClusteringAtZoom!==null&&(r=this.options.disableClusteringAtZoom-1),this._maxZoom=r,this._gridClusters={},this._gridUnclustered={};for(var d=r;d>=s;d--)this._gridClusters[d]=new L.DistanceGrid(c(d)),this._gridUnclustered[d]=new L.DistanceGrid(c(d));this._topClusterLevel=new this._markerCluster(this,s-1)},_addLayer:function(r,s){var u=this._gridClusters,c=this._gridUnclustered,d=Math.floor(this._map.getMinZoom()),h,g;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(r),r.on(this._childMarkerEventHandlers,this);s>=d;s--){h=this._map.project(r.getLatLng(),s);var m=u[s].getNearObject(h);if(m){m._addChild(r),r.__parent=m;return}if(m=c[s].getNearObject(h),m){var _=m.__parent;_&&this._removeLayer(m,!1);var E=new this._markerCluster(this,s,m,r);u[s].addObject(E,this._map.project(E._cLatLng,s)),m.__parent=E,r.__parent=E;var y=E;for(g=s-1;g>_._zoom;g--)y=new this._markerCluster(this,g,y),u[g].addObject(y,this._map.project(m.getLatLng(),g));_._addChild(y),this._removeFromGridUnclustered(m,s);return}c[s].addObject(r,h)}this._topClusterLevel._addChild(r),r.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(r){r instanceof L.MarkerCluster&&r._iconNeedsUpdate&&r._updateIcon()})},_enqueue:function(r){this._queue.push(r),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var r=0;r<this._queue.length;r++)this._queue[r].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var r=Math.round(this._map._zoom);this._processQueue(),this._zoom<r&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,r)):this._zoom>r?(this._animationStart(),this._animationZoomOut(this._zoom,r)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(r){var s=this._maxLat;return s!==void 0&&(r.getNorth()>=s&&(r._northEast.lat=1/0),r.getSouth()<=-s&&(r._southWest.lat=-1/0)),r},_animationAddLayerNonAnimated:function(r,s){if(s===r)this._featureGroup.addLayer(r);else if(s._childCount===2){s._addToMap();var u=s.getAllChildMarkers();this._featureGroup.removeLayer(u[0]),this._featureGroup.removeLayer(u[1])}else s._updateIcon()},_extractNonGroupLayers:function(r,s){var u=r.getLayers(),c=0,d;for(s=s||[];c<u.length;c++){if(d=u[c],d instanceof L.LayerGroup){this._extractNonGroupLayers(d,s);continue}s.push(d)}return s},_overrideMarkerIcon:function(r){var s=r.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[r]}});return s}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(r,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),r),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(r,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),r),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(r,s){this._animationAddLayerNonAnimated(r,s)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(r,s){var u=this._getExpandedVisibleBounds(),c=this._featureGroup,d=Math.floor(this._map.getMinZoom()),h;this._ignoreMove=!0,this._topClusterLevel._recursively(u,r,d,function(g){var m=g._latlng,_=g._markers,E;for(u.contains(m)||(m=null),g._isSingleParent()&&r+1===s?(c.removeLayer(g),g._recursivelyAddChildrenToMap(null,s,u)):(g.clusterHide(),g._recursivelyAddChildrenToMap(m,s,u)),h=_.length-1;h>=0;h--)E=_[h],u.contains(E._latlng)||c.removeLayer(E)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(u,s),c.eachLayer(function(g){!(g instanceof L.MarkerCluster)&&g._icon&&g.clusterShow()}),this._topClusterLevel._recursively(u,r,s,function(g){g._recursivelyRestoreChildPositions(s)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(u,r,d,function(g){c.removeLayer(g),g.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(r,s){this._animationZoomOutSingle(this._topClusterLevel,r-1,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),r,this._getExpandedVisibleBounds())},_animationAddLayer:function(r,s){var u=this,c=this._featureGroup;c.addLayer(r),s!==r&&(s._childCount>2?(s._updateIcon(),this._forceLayout(),this._animationStart(),r._setPos(this._map.latLngToLayerPoint(s.getLatLng())),r.clusterHide(),this._enqueue(function(){c.removeLayer(r),r.clusterShow(),u._animationEnd()})):(this._forceLayout(),u._animationStart(),u._animationZoomOutSingle(s,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(r,s,u){var c=this._getExpandedVisibleBounds(),d=Math.floor(this._map.getMinZoom());r._recursivelyAnimateChildrenInAndAddSelfToMap(c,d,s+1,u);var h=this;this._forceLayout(),r._recursivelyBecomeVisible(c,u),this._enqueue(function(){if(r._childCount===1){var g=r._markers[0];this._ignoreMove=!0,g.setLatLng(g.getLatLng()),this._ignoreMove=!1,g.clusterShow&&g.clusterShow()}else r._recursively(c,u,d,function(m){m._recursivelyRemoveChildrenFromMap(c,d,s+1)});h._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(r){return new L.MarkerClusterGroup(r)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(r,s,u,c){L.Marker.prototype.initialize.call(this,u?u._cLatLng||u.getLatLng():new L.LatLng(0,0),{icon:this,pane:r.options.clusterPane}),this._group=r,this._zoom=s,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,u&&this._addChild(u),c&&this._addChild(c)},getAllChildMarkers:function(r,s){r=r||[];for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u].getAllChildMarkers(r,s);for(var c=this._markers.length-1;c>=0;c--)s&&this._markers[c].__dragStart||r.push(this._markers[c]);return r},getChildCount:function(){return this._childCount},zoomToBounds:function(r){for(var s=this._childClusters.slice(),u=this._group._map,c=u.getBoundsZoom(this._bounds),d=this._zoom+1,h=u.getZoom(),g;s.length>0&&c>d;){d++;var m=[];for(g=0;g<s.length;g++)m=m.concat(s[g]._childClusters);s=m}c>d?this._group._map.setView(this._latlng,d):c<=h?this._group._map.setView(this._latlng,h+1):this._group._map.fitBounds(this._bounds,r)},getBounds:function(){var r=new L.LatLngBounds;return r.extend(this._bounds),r},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(r,s){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(r),r instanceof L.MarkerCluster?(s||(this._childClusters.push(r),r.__parent=this),this._childCount+=r._childCount):(s||this._markers.push(r),this._childCount++),this.__parent&&this.__parent._addChild(r,!0)},_setClusterCenter:function(r){this._cLatLng||(this._cLatLng=r._cLatLng||r._latlng)},_resetBounds:function(){var r=this._bounds;r._southWest&&(r._southWest.lat=1/0,r._southWest.lng=1/0),r._northEast&&(r._northEast.lat=-1/0,r._northEast.lng=-1/0)},_recalculateBounds:function(){var r=this._markers,s=this._childClusters,u=0,c=0,d=this._childCount,h,g,m,_;if(d!==0){for(this._resetBounds(),h=0;h<r.length;h++)m=r[h]._latlng,this._bounds.extend(m),u+=m.lat,c+=m.lng;for(h=0;h<s.length;h++)g=s[h],g._boundsNeedUpdate&&g._recalculateBounds(),this._bounds.extend(g._bounds),m=g._wLatLng,_=g._childCount,u+=m.lat*_,c+=m.lng*_;this._latlng=this._wLatLng=new L.LatLng(u/d,c/d),this._boundsNeedUpdate=!1}},_addToMap:function(r){r&&(this._backupLatlng=this._latlng,this.setLatLng(r)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(r,s,u){this._recursively(r,this._group._map.getMinZoom(),u-1,function(c){var d=c._markers,h,g;for(h=d.length-1;h>=0;h--)g=d[h],g._icon&&(g._setPos(s),g.clusterHide())},function(c){var d=c._childClusters,h,g;for(h=d.length-1;h>=0;h--)g=d[h],g._icon&&(g._setPos(s),g.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(r,s,u,c){this._recursively(r,c,s,function(d){d._recursivelyAnimateChildrenIn(r,d._group._map.latLngToLayerPoint(d.getLatLng()).round(),u),d._isSingleParent()&&u-1===c?(d.clusterShow(),d._recursivelyRemoveChildrenFromMap(r,s,u)):d.clusterHide(),d._addToMap()})},_recursivelyBecomeVisible:function(r,s){this._recursively(r,this._group._map.getMinZoom(),s,null,function(u){u.clusterShow()})},_recursivelyAddChildrenToMap:function(r,s,u){this._recursively(u,this._group._map.getMinZoom()-1,s,function(c){if(s!==c._zoom)for(var d=c._markers.length-1;d>=0;d--){var h=c._markers[d];u.contains(h._latlng)&&(r&&(h._backupLatlng=h.getLatLng(),h.setLatLng(r),h.clusterHide&&h.clusterHide()),c._group._featureGroup.addLayer(h))}},function(c){c._addToMap(r)})},_recursivelyRestoreChildPositions:function(r){for(var s=this._markers.length-1;s>=0;s--){var u=this._markers[s];u._backupLatlng&&(u.setLatLng(u._backupLatlng),delete u._backupLatlng)}if(r-1===this._zoom)for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._restorePosition();else for(var d=this._childClusters.length-1;d>=0;d--)this._childClusters[d]._recursivelyRestoreChildPositions(r)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(r,s,u,c){var d,h;this._recursively(r,s-1,u-1,function(g){for(h=g._markers.length-1;h>=0;h--)d=g._markers[h],(!c||!c.contains(d._latlng))&&(g._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())},function(g){for(h=g._childClusters.length-1;h>=0;h--)d=g._childClusters[h],(!c||!c.contains(d._latlng))&&(g._group._featureGroup.removeLayer(d),d.clusterShow&&d.clusterShow())})},_recursively:function(r,s,u,c,d){var h=this._childClusters,g=this._zoom,m,_;if(s<=g&&(c&&c(this),d&&g===u&&d(this)),g<s||g<u)for(m=h.length-1;m>=0;m--)_=h[m],_._boundsNeedUpdate&&_._recalculateBounds(),r.intersects(_._bounds)&&_._recursively(r,s,u,c,d)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var r=this.options.opacity;return this.setOpacity(0),this.options.opacity=r,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(r){this._cellSize=r,this._sqCellSize=r*r,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(r,s){var u=this._getCoord(s.x),c=this._getCoord(s.y),d=this._grid,h=d[c]=d[c]||{},g=h[u]=h[u]||[],m=L.Util.stamp(r);this._objectPoint[m]=s,g.push(r)},updateObject:function(r,s){this.removeObject(r),this.addObject(r,s)},removeObject:function(r,s){var u=this._getCoord(s.x),c=this._getCoord(s.y),d=this._grid,h=d[c]=d[c]||{},g=h[u]=h[u]||[],m,_;for(delete this._objectPoint[L.Util.stamp(r)],m=0,_=g.length;m<_;m++)if(g[m]===r)return g.splice(m,1),_===1&&delete h[u],!0},eachObject:function(r,s){var u,c,d,h,g,m,_,E=this._grid;for(u in E){g=E[u];for(c in g)for(m=g[c],d=0,h=m.length;d<h;d++)_=r.call(s,m[d]),_&&(d--,h--)}},getNearObject:function(r){var s=this._getCoord(r.x),u=this._getCoord(r.y),c,d,h,g,m,_,E,y,S=this._objectPoint,I=this._sqCellSize,b=null;for(c=u-1;c<=u+1;c++)if(g=this._grid[c],g){for(d=s-1;d<=s+1;d++)if(m=g[d],m)for(h=0,_=m.length;h<_;h++)E=m[h],y=this._sqDist(S[L.Util.stamp(E)],r),(y<I||y<=I&&b===null)&&(I=y,b=E)}return b},_getCoord:function(r){var s=Math.floor(r/this._cellSize);return isFinite(s)?s:r},_sqDist:function(r,s){var u=s.x-r.x,c=s.y-r.y;return u*u+c*c}},(function(){L.QuickHull={getDistant:function(r,s){var u=s[1].lat-s[0].lat,c=s[0].lng-s[1].lng;return c*(r.lat-s[0].lat)+u*(r.lng-s[0].lng)},findMostDistantPointFromBaseLine:function(r,s){var u=0,c=null,d=[],h,g,m;for(h=s.length-1;h>=0;h--){if(g=s[h],m=this.getDistant(g,r),m>0)d.push(g);else continue;m>u&&(u=m,c=g)}return{maxPoint:c,newPoints:d}},buildConvexHull:function(r,s){var u=[],c=this.findMostDistantPointFromBaseLine(r,s);return c.maxPoint?(u=u.concat(this.buildConvexHull([r[0],c.maxPoint],c.newPoints)),u=u.concat(this.buildConvexHull([c.maxPoint,r[1]],c.newPoints)),u):[r[0]]},getConvexHull:function(r){var s=!1,u=!1,c=!1,d=!1,h=null,g=null,m=null,_=null,E=null,y=null,S;for(S=r.length-1;S>=0;S--){var I=r[S];(s===!1||I.lat>s)&&(h=I,s=I.lat),(u===!1||I.lat<u)&&(g=I,u=I.lat),(c===!1||I.lng>c)&&(m=I,c=I.lng),(d===!1||I.lng<d)&&(_=I,d=I.lng)}u!==s?(y=g,E=h):(y=_,E=m);var b=[].concat(this.buildConvexHull([y,E],r),this.buildConvexHull([E,y],r));return b}}})(),L.MarkerCluster.include({getConvexHull:function(){var r=this.getAllChildMarkers(),s=[],u,c;for(c=r.length-1;c>=0;c--)u=r[c].getLatLng(),s.push(u);return L.QuickHull.getConvexHull(s)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var r=this.getAllChildMarkers(null,!0),s=this._group,u=s._map,c=u.latLngToLayerPoint(this._latlng),d;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?d=this._group.options.spiderfyShapePositions(r.length,c):r.length>=this._circleSpiralSwitchover?d=this._generatePointsSpiral(r.length,c):(c.y+=10,d=this._generatePointsCircle(r.length,c)),this._animationSpiderfy(r,d)}},unspiderfy:function(r){this._group._inZoomAnimation||(this._animationUnspiderfy(r),this._group._spiderfied=null)},_generatePointsCircle:function(r,s){var u=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+r),c=u/this._2PI,d=this._2PI/r,h=[],g,m;for(c=Math.max(c,35),h.length=r,g=0;g<r;g++)m=this._circleStartAngle+g*d,h[g]=new L.Point(s.x+c*Math.cos(m),s.y+c*Math.sin(m))._round();return h},_generatePointsSpiral:function(r,s){var u=this._group.options.spiderfyDistanceMultiplier,c=u*this._spiralLengthStart,d=u*this._spiralFootSeparation,h=u*this._spiralLengthFactor*this._2PI,g=0,m=[],_;for(m.length=r,_=r;_>=0;_--)_<r&&(m[_]=new L.Point(s.x+c*Math.cos(g),s.y+c*Math.sin(g))._round()),g+=d/c+_*5e-4,c+=h/g;return m},_noanimationUnspiderfy:function(){var r=this._group,s=r._map,u=r._featureGroup,c=this.getAllChildMarkers(null,!0),d,h;for(r._ignoreMove=!0,this.setOpacity(1),h=c.length-1;h>=0;h--)d=c[h],u.removeLayer(d),d._preSpiderfyLatlng&&(d.setLatLng(d._preSpiderfyLatlng),delete d._preSpiderfyLatlng),d.setZIndexOffset&&d.setZIndexOffset(0),d._spiderLeg&&(s.removeLayer(d._spiderLeg),delete d._spiderLeg);r.fire("unspiderfied",{cluster:this,markers:c}),r._ignoreMove=!1,r._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(r,s){var u=this._group,c=u._map,d=u._featureGroup,h=this._group.options.spiderLegPolylineOptions,g,m,_,E;for(u._ignoreMove=!0,g=0;g<r.length;g++)E=c.layerPointToLatLng(s[g]),m=r[g],_=new L.Polyline([this._latlng,E],h),c.addLayer(_),m._spiderLeg=_,m._preSpiderfyLatlng=m._latlng,m.setLatLng(E),m.setZIndexOffset&&m.setZIndexOffset(1e6),d.addLayer(m);this.setOpacity(.3),u._ignoreMove=!1,u.fire("spiderfied",{cluster:this,markers:r})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(r,s){var u=this,c=this._group,d=c._map,h=c._featureGroup,g=this._latlng,m=d.latLngToLayerPoint(g),_=L.Path.SVG,E=L.extend({},this._group.options.spiderLegPolylineOptions),y=E.opacity,S,I,b,T,ie,ue;for(y===void 0&&(y=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),_?(E.opacity=0,E.className=(E.className||"")+" leaflet-cluster-spider-leg"):E.opacity=y,c._ignoreMove=!0,S=0;S<r.length;S++)I=r[S],ue=d.layerPointToLatLng(s[S]),b=new L.Polyline([g,ue],E),d.addLayer(b),I._spiderLeg=b,_&&(T=b._path,ie=T.getTotalLength()+.1,T.style.strokeDasharray=ie,T.style.strokeDashoffset=ie),I.setZIndexOffset&&I.setZIndexOffset(1e6),I.clusterHide&&I.clusterHide(),h.addLayer(I),I._setPos&&I._setPos(m);for(c._forceLayout(),c._animationStart(),S=r.length-1;S>=0;S--)ue=d.layerPointToLatLng(s[S]),I=r[S],I._preSpiderfyLatlng=I._latlng,I.setLatLng(ue),I.clusterShow&&I.clusterShow(),_&&(b=I._spiderLeg,T=b._path,T.style.strokeDashoffset=0,b.setStyle({opacity:y}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:u,markers:r})},200)},_animationUnspiderfy:function(r){var s=this,u=this._group,c=u._map,d=u._featureGroup,h=r?c._latLngToNewLayerPoint(this._latlng,r.zoom,r.center):c.latLngToLayerPoint(this._latlng),g=this.getAllChildMarkers(null,!0),m=L.Path.SVG,_,E,y,S,I,b;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),E=g.length-1;E>=0;E--)_=g[E],_._preSpiderfyLatlng&&(_.closePopup(),_.setLatLng(_._preSpiderfyLatlng),delete _._preSpiderfyLatlng,b=!0,_._setPos&&(_._setPos(h),b=!1),_.clusterHide&&(_.clusterHide(),b=!1),b&&d.removeLayer(_),m&&(y=_._spiderLeg,S=y._path,I=S.getTotalLength()+.1,S.style.strokeDashoffset=I,y.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var T=0;for(E=g.length-1;E>=0;E--)_=g[E],_._spiderLeg&&T++;for(E=g.length-1;E>=0;E--)_=g[E],_._spiderLeg&&(_.clusterShow&&_.clusterShow(),_.setZIndexOffset&&_.setZIndexOffset(0),T>1&&d.removeLayer(_),c.removeLayer(_._spiderLeg),delete _._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:s,markers:g})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(r){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(r))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(r){this._spiderfied&&this._spiderfied.unspiderfy(r)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(r){r._spiderLeg&&(this._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow(),r.setZIndexOffset&&r.setZIndexOffset(0),this._map.removeLayer(r._spiderLeg),delete r._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(r){return r?r instanceof L.MarkerClusterGroup?r=r._topClusterLevel.getAllChildMarkers():r instanceof L.LayerGroup?r=r._layers:r instanceof L.MarkerCluster?r=r.getAllChildMarkers():r instanceof L.Marker&&(r=[r]):r=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(r),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(r),this},_flagParentsIconsNeedUpdate:function(r){var s,u;for(s in r)for(u=r[s].__parent;u;)u._iconNeedsUpdate=!0,u=u.__parent},_refreshSingleMarkerModeMarkers:function(r){var s,u;for(s in r)u=r[s],this.hasLayer(u)&&u.setIcon(this._overrideMarkerIcon(u))}}),L.Marker.include({refreshIconOptions:function(r,s){var u=this.options.icon;return L.setOptions(u,r),this.setIcon(u),s&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=n,t.MarkerCluster=i,Object.defineProperty(t,"__esModule",{value:!0})})});var qs;function Or(){return qs}function ct(t){let n=qs;return qs=t,n}var zl=Symbol("NotFound");function On(t){return t===zl||t?.name==="\u0275NotFound"}var Ys=null;var Ul=1;var $l=Symbol("SIGNAL");function U(t){let n=Ys;return Ys=t,n}function Qs(){return Ys}var Js={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Zl(t){if(!(Rr(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ul)){if(!t.producerMustRecompute(t)&&!ea(t)){Ks(t);return}t.producerRecomputeValue(t),Ks(t)}}function Ks(t){t.dirty=!1,t.lastCleanEpoch=Ul}function Xs(t){return t&&Gl(t),U(t)}function Gl(t){t.producersTail=void 0,t.recomputing=!0}function Wl(t,n){U(n),t&&ql(t)}function ql(t){t.recomputing=!1;let n=t.producersTail,i=n!==void 0?n.nextProducer:t.producers;if(i!==void 0){if(Rr(t))do i=na(i);while(i!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function ea(t){for(let n=t.producers;n!==void 0;n=n.nextProducer){let i=n.producer,r=n.lastReadVersion;if(r!==i.version||(Zl(i),r!==i.version))return!0}return!1}function ta(t){if(Rr(t)){let n=t.producers;for(;n!==void 0;)n=na(n)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function na(t){let n=t.producer,i=t.nextProducer,r=t.nextConsumer,s=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=s:n.consumersTail=s,s!==void 0)s.nextConsumer=r;else if(n.consumers=r,!Rr(n)){let u=n.producers;for(;u!==void 0;)u=na(u)}return i}function Rr(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Cm(){throw new Error}var Im=Cm;function ia(t){Im=t}function G(t){return typeof t=="function"}function kr(t){let i=t(r=>{Error.call(r),r.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var Fr=kr(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((r,s)=>`${s+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function Ei(t,n){if(t){let i=t.indexOf(n);0<=i&&t.splice(i,1)}}var De=class t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let u of i)u.remove(this);else i.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(u){n=u instanceof Fr?u.errors:[u]}let{_finalizers:s}=this;if(s){this._finalizers=null;for(let u of s)try{Yl(u)}catch(c){n=n??[],c instanceof Fr?n=[...n,...c.errors]:n.push(c)}}if(n)throw new Fr(n)}}add(n){var i;if(n&&n!==this)if(this.closed)Yl(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(n)}}_hasParent(n){let{_parentage:i}=this;return i===n||Array.isArray(i)&&i.includes(n)}_addParent(n){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(n),i):i?[i,n]:n}_removeParent(n){let{_parentage:i}=this;i===n?this._parentage=null:Array.isArray(i)&&Ei(i,n)}remove(n){let{_finalizers:i}=this;i&&Ei(i,n),n instanceof t&&n._removeParent(this)}};De.EMPTY=(()=>{let t=new De;return t.closed=!0,t})();var ra=De.EMPTY;function Br(t){return t instanceof De||t&&"closed"in t&&G(t.remove)&&G(t.add)&&G(t.unsubscribe)}function Yl(t){G(t)?t():t.unsubscribe()}var Ye={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Rn={setTimeout(t,n,...i){let{delegate:r}=Rn;return r?.setTimeout?r.setTimeout(t,n,...i):setTimeout(t,n,...i)},clearTimeout(t){let{delegate:n}=Rn;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function jr(t){Rn.setTimeout(()=>{let{onUnhandledError:n}=Ye;if(n)n(t);else throw t})}function oa(){}var Kl=sa("C",void 0,void 0);function Ql(t){return sa("E",void 0,t)}function Jl(t){return sa("N",t,void 0)}function sa(t,n,i){return{kind:t,value:n,error:i}}var Wt=null;function kn(t){if(Ye.useDeprecatedSynchronousErrorHandling){let n=!Wt;if(n&&(Wt={errorThrown:!1,error:null}),t(),n){let{errorThrown:i,error:r}=Wt;if(Wt=null,i)throw r}}else t()}function Xl(t){Ye.useDeprecatedSynchronousErrorHandling&&Wt&&(Wt.errorThrown=!0,Wt.error=t)}var qt=class extends De{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Br(n)&&n.add(this)):this.destination=Mm}static create(n,i,r){return new Fn(n,i,r)}next(n){this.isStopped?ua(Jl(n),this):this._next(n)}error(n){this.isStopped?ua(Ql(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ua(Kl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Tm=Function.prototype.bind;function aa(t,n){return Tm.call(t,n)}var ca=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:i}=this;if(i.next)try{i.next(n)}catch(r){Vr(r)}}error(n){let{partialObserver:i}=this;if(i.error)try{i.error(n)}catch(r){Vr(r)}else Vr(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(i){Vr(i)}}},Fn=class extends qt{constructor(n,i,r){super();let s;if(G(n)||!n)s={next:n??void 0,error:i??void 0,complete:r??void 0};else{let u;this&&Ye.useDeprecatedNextContext?(u=Object.create(n),u.unsubscribe=()=>this.unsubscribe(),s={next:n.next&&aa(n.next,u),error:n.error&&aa(n.error,u),complete:n.complete&&aa(n.complete,u)}):s=n}this.destination=new ca(s)}};function Vr(t){Ye.useDeprecatedSynchronousErrorHandling?Xl(t):jr(t)}function bm(t){throw t}function ua(t,n){let{onStoppedNotification:i}=Ye;i&&Rn.setTimeout(()=>i(t,n))}var Mm={closed:!0,next:oa,error:bm,complete:oa};var Bn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ed(t){return t}function td(t){return t.length===0?ed:t.length===1?t[0]:function(i){return t.reduce((r,s)=>s(r),i)}}var ae=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let r=new t;return r.source=this,r.operator=i,r}subscribe(i,r,s){let u=xm(i)?i:new Fn(i,r,s);return kn(()=>{let{operator:c,source:d}=this;u.add(c?c.call(u,d):d?this._subscribe(u):this._trySubscribe(u))}),u}_trySubscribe(i){try{return this._subscribe(i)}catch(r){i.error(r)}}forEach(i,r){return r=nd(r),new r((s,u)=>{let c=new Fn({next:d=>{try{i(d)}catch(h){u(h),c.unsubscribe()}},error:u,complete:s});this.subscribe(c)})}_subscribe(i){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(i)}[Bn](){return this}pipe(...i){return td(i)(this)}toPromise(i){return i=nd(i),new i((r,s)=>{let u;this.subscribe(c=>u=c,c=>s(c),()=>r(u))})}}return t.create=n=>new t(n),t})();function nd(t){var n;return(n=t??Ye.Promise)!==null&&n!==void 0?n:Promise}function Sm(t){return t&&G(t.next)&&G(t.error)&&G(t.complete)}function xm(t){return t&&t instanceof qt||Sm(t)&&Br(t)}function Nm(t){return G(t?.lift)}function Se(t){return n=>{if(Nm(n))return n.lift(function(i){try{return t(i,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function He(t,n,i,r,s){return new la(t,n,i,r,s)}var la=class extends qt{constructor(n,i,r,s,u,c){super(n),this.onFinalize=u,this.shouldUnsubscribe=c,this._next=i?function(d){try{i(d)}catch(h){n.error(h)}}:super._next,this._error=s?function(d){try{s(d)}catch(h){n.error(h)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};var id=kr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Yt=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let r=new Hr(this,this);return r.operator=i,r}_throwIfClosed(){if(this.closed)throw new id}next(i){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(i)}})}error(i){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:r}=this;for(;r.length;)r.shift().error(i)}})}complete(){kn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:r,isStopped:s,observers:u}=this;return r||s?ra:(this.currentObservers=null,u.push(i),new De(()=>{this.currentObservers=null,Ei(u,i)}))}_checkFinalizedStatuses(i){let{hasError:r,thrownError:s,isStopped:u}=this;r?i.error(s):u&&i.complete()}asObservable(){let i=new ae;return i.source=this,i}}return t.create=(n,i)=>new Hr(n,i),t})(),Hr=class extends Yt{constructor(n,i){super(),this.destination=n,this.source=i}next(n){var i,r;(r=(i=this.destination)===null||i===void 0?void 0:i.next)===null||r===void 0||r.call(i,n)}error(n){var i,r;(r=(i=this.destination)===null||i===void 0?void 0:i.error)===null||r===void 0||r.call(i,n)}complete(){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||i===void 0||i.call(n)}_subscribe(n){var i,r;return(r=(i=this.source)===null||i===void 0?void 0:i.subscribe(n))!==null&&r!==void 0?r:ra}};var wi=class extends Yt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let i=super._subscribe(n);return!i.closed&&n.next(this._value),i}getValue(){let{hasError:n,thrownError:i,_value:r}=this;if(n)throw i;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};function rd(t){return t&&G(t.schedule)}function Lm(t){return t[t.length-1]}function od(t){return rd(Lm(t))?t.pop():void 0}function ad(t,n,i,r){function s(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function d(m){try{g(r.next(m))}catch(_){c(_)}}function h(m){try{g(r.throw(m))}catch(_){c(_)}}function g(m){m.done?u(m.value):s(m.value).then(d,h)}g((r=r.apply(t,n||[])).next())})}function sd(t){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&t[n],r=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kt(t){return this instanceof Kt?(this.v=t,this):new Kt(t)}function ud(t,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,n||[]),s,u=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),s[Symbol.asyncIterator]=function(){return this},s;function c(y){return function(S){return Promise.resolve(S).then(y,_)}}function d(y,S){r[y]&&(s[y]=function(I){return new Promise(function(b,T){u.push([y,I,b,T])>1||h(y,I)})},S&&(s[y]=S(s[y])))}function h(y,S){try{g(r[y](S))}catch(I){E(u[0][3],I)}}function g(y){y.value instanceof Kt?Promise.resolve(y.value.v).then(m,_):E(u[0][2],y)}function m(y){h("next",y)}function _(y){h("throw",y)}function E(y,S){y(S),u.shift(),u.length&&h(u[0][0],u[0][1])}}function cd(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t[Symbol.asyncIterator],i;return n?n.call(t):(t=typeof sd=="function"?sd(t):t[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(u){i[u]=t[u]&&function(c){return new Promise(function(d,h){c=t[u](c),s(d,h,c.done,c.value)})}}function s(u,c,d,h){Promise.resolve(h).then(function(g){u({value:g,done:d})},c)}}var zr=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ur(t){return G(t?.then)}function $r(t){return G(t[Bn])}function Zr(t){return Symbol.asyncIterator&&G(t?.[Symbol.asyncIterator])}function Gr(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Am(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Wr=Am();function qr(t){return G(t?.[Wr])}function Yr(t){return ud(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:r,done:s}=yield Kt(i.read());if(s)return yield Kt(void 0);yield yield Kt(r)}}finally{i.releaseLock()}})}function Kr(t){return G(t?.getReader)}function ze(t){if(t instanceof ae)return t;if(t!=null){if($r(t))return Pm(t);if(zr(t))return Om(t);if(Ur(t))return Rm(t);if(Zr(t))return ld(t);if(qr(t))return km(t);if(Kr(t))return Fm(t)}throw Gr(t)}function Pm(t){return new ae(n=>{let i=t[Bn]();if(G(i.subscribe))return i.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Om(t){return new ae(n=>{for(let i=0;i<t.length&&!n.closed;i++)n.next(t[i]);n.complete()})}function Rm(t){return new ae(n=>{t.then(i=>{n.closed||(n.next(i),n.complete())},i=>n.error(i)).then(null,jr)})}function km(t){return new ae(n=>{for(let i of t)if(n.next(i),n.closed)return;n.complete()})}function ld(t){return new ae(n=>{Bm(t,n).catch(i=>n.error(i))})}function Fm(t){return ld(Yr(t))}function Bm(t,n){var i,r,s,u;return ad(this,void 0,void 0,function*(){try{for(i=cd(t);r=yield i.next(),!r.done;){let c=r.value;if(n.next(c),n.closed)return}}catch(c){s={error:c}}finally{try{r&&!r.done&&(u=i.return)&&(yield u.call(i))}finally{if(s)throw s.error}}n.complete()})}function Ue(t,n,i,r=0,s=!1){let u=n.schedule(function(){i(),s?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(u),!s)return u}function Qr(t,n=0){return Se((i,r)=>{i.subscribe(He(r,s=>Ue(r,t,()=>r.next(s),n),()=>Ue(r,t,()=>r.complete(),n),s=>Ue(r,t,()=>r.error(s),n)))})}function Jr(t,n=0){return Se((i,r)=>{r.add(t.schedule(()=>i.subscribe(r),n))})}function dd(t,n){return ze(t).pipe(Jr(n),Qr(n))}function fd(t,n){return ze(t).pipe(Jr(n),Qr(n))}function hd(t,n){return new ae(i=>{let r=0;return n.schedule(function(){r===t.length?i.complete():(i.next(t[r++]),i.closed||this.schedule())})})}function pd(t,n){return new ae(i=>{let r;return Ue(i,n,()=>{r=t[Wr](),Ue(i,n,()=>{let s,u;try{({value:s,done:u}=r.next())}catch(c){i.error(c);return}u?i.complete():i.next(s)},0,!0)}),()=>G(r?.return)&&r.return()})}function Xr(t,n){if(!t)throw new Error("Iterable cannot be null");return new ae(i=>{Ue(i,n,()=>{let r=t[Symbol.asyncIterator]();Ue(i,n,()=>{r.next().then(s=>{s.done?i.complete():i.next(s.value)})},0,!0)})})}function gd(t,n){return Xr(Yr(t),n)}function md(t,n){if(t!=null){if($r(t))return dd(t,n);if(zr(t))return hd(t,n);if(Ur(t))return fd(t,n);if(Zr(t))return Xr(t,n);if(qr(t))return pd(t,n);if(Kr(t))return gd(t,n)}throw Gr(t)}function _d(t,n){return n?md(t,n):ze(t)}function eo(...t){let n=od(t);return _d(t,n)}function lt(t,n){return Se((i,r)=>{let s=0;i.subscribe(He(r,u=>{r.next(t.call(n,u,s++))}))})}function vd(t,n,i,r,s,u,c,d){let h=[],g=0,m=0,_=!1,E=()=>{_&&!h.length&&!g&&n.complete()},y=I=>g<r?S(I):h.push(I),S=I=>{u&&n.next(I),g++;let b=!1;ze(i(I,m++)).subscribe(He(n,T=>{s?.(T),u?y(T):n.next(T)},()=>{b=!0},void 0,()=>{if(b)try{for(g--;h.length&&g<r;){let T=h.shift();c?Ue(n,c,()=>S(T)):S(T)}E()}catch(T){n.error(T)}}))};return t.subscribe(He(n,y,()=>{_=!0,E()})),()=>{d?.()}}function to(t,n,i=1/0){return G(n)?to((r,s)=>lt((u,c)=>n(r,u,s,c))(ze(t(r,s))),i):(typeof n=="number"&&(i=n),Se((r,s)=>vd(r,s,t,i)))}function da(t,n){return Se((i,r)=>{let s=0;i.subscribe(He(r,u=>t.call(n,u,s++)&&r.next(u)))})}function fa(t,n){return G(n)?to(t,n,1):to(t,1)}function ha(t){return Se((n,i)=>{try{n.subscribe(i)}finally{i.add(t)}})}function pa(t,n){return Se((i,r)=>{let s=null,u=0,c=!1,d=()=>c&&!s&&r.complete();i.subscribe(He(r,h=>{s?.unsubscribe();let g=0,m=u++;ze(t(h,m)).subscribe(s=He(r,_=>r.next(n?n(h,_,m,g++):_),()=>{s=null,d()}))},()=>{c=!0,d()}))})}var P=class extends Error{code;constructor(n,i){super(Ti(n,i)),this.code=n}};function Vm(t){return`NG0${Math.abs(t)}`}function Ti(t,n){return`${Vm(t)}${n?": "+n:""}`}function Q(t){for(let n in t)if(t[n]===Q)return n;throw Error("")}function Jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Jt).join(", ")}]`;if(t==null)return""+t;let n=t.overriddenName||t.name;if(n)return`${n}`;let i=t.toString();if(i==null)return""+i;let r=i.indexOf(`
`);return r>=0?i.slice(0,r):i}function Ma(t,n){return t?n?`${t} ${n}`:t:n||""}var Hm=Q({__forward_ref__:Q});function so(t){return t.__forward_ref__=so,t.toString=function(){return Jt(this())},t}function Oe(t){return Ed(t)?t():t}function Ed(t){return typeof t=="function"&&t.hasOwnProperty(Hm)&&t.__forward_ref__===so}function Y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ot(t){return{providers:t.providers||[],imports:t.imports||[]}}function ao(t){return zm(t,uo)}function zm(t,n){return t.hasOwnProperty(n)&&t[n]||null}function Um(t){let n=t?.[uo]??null;return n||null}function ma(t){return t&&t.hasOwnProperty(io)?t[io]:null}var uo=Q({\u0275prov:Q}),io=Q({\u0275inj:Q}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,i){this._desc=n,this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=Y({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Sa(t){return t&&!!t.\u0275providers}var xa=Q({\u0275cmp:Q}),Na=Q({\u0275dir:Q}),La=Q({\u0275pipe:Q});var _a=Q({\u0275fac:Q}),nn=Q({__NG_ELEMENT_ID__:Q}),yd=Q({__NG_ENV_ID__:Q});function Aa(t){return typeof t=="string"?t:t==null?"":String(t)}function wd(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Aa(t)}var Cd=Q({ngErrorCode:Q}),$m=Q({ngErrorMessage:Q}),Zm=Q({ngTokenPath:Q});function Pa(t,n){return Id("",-200,n)}function co(t,n){throw new P(-201,!1)}function Id(t,n,i){let r=new P(n,t);return r[Cd]=n,r[$m]=t,i&&(r[Zm]=i),r}function Gm(t){return t[Cd]}var va;function Td(){return va}function Pe(t){let n=va;return va=t,n}function Oa(t,n,i){let r=ao(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(i&8)return null;if(n!==void 0)return n;co(t,"Injector")}var Wm={},Qt=Wm,qm="__NG_DI_FLAG__",ya=class{injector;constructor(n){this.injector=n}retrieve(n,i){let r=Xt(i)||0;try{return this.injector.get(n,r&8?null:Qt,r)}catch(s){if(On(s))return s;throw s}}};function Ym(t,n=0){let i=Or();if(i===void 0)throw new P(-203,!1);if(i===null)return Oa(t,void 0,n);{let r=Km(n),s=i.retrieve(t,r);if(On(s)){if(r.optional)return null;throw s}return s}}function z(t,n=0){return(Td()||Ym)(Oe(t),n)}function N(t,n){return z(t,Xt(n))}function Xt(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Km(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Da(t){let n=[];for(let i=0;i<t.length;i++){let r=Oe(t[i]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let s,u=0;for(let c=0;c<r.length;c++){let d=r[c],h=Qm(d);typeof h=="number"?h===-1?s=d.token:u|=h:s=d}n.push(z(s,u))}else n.push(z(r))}return n}function Qm(t){return t[qm]}function Vn(t,n){let i=t.hasOwnProperty(_a);return i?t[_a]:null}function lo(t,n){t.forEach(i=>Array.isArray(i)?lo(i,n):n(i))}function Ra(t,n,i){n>=t.length?t.push(i):t.splice(n,0,i)}function bi(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}var rn={},Ke=[],Rt=new R(""),ka=new R("",-1),Fa=new R(""),Ii=class{get(n,i=Qt){if(i===Qt){let s=Id("",-201);throw s.name="\u0275NotFound",s}return i}};function on(t){return t[xa]||null}function Ba(t){return t[Na]||null}function bd(t){return t[La]||null}function sn(t){return{\u0275providers:t}}function Md(t){return sn([{provide:Rt,multi:!0,useValue:t}])}function Sd(...t){return{\u0275providers:ja(!0,t),\u0275fromNgModule:!0}}function ja(t,...n){let i=[],r=new Set,s,u=c=>{i.push(c)};return lo(n,c=>{let d=c;ro(d,u,[],r)&&(s||=[],s.push(d))}),s!==void 0&&xd(s,u),i}function xd(t,n){for(let i=0;i<t.length;i++){let{ngModule:r,providers:s}=t[i];Va(s,u=>{n(u,r)})}}function ro(t,n,i,r){if(t=Oe(t),!t)return!1;let s=null,u=ma(t),c=!u&&on(t);if(!u&&!c){let h=t.ngModule;if(u=ma(h),u)s=h;else return!1}else{if(c&&!c.standalone)return!1;s=t}let d=r.has(s);if(c){if(d)return!1;if(r.add(s),c.dependencies){let h=typeof c.dependencies=="function"?c.dependencies():c.dependencies;for(let g of h)ro(g,n,i,r)}}else if(u){if(u.imports!=null&&!d){r.add(s);let g;try{lo(u.imports,m=>{ro(m,n,i,r)&&(g||=[],g.push(m))})}finally{}g!==void 0&&xd(g,n)}if(!d){let g=Vn(s)||(()=>new s);n({provide:s,useFactory:g,deps:Ke},s),n({provide:Fa,useValue:s,multi:!0},s),n({provide:Rt,useValue:()=>z(s),multi:!0},s)}let h=u.providers;if(h!=null&&!d){let g=t;Va(h,m=>{n(m,g)})}}else return!1;return s!==t&&t.providers!==void 0}function Va(t,n){for(let i of t)Sa(i)&&(i=i.\u0275providers),Array.isArray(i)?Va(i,n):n(i)}var Jm=Q({provide:String,useValue:Q});function Nd(t){return t!==null&&typeof t=="object"&&Jm in t}function Xm(t){return!!(t&&t.useExisting)}function e_(t){return!!(t&&t.useFactory)}function oo(t){return typeof t=="function"}var Mi=new R(""),no={},Dd={},ga;function Si(){return ga===void 0&&(ga=new Ii),ga}var xe=class{},en=class extends xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,i,r,s){super(),this.parent=i,this.source=r,this.scopes=s,wa(n,c=>this.processProvider(c)),this.records.set(ka,jn(void 0,this)),s.has("environment")&&this.records.set(xe,jn(void 0,this));let u=this.records.get(Mi);u!=null&&typeof u.value=="string"&&this.scopes.add(u.value),this.injectorDefTypes=new Set(this.get(Fa,Ke,{self:!0}))}retrieve(n,i){let r=Xt(i)||0;try{return this.get(n,Qt,r)}catch(s){if(On(s))return s;throw s}}destroy(){Ci(this),this._destroyed=!0;let n=U(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of i)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),U(n)}}onDestroy(n){return Ci(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Ci(this);let i=ct(this),r=Pe(void 0),s;try{return n()}finally{ct(i),Pe(r)}}get(n,i=Qt,r){if(Ci(this),n.hasOwnProperty(yd))return n[yd](this);let s=Xt(r),u,c=ct(this),d=Pe(void 0);try{if(!(s&4)){let g=this.records.get(n);if(g===void 0){let m=o_(n)&&ao(n);m&&this.injectableDefInScope(m)?g=jn(Ea(n),no):g=null,this.records.set(n,g)}if(g!=null)return this.hydrate(n,g,s)}let h=s&2?Si():this.parent;return i=s&8&&i===Qt?null:i,h.get(n,i)}catch(h){let g=Gm(h);throw g===-200||g===-201?new P(g,null):h}finally{Pe(d),ct(c)}}resolveInjectorInitializers(){let n=U(null),i=ct(this),r=Pe(void 0),s;try{let u=this.get(Rt,Ke,{self:!0});for(let c of u)c()}finally{ct(i),Pe(r),U(n)}}toString(){let n=[],i=this.records;for(let r of i.keys())n.push(Jt(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Oe(n);let i=oo(n)?n:Oe(n&&n.provide),r=n_(n);if(!oo(n)&&n.multi===!0){let s=this.records.get(i);s||(s=jn(void 0,no,!0),s.factory=()=>Da(s.multi),this.records.set(i,s)),i=n,s.multi.push(n)}this.records.set(i,r)}hydrate(n,i,r){let s=U(null);try{if(i.value===Dd)throw Pa(Jt(n));return i.value===no&&(i.value=Dd,i.value=i.factory(void 0,r)),typeof i.value=="object"&&i.value&&r_(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{U(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;let i=Oe(n.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){let i=this._onDestroyHooks.indexOf(n);i!==-1&&this._onDestroyHooks.splice(i,1)}};function Ea(t){let n=ao(t),i=n!==null?n.factory:Vn(t);if(i!==null)return i;if(t instanceof R)throw new P(204,!1);if(t instanceof Function)return t_(t);throw new P(204,!1)}function t_(t){if(t.length>0)throw new P(204,!1);let i=Um(t);return i!==null?()=>i.factory(t):()=>new t}function n_(t){if(Nd(t))return jn(void 0,t.useValue);{let n=Ld(t);return jn(n,no)}}function Ld(t,n,i){let r;if(oo(t)){let s=Oe(t);return Vn(s)||Ea(s)}else if(Nd(t))r=()=>Oe(t.useValue);else if(e_(t))r=()=>t.useFactory(...Da(t.deps||[]));else if(Xm(t))r=(s,u)=>z(Oe(t.useExisting),u!==void 0&&u&8?8:void 0);else{let s=Oe(t&&(t.useClass||t.provide));if(i_(t))r=()=>new s(...Da(t.deps));else return Vn(s)||Ea(s)}return r}function Ci(t){if(t.destroyed)throw new P(205,!1)}function jn(t,n,i=!1){return{factory:t,value:n,multi:i?[]:void 0}}function i_(t){return!!t.deps}function r_(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function o_(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function wa(t,n){for(let i of t)Array.isArray(i)?wa(i,n):i&&Sa(i)?wa(i.\u0275providers,n):n(i)}function Hn(t,n){let i;t instanceof en?(Ci(t),i=t):i=new ya(t);let r,s=ct(i),u=Pe(void 0);try{return n()}finally{ct(s),Pe(u)}}function Ad(){return Td()!==void 0||Or()!=null}var Qe=0,V=1,k=2,pe=3,$e=4,Ze=5,xi=6,zn=7,Ee=8,kt=9,It=10,ge=11,Un=12,Ha=13,an=14,Je=15,un=16,cn=17,ln=18,Ni=19,za=20,Ct=21,fo=22,Li=23,Re=24,ho=25,Ai=26,ke=27,Pd=1;var Ft=7,Pi=8,Oi=9,Ne=10;function Tt(t){return Array.isArray(t)&&typeof t[Pd]=="object"}function Xe(t){return Array.isArray(t)&&t[Pd]===!0}function Ua(t){return(t.flags&4)!==0}function dn(t){return t.componentOffset>-1}function Ri(t){return(t.flags&1)===1}function fn(t){return!!t.template}function $n(t){return(t[k]&512)!==0}function hn(t){return(t[k]&256)===256}var Od="svg",Rd="math";function Ge(t){for(;Array.isArray(t);)t=t[Qe];return t}function kd(t,n){return Ge(n[t])}function ft(t,n){return Ge(n[t.index])}function po(t,n){return t.data[n]}function ht(t,n){let i=n[t];return Tt(i)?i:i[Qe]}function go(t){return(t[k]&128)===128}function Fd(t){return Xe(t[pe])}function ki(t,n){return n==null?null:t[n]}function $a(t){t[cn]=0}function Za(t){t[k]&1024||(t[k]|=1024,go(t)&&Bi(t))}function Bd(t,n){for(;t>0;)n=n[an],t--;return n}function Fi(t){return!!(t[k]&9216||t[Re]?.dirty)}function mo(t){t[It].changeDetectionScheduler?.notify(8),t[k]&64&&(t[k]|=1024),Fi(t)&&Bi(t)}function Bi(t){t[It].changeDetectionScheduler?.notify(0);let n=At(t);for(;n!==null&&!(n[k]&8192||(n[k]|=8192,!go(n)));)n=At(n)}function Ga(t,n){if(hn(t))throw new P(911,!1);t[Ct]===null&&(t[Ct]=[]),t[Ct].push(n)}function jd(t,n){if(t[Ct]===null)return;let i=t[Ct].indexOf(n);i!==-1&&t[Ct].splice(i,1)}function At(t){let n=t[pe];return Xe(n)?n[pe]:n}function Vd(t){return t[zn]??=[]}function Hd(t){return t.cleanup??=[]}var q={lFrame:tf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ca=!1;function zd(){return q.lFrame.elementDepthCount}function Ud(){q.lFrame.elementDepthCount++}function $d(){q.lFrame.elementDepthCount--}function Wa(){return q.bindingsEnabled}function Zd(){return q.skipHydrationRootTNode!==null}function Gd(t){return q.skipHydrationRootTNode===t}function Wd(){q.skipHydrationRootTNode=null}function me(){return q.lFrame.lView}function pn(){return q.lFrame.tView}function pt(){let t=qa();for(;t!==null&&t.type===64;)t=t.parent;return t}function qa(){return q.lFrame.currentTNode}function qd(){let t=q.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}function Zn(t,n){let i=q.lFrame;i.currentTNode=t,i.isParent=n}function Ya(){return q.lFrame.isParent}function Yd(){q.lFrame.isParent=!1}function Ka(){return Ca}function Qa(t){let n=Ca;return Ca=t,n}function Kd(t){return q.lFrame.bindingIndex=t}function Ja(){return q.lFrame.bindingIndex++}function Qd(){return q.lFrame.inI18n}function Jd(t,n){let i=q.lFrame;i.bindingIndex=i.bindingRootIndex=t,_o(n)}function Xd(){return q.lFrame.currentDirectiveIndex}function _o(t){q.lFrame.currentDirectiveIndex=t}function Xa(t){q.lFrame.currentQueryIndex=t}function s_(t){let n=t[V];return n.type===2?n.declTNode:n.type===1?t[Ze]:null}function eu(t,n,i){if(i&4){let s=n,u=t;for(;s=s.parent,s===null&&!(i&1);)if(s=s_(u),s===null||(u=u[an],s.type&10))break;if(s===null)return!1;n=s,t=u}let r=q.lFrame=ef();return r.currentTNode=n,r.lView=t,!0}function vo(t){let n=ef(),i=t[V];q.lFrame=n,n.currentTNode=i.firstChild,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function ef(){let t=q.lFrame,n=t===null?null:t.child;return n===null?tf(t):n}function tf(t){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=n),n}function nf(){let t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tu=nf;function yo(){let t=nf();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rf(t){return(q.lFrame.contextLView=Bd(t,q.lFrame.contextLView))[Ee]}function Do(){return q.lFrame.selectedIndex}function Bt(t){q.lFrame.selectedIndex=t}function of(){let t=q.lFrame;return po(t.tView,t.selectedIndex)}function sf(){return q.lFrame.currentNamespace}var af=!0;function Eo(){return af}function wo(t){af=t}function Ia(t,n=null,i=null,r){let s=uf(t,n,i,r);return s.resolveInjectorInitializers(),s}function uf(t,n=null,i=null,r,s=new Set){let u=[i||Ke,Sd(t)];return r=r||(typeof t=="object"?void 0:Jt(t)),new en(u,n||Si(),r||null,s)}var tn=class t{static THROW_IF_NOT_FOUND=Qt;static NULL=new Ii;static create(n,i){if(Array.isArray(n))return Ia({name:""},i,n,"");{let r=n.name??"";return Ia({name:r},n.parent,n.providers,r)}}static \u0275prov=Y({token:t,providedIn:"any",factory:()=>z(ka)});static __NG_ELEMENT_ID__=-1},Le=new R(""),Gn=(()=>{class t{static __NG_ELEMENT_ID__=a_;static __NG_ENV_ID__=i=>i}return t})(),Ta=class extends Gn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return hn(this._lView)}onDestroy(n){let i=this._lView;return Ga(i,n),()=>jd(i,n)}};function a_(){return new Ta(me())}var dt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},et=new R("",{providedIn:"root",factory:()=>{let t=N(xe),n;return i=>{t.destroyed&&!n?setTimeout(()=>{throw i}):(n??=t.get(dt),n.handleError(i))}}}),cf={provide:Rt,useValue:()=>void N(dt),multi:!0},u_=new R("",{providedIn:"root",factory:()=>{let t=N(Le).defaultView;if(!t)return;let n=N(et),i=u=>{n(u.reason),u.preventDefault()},r=u=>{u.error?n(u.error):n(new Error(u.message,{cause:u})),u.preventDefault()},s=()=>{t.addEventListener("unhandledrejection",i),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(s):s(),N(Gn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",i)})}});function nu(){return sn([Md(()=>void N(u_))])}var Pt=class{},ji=new R("",{providedIn:"root",factory:()=>!1});var iu=new R(""),ru=new R(""),jt=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new wi(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ae(i=>{i.next(!1),i.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}has(i){return this.pendingTasks.has(i)}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}return t})(),Co=(()=>{class t{internalPendingTasks=N(jt);scheduler=N(Pt);errorHandler=N(et);add(){let i=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(i)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(i))}}run(i){let r=this.add();i().catch(this.errorHandler).finally(r)}static \u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}return t})();function Vi(...t){}var ou=(()=>{class t{static \u0275prov=Y({token:t,providedIn:"root",factory:()=>new ba})}return t})(),ba=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let i=n.zone,r=this.queues.get(i);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let i=n.zone;this.queues.has(i)||this.queues.set(i,new Set);let r=this.queues.get(i);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[i,r]of this.queues)i===null?n||=this.flushQueue(r):n||=i.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let i=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,i=!0,r.run());return i}};function Oo(t){return{toString:t}.toString()}function T_(t){return typeof t=="function"}var Mo=class{previousValue;currentValue;firstChange;constructor(n,i,r){this.previousValue=n,this.currentValue=i,this.firstChange=r}isFirstChange(){return this.firstChange}};function Vf(t,n,i,r){n!==null?n.applyValueToInputSignal(n,r):t[i]=r}var Ro=(()=>{let t=()=>Hf;return t.ngInherit=!0,t})();function Hf(t){return t.type.prototype.ngOnChanges&&(t.setInput=M_),b_}function b_(){let t=Uf(this),n=t?.current;if(n){let i=t.previous;if(i===rn)t.previous=n;else for(let r in n)i[r]=n[r];t.current=null,this.ngOnChanges(n)}}function M_(t,n,i,r,s){let u=this.declaredInputs[r],c=Uf(t)||S_(t,{previous:rn,current:null}),d=c.current||(c.current={}),h=c.previous,g=h[u];d[u]=new Mo(g&&g.currentValue,i,h===rn),Vf(t,n,s,i)}var zf="__ngSimpleChanges__";function Uf(t){return t[zf]||null}function S_(t,n){return t[zf]=n}var lf=[];var J=function(t,n=null,i){for(let r=0;r<lf.length;r++){let s=lf[r];s(t,n,i)}};function x_(t,n,i){let{ngOnChanges:r,ngOnInit:s,ngDoCheck:u}=n.type.prototype;if(r){let c=Hf(n);(i.preOrderHooks??=[]).push(t,c),(i.preOrderCheckHooks??=[]).push(t,c)}s&&(i.preOrderHooks??=[]).push(0-t,s),u&&((i.preOrderHooks??=[]).push(t,u),(i.preOrderCheckHooks??=[]).push(t,u))}function $f(t,n){for(let i=n.directiveStart,r=n.directiveEnd;i<r;i++){let u=t.data[i].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:d,ngAfterViewInit:h,ngAfterViewChecked:g,ngOnDestroy:m}=u;c&&(t.contentHooks??=[]).push(-i,c),d&&((t.contentHooks??=[]).push(i,d),(t.contentCheckHooks??=[]).push(i,d)),h&&(t.viewHooks??=[]).push(-i,h),g&&((t.viewHooks??=[]).push(i,g),(t.viewCheckHooks??=[]).push(i,g)),m!=null&&(t.destroyHooks??=[]).push(i,m)}}function Io(t,n,i){Zf(t,n,3,i)}function To(t,n,i,r){(t[k]&3)===i&&Zf(t,n,i,r)}function su(t,n){let i=t[k];(i&3)===n&&(i&=16383,i+=1,t[k]=i)}function Zf(t,n,i,r){let s=r!==void 0?t[cn]&65535:0,u=r??-1,c=n.length-1,d=0;for(let h=s;h<c;h++)if(typeof n[h+1]=="number"){if(d=n[h],r!=null&&d>=r)break}else n[h]<0&&(t[cn]+=65536),(d<u||u==-1)&&(N_(t,i,n,h),t[cn]=(t[cn]&4294901760)+h+2),h++}function df(t,n){J(4,t,n);let i=U(null);try{n.call(t)}finally{U(i),J(5,t,n)}}function N_(t,n,i,r){let s=i[r]<0,u=i[r+1],c=s?-i[r]:i[r],d=t[c];s?t[k]>>14<t[cn]>>16&&(t[k]&3)===n&&(t[k]+=16384,df(d,u)):df(d,u)}var qn=-1,Ui=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,i,r,s){this.factory=n,this.name=s,this.canSeeViewProviders=i,this.injectImpl=r}};function L_(t){return(t.flags&8)!==0}function A_(t){return(t.flags&16)!==0}function P_(t,n,i){let r=0;for(;r<i.length;){let s=i[r];if(typeof s=="number"){if(s!==0)break;r++;let u=i[r++],c=i[r++],d=i[r++];t.setAttribute(n,c,d,u)}else{let u=s,c=i[++r];R_(u)?t.setProperty(n,u,c):t.setAttribute(n,u,c),r++}}return r}function O_(t){return t===3||t===4||t===6}function R_(t){return t.charCodeAt(0)===64}function bu(t,n){if(!(n===null||n.length===0))if(t===null||t.length===0)t=n.slice();else{let i=-1;for(let r=0;r<n.length;r++){let s=n[r];typeof s=="number"?i=s:i===0||(i===-1||i===2?ff(t,i,s,null,n[++r]):ff(t,i,s,null,null))}}return t}function ff(t,n,i,r,s){let u=0,c=t.length;if(n===-1)c=-1;else for(;u<t.length;){let d=t[u++];if(typeof d=="number"){if(d===n){c=-1;break}else if(d>n){c=u-1;break}}}for(;u<t.length;){let d=t[u];if(typeof d=="number")break;if(d===i){s!==null&&(t[u+1]=s);return}u++,s!==null&&u++}c!==-1&&(t.splice(c,0,n),u=c+1),t.splice(u++,0,i),s!==null&&t.splice(u++,0,s)}function Gf(t){return t!==qn}function So(t){return t&32767}function k_(t){return t>>16}function xo(t,n){let i=k_(t),r=n;for(;i>0;)r=r[an],i--;return r}var du=!0;function hf(t){let n=du;return du=t,n}var F_=256,Wf=F_-1,qf=5,B_=0,gt={};function j_(t,n,i){let r;typeof i=="string"?r=i.charCodeAt(0)||0:i.hasOwnProperty(nn)&&(r=i[nn]),r==null&&(r=i[nn]=B_++);let s=r&Wf,u=1<<s;n.data[t+(s>>qf)]|=u}function Yf(t,n){let i=Kf(t,n);if(i!==-1)return i;let r=n[V];r.firstCreatePass&&(t.injectorIndex=n.length,au(r.data,t),au(n,null),au(r.blueprint,null));let s=Mu(t,n),u=t.injectorIndex;if(Gf(s)){let c=So(s),d=xo(s,n),h=d[V].data;for(let g=0;g<8;g++)n[u+g]=d[c+g]|h[c+g]}return n[u+8]=s,u}function au(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Kf(t,n){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||n[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mu(t,n){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,r=null,s=n;for(;s!==null;){if(r=th(s),r===null)return qn;if(i++,s=s[an],r.injectorIndex!==-1)return r.injectorIndex|i<<16}return qn}function V_(t,n,i){j_(t,n,i)}function Qf(t,n,i){if(i&8||t!==void 0)return t;co(n,"NodeInjector")}function Jf(t,n,i,r){if(i&8&&r===void 0&&(r=null),(i&3)===0){let s=t[kt],u=Pe(void 0);try{return s?s.get(n,r,i&8):Oa(n,r,i&8)}finally{Pe(u)}}return Qf(r,n,i)}function Xf(t,n,i,r=0,s){if(t!==null){if(n[k]&2048&&!(r&2)){let c=Z_(t,n,i,r,gt);if(c!==gt)return c}let u=eh(t,n,i,r,gt);if(u!==gt)return u}return Jf(n,i,r,s)}function eh(t,n,i,r,s){let u=U_(i);if(typeof u=="function"){if(!eu(n,t,r))return r&1?Qf(s,i,r):Jf(n,i,r,s);try{let c;if(c=u(r),c==null&&!(r&8))co(i);else return c}finally{tu()}}else if(typeof u=="number"){let c=null,d=Kf(t,n),h=qn,g=r&1?n[Je][Ze]:null;for((d===-1||r&4)&&(h=d===-1?Mu(t,n):n[d+8],h===qn||!gf(r,!1)?d=-1:(c=n[V],d=So(h),n=xo(h,n)));d!==-1;){let m=n[V];if(pf(u,d,m.data)){let _=H_(d,n,i,c,r,g);if(_!==gt)return _}h=n[d+8],h!==qn&&gf(r,n[V].data[d+8]===g)&&pf(u,d,n)?(c=m,d=So(h),n=xo(h,n)):d=-1}}return s}function H_(t,n,i,r,s,u){let c=n[V],d=c.data[t+8],h=r==null?dn(d)&&du:r!=c&&(d.type&3)!==0,g=s&1&&u===d,m=z_(d,c,i,h,g);return m!==null?fu(n,c,m,d,s):gt}function z_(t,n,i,r,s){let u=t.providerIndexes,c=n.data,d=u&1048575,h=t.directiveStart,g=t.directiveEnd,m=u>>20,_=r?d:d+m,E=s?d+m:g;for(let y=_;y<E;y++){let S=c[y];if(y<h&&i===S||y>=h&&S.type===i)return y}if(s){let y=c[h];if(y&&fn(y)&&y.type===i)return h}return null}function fu(t,n,i,r,s){let u=t[i],c=n.data;if(u instanceof Ui){let d=u;if(d.resolving){let y=wd(c[i]);throw Pa(y)}let h=hf(d.canSeeViewProviders);d.resolving=!0;let g=c[i].type||c[i],m,_=d.injectImpl?Pe(d.injectImpl):null,E=eu(t,r,0);try{u=t[i]=d.factory(void 0,s,c,t,r),n.firstCreatePass&&i>=r.directiveStart&&x_(i,c[i],n)}finally{_!==null&&Pe(_),hf(h),d.resolving=!1,tu()}}return u}function U_(t){if(typeof t=="string")return t.charCodeAt(0)||0;let n=t.hasOwnProperty(nn)?t[nn]:void 0;return typeof n=="number"?n>=0?n&Wf:$_:n}function pf(t,n,i){let r=1<<t;return!!(i[n+(t>>qf)]&r)}function gf(t,n){return!(t&2)&&!(t&1&&n)}var gn=class{_tNode;_lView;constructor(n,i){this._tNode=n,this._lView=i}get(n,i,r){return Xf(this._tNode,this._lView,n,Xt(r),i)}};function $_(){return new gn(pt(),me())}function Z_(t,n,i,r,s){let u=t,c=n;for(;u!==null&&c!==null&&c[k]&2048&&!$n(c);){let d=eh(u,c,i,r|2,gt);if(d!==gt)return d;let h=u.parent;if(!h){let g=c[za];if(g){let m=g.get(i,gt,r);if(m!==gt)return m}h=th(c),c=c[an]}u=h}return s}function th(t){let n=t[V],i=n.type;return i===2?n.declTNode:i===1?t[Ze]:null}function G_(){return ko(pt(),me())}function ko(t,n){return new qi(ft(t,n))}var qi=(()=>{class t{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=G_}return t})();function nh(t){return(t.flags&128)===128}var Su=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Su||{}),ih=new Map,W_=0;function q_(){return W_++}function Y_(t){ih.set(t[Ni],t)}function hu(t){ih.delete(t[Ni])}var mf="__ngContext__";function Yn(t,n){Tt(n)?(t[mf]=n[Ni],Y_(n)):t[mf]=n}function rh(t){return sh(t[Un])}function oh(t){return sh(t[$e])}function sh(t){for(;t!==null&&!Xe(t);)t=t[$e];return t}var pu;function xu(t){pu=t}function ah(){if(pu!==void 0)return pu;if(typeof document<"u")return document;throw new P(210,!1)}var Fo=new R("",{providedIn:"root",factory:()=>K_}),K_="ng",Bo=new R(""),Yi=new R("",{providedIn:"platform",factory:()=>"unknown"});var jo=new R("",{providedIn:"root",factory:()=>ah().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Q_="h",J_="b";var uh=!1,ch=new R("",{providedIn:"root",factory:()=>uh});var X_=(t,n,i,r)=>{};function ev(t,n,i,r){X_(t,n,i,r)}function Nu(t){return(t.flags&32)===32}var tv=()=>null;function lh(t,n,i=!1){return tv(t,n,i)}function dh(t,n){let i=t.contentQueries;if(i!==null){let r=U(null);try{for(let s=0;s<i.length;s+=2){let u=i[s],c=i[s+1];if(c!==-1){let d=t.data[c];Xa(u),d.contentQueries(2,n[c],c)}}}finally{U(r)}}}function gu(t,n,i){Xa(0);let r=U(null);try{n(t,i)}finally{U(r)}}function fh(t,n,i){if(Ua(n)){let r=U(null);try{let s=n.directiveStart,u=n.directiveEnd;for(let c=s;c<u;c++){let d=t.data[c];if(d.contentQueries){let h=i[c];d.contentQueries(1,h,c)}}}finally{U(r)}}}var bt=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(bt||{});function Lu(t){return t.ownerDocument.defaultView}function nv(t,n,i){let r=t.length;for(;;){let s=t.indexOf(n,i);if(s===-1)return s;if(s===0||t.charCodeAt(s-1)<=32){let u=n.length;if(s+u===r||t.charCodeAt(s+u)<=32)return s}i=s+1}}var hh="ng-template";function iv(t,n,i,r){let s=0;if(r){for(;s<n.length&&typeof n[s]=="string";s+=2)if(n[s]==="class"&&nv(n[s+1].toLowerCase(),i,0)!==-1)return!0}else if(Au(t))return!1;if(s=n.indexOf(1,s),s>-1){let u;for(;++s<n.length&&typeof(u=n[s])=="string";)if(u.toLowerCase()===i)return!0}return!1}function Au(t){return t.type===4&&t.value!==hh}function rv(t,n,i){let r=t.type===4&&!i?hh:t.value;return n===r}function ov(t,n,i){let r=4,s=t.attrs,u=s!==null?uv(s):0,c=!1;for(let d=0;d<n.length;d++){let h=n[d];if(typeof h=="number"){if(!c&&!tt(r)&&!tt(h))return!1;if(c&&tt(h))continue;c=!1,r=h|r&1;continue}if(!c)if(r&4){if(r=2|r&1,h!==""&&!rv(t,h,i)||h===""&&n.length===1){if(tt(r))return!1;c=!0}}else if(r&8){if(s===null||!iv(t,s,h,i)){if(tt(r))return!1;c=!0}}else{let g=n[++d],m=sv(h,s,Au(t),i);if(m===-1){if(tt(r))return!1;c=!0;continue}if(g!==""){let _;if(m>u?_="":_=s[m+1].toLowerCase(),r&2&&g!==_){if(tt(r))return!1;c=!0}}}}return tt(r)||c}function tt(t){return(t&1)===0}function sv(t,n,i,r){if(n===null)return-1;let s=0;if(r||!i){let u=!1;for(;s<n.length;){let c=n[s];if(c===t)return s;if(c===3||c===6)u=!0;else if(c===1||c===2){let d=n[++s];for(;typeof d=="string";)d=n[++s];continue}else{if(c===4)break;if(c===0){s+=4;continue}}s+=u?1:2}return-1}else return cv(n,t)}function av(t,n,i=!1){for(let r=0;r<n.length;r++)if(ov(t,n[r],i))return!0;return!1}function uv(t){for(let n=0;n<t.length;n++){let i=t[n];if(O_(i))return n}return t.length}function cv(t,n){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let r=t[i];if(typeof r=="number")return-1;if(r===n)return i;i++}return-1}function _f(t,n){return t?":not("+n.trim()+")":n}function lv(t){let n=t[0],i=1,r=2,s="",u=!1;for(;i<t.length;){let c=t[i];if(typeof c=="string")if(r&2){let d=t[++i];s+="["+c+(d.length>0?'="'+d+'"':"")+"]"}else r&8?s+="."+c:r&4&&(s+=" "+c);else s!==""&&!tt(c)&&(n+=_f(u,s),s=""),r=c,u=u||!tt(r);i++}return s!==""&&(n+=_f(u,s)),n}function dv(t){return t.map(lv).join(",")}function fv(t){let n=[],i=[],r=1,s=2;for(;r<t.length;){let u=t[r];if(typeof u=="string")s===2?u!==""&&n.push(u,t[++r]):s===8&&i.push(u);else{if(!tt(s))break;s=u}r++}return i.length&&n.push(1,...i),n}var Jn={};function hv(t,n){return t.createText(n)}function pv(t,n,i){t.setValue(n,i)}function ph(t,n,i){return t.createElement(n,i)}function No(t,n,i,r,s){t.insertBefore(n,i,r,s)}function gh(t,n,i){t.appendChild(n,i)}function vf(t,n,i,r,s){r!==null?No(t,n,i,r,s):gh(t,n,i)}function gv(t,n,i,r){t.removeChild(null,n,i,r)}function mv(t,n,i){t.setAttribute(n,"style",i)}function _v(t,n,i){i===""?t.removeAttribute(n,"class"):t.setAttribute(n,"class",i)}function mh(t,n,i){let{mergedAttrs:r,classes:s,styles:u}=i;r!==null&&P_(t,n,r),s!==null&&_v(t,n,s),u!==null&&mv(t,n,u)}function Pu(t,n,i,r,s,u,c,d,h,g,m){let _=ke+r,E=_+s,y=vv(_,E),S=typeof g=="function"?g():g;return y[V]={type:t,blueprint:y,template:i,queries:null,viewQuery:d,declTNode:n,data:y.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof u=="function"?u():u,pipeRegistry:typeof c=="function"?c():c,firstChild:null,schemas:h,consts:S,incompleteFirstPass:!1,ssrId:m}}function vv(t,n){let i=[];for(let r=0;r<n;r++)i.push(r<t?null:Jn);return i}function yv(t){let n=t.tView;return n===null||n.incompleteFirstPass?t.tView=Pu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Ou(t,n,i,r,s,u,c,d,h,g,m){let _=n.blueprint.slice();return _[Qe]=s,_[k]=r|4|128|8|64|1024,(g!==null||t&&t[k]&2048)&&(_[k]|=2048),$a(_),_[pe]=_[an]=t,_[Ee]=i,_[It]=c||t&&t[It],_[ge]=d||t&&t[ge],_[kt]=h||t&&t[kt]||null,_[Ze]=u,_[Ni]=q_(),_[xi]=m,_[za]=g,_[Je]=n.type==2?t[Je]:_,_}function Dv(t,n,i){let r=ft(n,t),s=yv(i),u=t[It].rendererFactory,c=Ru(t,Ou(t,s,null,_h(i),r,n,null,u.createRenderer(r,i),null,null,null));return t[n.index]=c}function _h(t){let n=16;return t.signals?n=4096:t.onPush&&(n=64),n}function vh(t,n,i,r){if(i===0)return-1;let s=n.length;for(let u=0;u<i;u++)n.push(r),t.blueprint.push(r),t.data.push(null);return s}function Ru(t,n){return t[Un]?t[Ha][$e]=n:t[Un]=n,t[Ha]=n,n}function _n(t=1){yh(pn(),me(),Do()+t,!1)}function yh(t,n,i,r){if(!r)if((n[k]&3)===3){let u=t.preOrderCheckHooks;u!==null&&Io(n,u,i)}else{let u=t.preOrderHooks;u!==null&&To(n,u,0,i)}Bt(i)}var Vo=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Vo||{});function mu(t,n,i,r){let s=U(null);try{let[u,c,d]=t.inputs[i],h=null;(c&Vo.SignalBased)!==0&&(h=n[u][$l]),h!==null&&h.transformFn!==void 0?r=h.transformFn(r):d!==null&&(r=d.call(n,r)),t.setInput!==null?t.setInput(n,h,r,i,u):Vf(n,h,u,r)}finally{U(s)}}var Vt=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Vt||{}),Ev;function ku(t,n){return Ev(t,n)}var Kn=new Set,Fu=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Fu||{}),Ki=new R(""),yf=new Set;function Bu(t){yf.has(t)||(yf.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Dh=!1,_u=class extends Yt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Ad()&&(this.destroyRef=N(Gn,{optional:!0})??void 0,this.pendingTasks=N(jt,{optional:!0})??void 0)}emit(n){let i=U(null);try{super.next(n)}finally{U(i)}}subscribe(n,i,r){let s=n,u=i||(()=>null),c=r;if(n&&typeof n=="object"){let h=n;s=h.next?.bind(h),u=h.error?.bind(h),c=h.complete?.bind(h)}this.__isAsync&&(u=this.wrapInTimeout(u),s&&(s=this.wrapInTimeout(s)),c&&(c=this.wrapInTimeout(c)));let d=super.subscribe({next:s,error:u,complete:c});return n instanceof De&&n.add(d),d}wrapInTimeout(n){return i=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(i)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ee=_u;function Eh(t){let n,i;function r(){t=Vi;try{i!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(i),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Df(t){return queueMicrotask(()=>t()),()=>{t=Vi}}var ju="isAngularZone",Lo=ju+"_ID",wv=0,oe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ee(!1);onMicrotaskEmpty=new ee(!1);onStable=new ee(!1);onError=new ee(!1);constructor(n){let{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:u=Dh}=n;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!s&&r,c.shouldCoalesceRunChangeDetection=s,c.callbackScheduled=!1,c.scheduleInRootZone=u,Tv(c)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ju)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(n,i,r){return this._inner.run(n,i,r)}runTask(n,i,r,s){let u=this._inner,c=u.scheduleEventTask("NgZoneEvent: "+s,n,Cv,Vi,Vi);try{return u.runTask(c,i,r)}finally{u.cancelTask(c)}}runGuarded(n,i,r){return this._inner.runGuarded(n,i,r)}runOutsideAngular(n){return this._outer.run(n)}},Cv={};function Vu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Iv(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function n(){Eh(()=>{t.callbackScheduled=!1,vu(t),t.isCheckStableRunning=!0,Vu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{n()}):t._outer.run(()=>{n()}),vu(t)}function Tv(t){let n=()=>{Iv(t)},i=wv++;t._inner=t._inner.fork({name:"angular",properties:{[ju]:!0,[Lo]:i,[Lo+i]:!0},onInvokeTask:(r,s,u,c,d,h)=>{if(bv(h))return r.invokeTask(u,c,d,h);try{return Ef(t),r.invokeTask(u,c,d,h)}finally{(t.shouldCoalesceEventChangeDetection&&c.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&n(),wf(t)}},onInvoke:(r,s,u,c,d,h,g)=>{try{return Ef(t),r.invoke(u,c,d,h,g)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Mv(h)&&n(),wf(t)}},onHasTask:(r,s,u,c)=>{r.hasTask(u,c),s===u&&(c.change=="microTask"?(t._hasPendingMicrotasks=c.microTask,vu(t),Vu(t)):c.change=="macroTask"&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(r,s,u,c)=>(r.handleError(u,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}function vu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ef(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function wf(t){t._nesting--,Vu(t)}var Ao=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ee;onMicrotaskEmpty=new ee;onStable=new ee;onError=new ee;run(n,i,r){return n.apply(i,r)}runGuarded(n,i,r){return n.apply(i,r)}runOutsideAngular(n){return n()}runTask(n,i,r,s){return n.apply(i,r)}};function bv(t){return wh(t,"__ignore_ng_zone__")}function Mv(t){return wh(t,"__scheduler_tick__")}function wh(t,n){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[n]===!0}var Ch=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}return t})();var Sv=new R("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function Ih(t,n,i){let r=t.get(Sv);if(Array.isArray(n))for(let s of n)r.queue.add(s),i?.detachedLeaveAnimationFns?.push(s);else r.queue.add(n),i?.detachedLeaveAnimationFns?.push(n);r.scheduler&&r.scheduler(t)}function xv(t,n){for(let[i,r]of n)Ih(t,r.animateFns)}function Cf(t,n,i,r){let s=t?.[Ai]?.enter;n!==null&&s&&s.has(i.index)&&xv(r,s)}function Wn(t,n,i,r,s,u,c,d){if(s!=null){let h,g=!1;Xe(s)?h=s:Tt(s)&&(g=!0,s=s[Qe]);let m=Ge(s);t===0&&r!==null?(Cf(d,r,u,i),c==null?gh(n,r,m):No(n,r,m,c||null,!0)):t===1&&r!==null?(Cf(d,r,u,i),No(n,r,m,c||null,!0)):t===2?If(d,u,i,_=>{gv(n,m,g,_)}):t===3&&If(d,u,i,()=>{n.destroyNode(m)}),h!=null&&zv(n,t,i,h,u,r,c)}}function Nv(t,n){Th(t,n),n[Qe]=null,n[Ze]=null}function Lv(t,n,i,r,s,u){r[Qe]=s,r[Ze]=n,Ho(t,r,i,1,s,u)}function Th(t,n){n[It].changeDetectionScheduler?.notify(9),Ho(t,n,n[ge],2,null,null)}function Av(t){let n=t[Un];if(!n)return uu(t[V],t);for(;n;){let i=null;if(Tt(n))i=n[Un];else{let r=n[Ne];r&&(i=r)}if(!i){for(;n&&!n[$e]&&n!==t;)Tt(n)&&uu(n[V],n),n=n[pe];n===null&&(n=t),Tt(n)&&uu(n[V],n),i=n&&n[$e]}n=i}}function Hu(t,n){let i=t[Oi],r=i.indexOf(n);i.splice(r,1)}function bh(t,n){if(hn(n))return;let i=n[ge];i.destroyNode&&Ho(t,n,i,3,null,null),Av(n)}function uu(t,n){if(hn(n))return;let i=U(null);try{n[k]&=-129,n[k]|=256,n[Re]&&ta(n[Re]),Rv(t,n),Ov(t,n),n[V].type===1&&n[ge].destroy();let r=n[un];if(r!==null&&Xe(n[pe])){r!==n[pe]&&Hu(r,n);let s=n[ln];s!==null&&s.detachView(t)}hu(n)}finally{U(i)}}function If(t,n,i,r){let s=t?.[Ai];if(s==null||s.leave==null||!s.leave.has(n.index))return r(!1);t&&Kn.add(t),Ih(i,()=>{if(s.leave&&s.leave.has(n.index)){let c=s.leave.get(n.index),d=[];if(c){for(let h=0;h<c.animateFns.length;h++){let g=c.animateFns[h],{promise:m}=g();d.push(m)}s.detachedLeaveAnimationFns=void 0}s.running=Promise.allSettled(d),Pv(t,r)}else t&&Kn.delete(t),r(!1)},s)}function Pv(t,n){let i=t[Ai]?.running;if(i){i.then(()=>{t[Ai].running=void 0,Kn.delete(t),n(!0)});return}n(!1)}function Ov(t,n){let i=t.cleanup,r=n[zn];if(i!==null)for(let c=0;c<i.length-1;c+=2)if(typeof i[c]=="string"){let d=i[c+3];d>=0?r[d]():r[-d].unsubscribe(),c+=2}else{let d=r[i[c+1]];i[c].call(d)}r!==null&&(n[zn]=null);let s=n[Ct];if(s!==null){n[Ct]=null;for(let c=0;c<s.length;c++){let d=s[c];d()}}let u=n[Li];if(u!==null){n[Li]=null;for(let c of u)c.destroy()}}function Rv(t,n){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let r=0;r<i.length;r+=2){let s=n[i[r]];if(!(s instanceof Ui)){let u=i[r+1];if(Array.isArray(u))for(let c=0;c<u.length;c+=2){let d=s[u[c]],h=u[c+1];J(4,d,h);try{h.call(d)}finally{J(5,d,h)}}else{J(4,s,u);try{u.call(s)}finally{J(5,s,u)}}}}}function kv(t,n,i){return Fv(t,n.parent,i)}function Fv(t,n,i){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return i[Qe];if(dn(r)){let{encapsulation:s}=t.data[r.directiveStart+r.componentOffset];if(s===bt.None||s===bt.Emulated)return null}return ft(r,i)}function Bv(t,n,i){return Vv(t,n,i)}function jv(t,n,i){return t.type&40?ft(t,i):null}var Vv=jv,Tf;function zu(t,n,i,r){let s=kv(t,r,n),u=n[ge],c=r.parent||n[Ze],d=Bv(c,r,n);if(s!=null)if(Array.isArray(i))for(let h=0;h<i.length;h++)vf(u,s,i[h],d,!1);else vf(u,s,i,d,!1);Tf!==void 0&&Tf(u,r,n,i,s)}function Hi(t,n){if(n!==null){let i=n.type;if(i&3)return ft(n,t);if(i&4)return yu(-1,t[n.index]);if(i&8){let r=n.child;if(r!==null)return Hi(t,r);{let s=t[n.index];return Xe(s)?yu(-1,s):Ge(s)}}else{if(i&128)return Hi(t,n.next);if(i&32)return ku(n,t)()||Ge(t[n.index]);{let r=Mh(t,n);if(r!==null){if(Array.isArray(r))return r[0];let s=At(t[Je]);return Hi(s,r)}else return Hi(t,n.next)}}}return null}function Mh(t,n){if(n!==null){let r=t[Je][Ze],s=n.projection;return r.projection[s]}return null}function yu(t,n){let i=Ne+t+1;if(i<n.length){let r=n[i],s=r[V].firstChild;if(s!==null)return Hi(r,s)}return n[Ft]}function Uu(t,n,i,r,s,u,c){for(;i!=null;){let d=r[kt];if(i.type===128){i=i.next;continue}let h=r[i.index],g=i.type;if(c&&n===0&&(h&&Yn(Ge(h),r),i.flags|=2),!Nu(i))if(g&8)Uu(t,n,i.child,r,s,u,!1),Wn(n,t,d,s,h,i,u,r);else if(g&32){let m=ku(i,r),_;for(;_=m();)Wn(n,t,d,s,_,i,u,r);Wn(n,t,d,s,h,i,u,r)}else g&16?Hv(t,n,r,i,s,u):Wn(n,t,d,s,h,i,u,r);i=c?i.projectionNext:i.next}}function Ho(t,n,i,r,s,u){Uu(i,r,t.firstChild,n,s,u,!1)}function Hv(t,n,i,r,s,u){let c=i[Je],h=c[Ze].projection[r.projection];if(Array.isArray(h))for(let g=0;g<h.length;g++){let m=h[g];Wn(n,t,i[kt],s,m,r,u,i)}else{let g=h,m=c[pe];nh(r)&&(g.flags|=128),Uu(t,n,g,m,s,u,!0)}}function zv(t,n,i,r,s,u,c){let d=r[Ft],h=Ge(r);d!==h&&Wn(n,t,i,u,d,s,c);for(let g=Ne;g<r.length;g++){let m=r[g];Ho(m[V],m,t,n,u,d)}}function Sh(t,n,i,r,s){let u=Do(),c=r&2;try{Bt(-1),c&&n.length>ke&&yh(t,n,ke,!1),J(c?2:0,s,i),i(r,s)}finally{Bt(u),J(c?3:1,s,i)}}function $u(t,n,i){Kv(t,n,i),(i.flags&64)===64&&Qv(t,n,i)}function xh(t,n,i=ft){let r=n.localNames;if(r!==null){let s=n.index+1;for(let u=0;u<r.length;u+=2){let c=r[u+1],d=c===-1?i(n,t):t[c];t[s++]=d}}}function Uv(t,n,i,r){let u=r.get(ch,uh)||i===bt.ShadowDom,c=t.selectRootElement(n,u);return $v(c),c}function $v(t){Zv(t)}var Zv=()=>null;function Gv(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Wv(t,n,i,r,s,u){let c=n[V];if(Zu(t,c,n,i,r)){dn(t)&&Yv(n,t.index);return}t.type&3&&(i=Gv(i)),qv(t,n,i,r,s,u)}function qv(t,n,i,r,s,u){if(t.type&3){let c=ft(t,n);r=u!=null?u(r,t.value||"",i):r,s.setProperty(c,i,r)}else t.type&12}function Yv(t,n){let i=ht(n,t);i[k]&16||(i[k]|=64)}function Kv(t,n,i){let r=i.directiveStart,s=i.directiveEnd;dn(i)&&Dv(n,i,t.data[r+i.componentOffset]),t.firstCreatePass||Yf(i,n);let u=i.initialInputs;for(let c=r;c<s;c++){let d=t.data[c],h=fu(n,t,c,i);if(Yn(h,n),u!==null&&Xv(n,c-r,h,d,i,u),fn(d)){let g=ht(i.index,n);g[Ee]=fu(n,t,c,i)}}}function Qv(t,n,i){let r=i.directiveStart,s=i.directiveEnd,u=i.index,c=Xd();try{Bt(u);for(let d=r;d<s;d++){let h=t.data[d],g=n[d];_o(d),(h.hostBindings!==null||h.hostVars!==0||h.hostAttrs!==null)&&Jv(h,g)}}finally{Bt(-1),_o(c)}}function Jv(t,n){t.hostBindings!==null&&t.hostBindings(1,n)}function Nh(t,n){let i=t.directiveRegistry,r=null;if(i)for(let s=0;s<i.length;s++){let u=i[s];av(n,u.selectors,!1)&&(r??=[],fn(u)?r.unshift(u):r.push(u))}return r}function Xv(t,n,i,r,s,u){let c=u[n];if(c!==null)for(let d=0;d<c.length;d+=2){let h=c[d],g=c[d+1];mu(r,i,h,g)}}function ey(t,n,i,r,s){let u=ke+i,c=n[V],d=s(c,n,t,r,i);n[u]=d,Zn(t,!0);let h=t.type===2;return h?(mh(n[ge],d,t),(zd()===0||Ri(t))&&Yn(d,n),Ud()):Yn(d,n),Eo()&&(!h||!Nu(t))&&zu(c,n,d,t),t}function ty(t){let n=t;return Ya()?Yd():(n=n.parent,Zn(n,!1)),n}function ny(t,n){let i=t[kt];if(!i)return;let r;try{r=i.get(et,null)}catch{r=null}r?.(n)}function Zu(t,n,i,r,s){let u=t.inputs?.[r],c=t.hostDirectiveInputs?.[r],d=!1;if(c)for(let h=0;h<c.length;h+=2){let g=c[h],m=c[h+1],_=n.data[g];mu(_,i[g],m,s),d=!0}if(u)for(let h of u){let g=i[h],m=n.data[h];mu(m,g,r,s),d=!0}return d}function iy(t,n){let i=ht(n,t),r=i[V];ry(r,i);let s=i[Qe];s!==null&&i[xi]===null&&(i[xi]=lh(s,i[kt])),J(18),Gu(r,i,i[Ee]),J(19,i[Ee])}function ry(t,n){for(let i=n.length;i<t.blueprint.length;i++)n.push(t.blueprint[i])}function Gu(t,n,i){vo(n);try{let r=t.viewQuery;r!==null&&gu(1,r,i);let s=t.template;s!==null&&Sh(t,n,s,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),n[ln]?.finishViewCreation(t),t.staticContentQueries&&dh(t,n),t.staticViewQueries&&gu(2,t.viewQuery,i);let u=t.components;u!==null&&oy(n,u)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[k]&=-5,yo()}}function oy(t,n){for(let i=0;i<n.length;i++)iy(t,n[i])}function sy(t,n,i,r){let s=U(null);try{let u=n.tView,d=t[k]&4096?4096:16,h=Ou(t,u,i,d,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),g=t[n.index];h[un]=g;let m=t[ln];return m!==null&&(h[ln]=m.createEmbeddedView(u)),Gu(u,h,i),h}finally{U(s)}}function bf(t,n){return!n||n.firstChild===null||nh(t)}function $i(t,n,i,r,s=!1){for(;i!==null;){if(i.type===128){i=s?i.projectionNext:i.next;continue}let u=n[i.index];u!==null&&r.push(Ge(u)),Xe(u)&&Lh(u,r);let c=i.type;if(c&8)$i(t,n,i.child,r);else if(c&32){let d=ku(i,n),h;for(;h=d();)r.push(h)}else if(c&16){let d=Mh(n,i);if(Array.isArray(d))r.push(...d);else{let h=At(n[Je]);$i(h[V],h,d,r,!0)}}i=s?i.projectionNext:i.next}return r}function Lh(t,n){for(let i=Ne;i<t.length;i++){let r=t[i],s=r[V].firstChild;s!==null&&$i(r[V],r,s,n)}t[Ft]!==t[Qe]&&n.push(t[Ft])}function Ah(t){if(t[ho]!==null){for(let n of t[ho])n.impl.addSequence(n);t[ho].length=0}}var Ph=[];function ay(t){return t[Re]??uy(t)}function uy(t){let n=Ph.pop()??Object.create(ly);return n.lView=t,n}function cy(t){t.lView[Re]!==t&&(t.lView=null,Ph.push(t))}var ly=ut(Me({},Js),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Bi(t.lView)},consumerOnSignalRead(){this.lView[Re]=this}});function dy(t){let n=t[Re]??Object.create(fy);return n.lView=t,n}var fy=ut(Me({},Js),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let n=At(t.lView);for(;n&&!Oh(n[V]);)n=At(n);n&&Za(n)},consumerOnSignalRead(){this.lView[Re]=this}});function Oh(t){return t.type!==2}function Rh(t){if(t[Li]===null)return;let n=!0;for(;n;){let i=!1;for(let r of t[Li])r.dirty&&(i=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=i&&!!(t[k]&8192)}}var hy=100;function kh(t,n=0){let r=t[It].rendererFactory,s=!1;s||r.begin?.();try{py(t,n)}finally{s||r.end?.()}}function py(t,n){let i=Ka();try{Qa(!0),Du(t,n);let r=0;for(;Fi(t);){if(r===hy)throw new P(103,!1);r++,Du(t,1)}}finally{Qa(i)}}function gy(t,n,i,r){if(hn(n))return;let s=n[k],u=!1,c=!1;vo(n);let d=!0,h=null,g=null;u||(Oh(t)?(g=ay(n),h=Xs(g)):Qs()===null?(d=!1,g=dy(n),h=Xs(g)):n[Re]&&(ta(n[Re]),n[Re]=null));try{$a(n),Kd(t.bindingStartIndex),i!==null&&Sh(t,n,i,2,r);let m=(s&3)===3;if(!u)if(m){let y=t.preOrderCheckHooks;y!==null&&Io(n,y,null)}else{let y=t.preOrderHooks;y!==null&&To(n,y,0,null),su(n,0)}if(c||my(n),Rh(n),Fh(n,0),t.contentQueries!==null&&dh(t,n),!u)if(m){let y=t.contentCheckHooks;y!==null&&Io(n,y)}else{let y=t.contentHooks;y!==null&&To(n,y,1),su(n,1)}vy(t,n);let _=t.components;_!==null&&jh(n,_,0);let E=t.viewQuery;if(E!==null&&gu(2,E,r),!u)if(m){let y=t.viewCheckHooks;y!==null&&Io(n,y)}else{let y=t.viewHooks;y!==null&&To(n,y,2),su(n,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),n[fo]){for(let y of n[fo])y();n[fo]=null}u||(Ah(n),n[k]&=-73)}catch(m){throw u||Bi(n),m}finally{g!==null&&(Wl(g,h),d&&cy(g)),yo()}}function Fh(t,n){for(let i=rh(t);i!==null;i=oh(i))for(let r=Ne;r<i.length;r++){let s=i[r];Bh(s,n)}}function my(t){for(let n=rh(t);n!==null;n=oh(n)){if(!(n[k]&2))continue;let i=n[Oi];for(let r=0;r<i.length;r++){let s=i[r];Za(s)}}}function _y(t,n,i){J(18);let r=ht(n,t);Bh(r,i),J(19,r[Ee])}function Bh(t,n){go(t)&&Du(t,n)}function Du(t,n){let r=t[V],s=t[k],u=t[Re],c=!!(n===0&&s&16);if(c||=!!(s&64&&n===0),c||=!!(s&1024),c||=!!(u?.dirty&&ea(u)),c||=!1,u&&(u.dirty=!1),t[k]&=-9217,c)gy(r,t,r.template,t[Ee]);else if(s&8192){let d=U(null);try{Rh(t),Fh(t,1);let h=r.components;h!==null&&jh(t,h,1),Ah(t)}finally{U(d)}}}function jh(t,n,i){for(let r=0;r<n.length;r++)_y(t,n[r],i)}function vy(t,n){let i=t.hostBindingOpCodes;if(i!==null)try{for(let r=0;r<i.length;r++){let s=i[r];if(s<0)Bt(~s);else{let u=s,c=i[++r],d=i[++r];Jd(c,u);let h=n[u];J(24,h),d(2,h),J(25,h)}}}finally{Bt(-1)}}function Wu(t,n){let i=Ka()?64:1088;for(t[It].changeDetectionScheduler?.notify(n);t;){t[k]|=i;let r=At(t);if($n(t)&&!r)return t;t=r}return null}function Vh(t,n,i,r){return[t,!0,0,n,null,r,null,i,null,null]}function yy(t,n,i,r=!0){let s=n[V];if(Dy(s,n,t,i),r){let c=yu(i,t),d=n[ge],h=d.parentNode(t[Ft]);h!==null&&Lv(s,t[Ze],d,n,h,c)}let u=n[xi];u!==null&&u.firstChild!==null&&(u.firstChild=null)}function Eu(t,n){if(t.length<=Ne)return;let i=Ne+n,r=t[i];if(r){let s=r[un];s!==null&&s!==t&&Hu(s,r),n>0&&(t[i-1][$e]=r[$e]);let u=bi(t,Ne+n);Nv(r[V],r);let c=u[ln];c!==null&&c.detachView(u[V]),r[pe]=null,r[$e]=null,r[k]&=-129}return r}function Dy(t,n,i,r){let s=Ne+r,u=i.length;r>0&&(i[s-1][$e]=n),r<u-Ne?(n[$e]=i[s],Ra(i,Ne+r,n)):(i.push(n),n[$e]=null),n[pe]=i;let c=n[un];c!==null&&i!==c&&Hh(c,n);let d=n[ln];d!==null&&d.insertView(t),mo(n),n[k]|=128}function Hh(t,n){let i=t[Oi],r=n[pe];if(Tt(r))t[k]|=2;else{let s=r[pe][Je];n[Je]!==s&&(t[k]|=2)}i===null?t[Oi]=[n]:i.push(n)}var Qn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,i=n[V];return $i(i,n,i.firstChild,[])}constructor(n,i){this._lView=n,this._cdRefInjectingView=i}get context(){return this._lView[Ee]}set context(n){this._lView[Ee]=n}get destroyed(){return hn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[pe];if(Xe(n)){let i=n[Pi],r=i?i.indexOf(this):-1;r>-1&&(Eu(n,r),bi(i,r))}this._attachedToViewContainer=!1}bh(this._lView[V],this._lView)}onDestroy(n){Ga(this._lView,n)}markForCheck(){Wu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){mo(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,kh(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=$n(this._lView),i=this._lView[un];i!==null&&!n&&Hu(i,this._lView),Th(this._lView[V],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=n;let i=$n(this._lView),r=this._lView[un];r!==null&&!i&&Hh(r,this._lView),mo(this._lView)}};var Qi=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Ey;constructor(i,r,s){this._declarationLView=i,this._declarationTContainer=r,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,r){return this.createEmbeddedViewImpl(i,r)}createEmbeddedViewImpl(i,r,s){let u=sy(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:r,dehydratedView:s});return new Qn(u)}}return t})();function Ey(){return wy(pt(),me())}function wy(t,n){return t.type&4?new Qi(n,t,ko(t,n)):null}function qu(t,n,i,r,s){let u=t.data[n];if(u===null)u=Cy(t,n,i,r,s),Qd()&&(u.flags|=32);else if(u.type&64){u.type=i,u.value=r,u.attrs=s;let c=qd();u.injectorIndex=c===null?-1:c.injectorIndex}return Zn(u,!0),u}function Cy(t,n,i,r,s){let u=qa(),c=Ya(),d=c?u:u&&u.parent,h=t.data[n]=Ty(t,d,i,n,r,s);return Iy(t,h,u,c),h}function Iy(t,n,i,r){t.firstChild===null&&(t.firstChild=n),i!==null&&(r?i.child==null&&n.parent!==null&&(i.child=n):i.next===null&&(i.next=n,n.prev=i))}function Ty(t,n,i,r,s,u){let c=n?n.injectorIndex:-1,d=0;return Zd()&&(d|=128),{type:i,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:s,attrs:u,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var iM=new RegExp(`^(\\d+)*(${J_}|${Q_})*(.*)`);var by=()=>null;function Mf(t,n){return by(t,n)}var zh=class{},zo=class{},wu=class{resolveComponentFactory(n){throw new P(917,!1)}},Uo=class{static NULL=new wu},mn=class{};var Uh=(()=>{class t{static \u0275prov=Y({token:t,providedIn:"root",factory:()=>null})}return t})();var bo={},Cu=class{injector;parentInjector;constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,r){let s=this.injector.get(n,bo,r);return s!==bo||i===bo?s:this.parentInjector.get(n,i,r)}};function Sf(t,n,i){let r=i?t.styles:null,s=i?t.classes:null,u=0;if(n!==null)for(let c=0;c<n.length;c++){let d=n[c];if(typeof d=="number")u=d;else if(u==1)s=Ma(s,d);else if(u==2){let h=d,g=n[++c];r=Ma(r,h+": "+g+";")}}i?t.styles=r:t.stylesWithoutHost=r,i?t.classes=s:t.classesWithoutHost=s}function ve(t,n=0){let i=me();if(i===null)return z(t,n);let r=pt();return Xf(r,i,Oe(t),n)}function $h(t,n,i,r,s){let u=r===null?null:{"":-1},c=s(t,i);if(c!==null){let d=c,h=null,g=null;for(let m of c)if(m.resolveHostDirectives!==null){[d,h,g]=m.resolveHostDirectives(c);break}xy(t,n,i,d,u,h,g)}u!==null&&r!==null&&My(i,r,u)}function My(t,n,i){let r=t.localNames=[];for(let s=0;s<n.length;s+=2){let u=i[n[s+1]];if(u==null)throw new P(-301,!1);r.push(n[s],u)}}function Sy(t,n,i){n.componentOffset=i,(t.components??=[]).push(n.index)}function xy(t,n,i,r,s,u,c){let d=r.length,h=!1;for(let E=0;E<d;E++){let y=r[E];!h&&fn(y)&&(h=!0,Sy(t,i,E)),V_(Yf(i,n),t,y.type)}Ry(i,t.data.length,d);for(let E=0;E<d;E++){let y=r[E];y.providersResolver&&y.providersResolver(y)}let g=!1,m=!1,_=vh(t,n,d,null);d>0&&(i.directiveToIndex=new Map);for(let E=0;E<d;E++){let y=r[E];if(i.mergedAttrs=bu(i.mergedAttrs,y.hostAttrs),Ly(t,i,n,_,y),Oy(_,y,s),c!==null&&c.has(y)){let[I,b]=c.get(y);i.directiveToIndex.set(y.type,[_,I+i.directiveStart,b+i.directiveStart])}else(u===null||!u.has(y))&&i.directiveToIndex.set(y.type,_);y.contentQueries!==null&&(i.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(i.flags|=64);let S=y.type.prototype;!g&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),g=!0),!m&&(S.ngOnChanges||S.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),m=!0),_++}Ny(t,i,u)}function Ny(t,n,i){for(let r=n.directiveStart;r<n.directiveEnd;r++){let s=t.data[r];if(i===null||!i.has(s))xf(0,n,s,r),xf(1,n,s,r),Lf(n,r,!1);else{let u=i.get(s);Nf(0,n,u,r),Nf(1,n,u,r),Lf(n,r,!0)}}}function xf(t,n,i,r){let s=t===0?i.inputs:i.outputs;for(let u in s)if(s.hasOwnProperty(u)){let c;t===0?c=n.inputs??={}:c=n.outputs??={},c[u]??=[],c[u].push(r),Zh(n,u)}}function Nf(t,n,i,r){let s=t===0?i.inputs:i.outputs;for(let u in s)if(s.hasOwnProperty(u)){let c=s[u],d;t===0?d=n.hostDirectiveInputs??={}:d=n.hostDirectiveOutputs??={},d[c]??=[],d[c].push(r,u),Zh(n,c)}}function Zh(t,n){n==="class"?t.flags|=8:n==="style"&&(t.flags|=16)}function Lf(t,n,i){let{attrs:r,inputs:s,hostDirectiveInputs:u}=t;if(r===null||!i&&s===null||i&&u===null||Au(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let c=null,d=0;for(;d<r.length;){let h=r[d];if(h===0){d+=4;continue}else if(h===5){d+=2;continue}else if(typeof h=="number")break;if(!i&&s.hasOwnProperty(h)){let g=s[h];for(let m of g)if(m===n){c??=[],c.push(h,r[d+1]);break}}else if(i&&u.hasOwnProperty(h)){let g=u[h];for(let m=0;m<g.length;m+=2)if(g[m]===n){c??=[],c.push(g[m+1],r[d+1]);break}}d+=2}t.initialInputs??=[],t.initialInputs.push(c)}function Ly(t,n,i,r,s){t.data[r]=s;let u=s.factory||(s.factory=Vn(s.type,!0)),c=new Ui(u,fn(s),ve,null);t.blueprint[r]=c,i[r]=c,Ay(t,n,r,vh(t,i,s.hostVars,Jn),s)}function Ay(t,n,i,r,s){let u=s.hostBindings;if(u){let c=t.hostBindingOpCodes;c===null&&(c=t.hostBindingOpCodes=[]);let d=~n.index;Py(c)!=d&&c.push(d),c.push(i,r,u)}}function Py(t){let n=t.length;for(;n>0;){let i=t[--n];if(typeof i=="number"&&i<0)return i}return 0}function Oy(t,n,i){if(i){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)i[n.exportAs[r]]=t;fn(n)&&(i[""]=t)}}function Ry(t,n,i){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+i,t.providerIndexes=n}function Gh(t,n,i,r,s,u,c,d){let h=n[V],g=h.consts,m=ki(g,c),_=qu(h,t,i,r,m);return u&&$h(h,n,_,ki(g,d),s),_.mergedAttrs=bu(_.mergedAttrs,_.attrs),_.attrs!==null&&Sf(_,_.attrs,!1),_.mergedAttrs!==null&&Sf(_,_.mergedAttrs,!0),h.queries!==null&&h.queries.elementStart(h,_),_}function Wh(t,n){$f(t,n),Ua(n)&&t.queries.elementEnd(n)}function Yu(t){return Yh(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function qh(t,n){if(Array.isArray(t))for(let i=0;i<t.length;i++)n(t[i]);else{let i=t[Symbol.iterator](),r;for(;!(r=i.next()).done;)n(r.value)}}function Yh(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Kh(t,n,i){if(i===Jn)return!1;let r=t[n];return Object.is(r,i)?!1:(t[n]=i,!0)}function cu(t,n,i){return function r(s){let u=dn(t)?ht(t.index,n):n;Wu(u,5);let c=n[Ee],d=Af(n,c,i,s),h=r.__ngNextListenerFn__;for(;h;)d=Af(n,c,h,s)&&d,h=h.__ngNextListenerFn__;return d}}function Af(t,n,i,r){let s=U(null);try{return J(6,n,i),i(r)!==!1}catch(u){return ny(t,u),!1}finally{J(7,n,i),U(s)}}function ky(t,n,i,r,s,u,c,d){let h=Ri(t),g=!1,m=null;if(!r&&h&&(m=By(n,i,u,t.index)),m!==null){let _=m.__ngLastListenerFn__||m;_.__ngNextListenerFn__=c,m.__ngLastListenerFn__=c,g=!0}else{let _=ft(t,i),E=r?r(_):_;ev(i,E,u,d);let y=s.listen(E,u,d);if(!Fy(u)){let S=r?I=>r(Ge(I[t.index])):t.index;Qh(S,n,i,u,d,y,!1)}}return g}function Fy(t){return t.startsWith("animation")||t.startsWith("transition")}function By(t,n,i,r){let s=t.cleanup;if(s!=null)for(let u=0;u<s.length-1;u+=2){let c=s[u];if(c===i&&s[u+1]===r){let d=n[zn],h=s[u+2];return d&&d.length>h?d[h]:null}typeof c=="string"&&(u+=2)}return null}function Qh(t,n,i,r,s,u,c){let d=n.firstCreatePass?Hd(n):null,h=Vd(i),g=h.length;h.push(s,u),d&&d.push(r,t,g,(g+1)*(c?-1:1))}function Pf(t,n,i,r,s,u){let c=n[i],d=n[V],g=d.data[i].outputs[r],_=c[g].subscribe(u);Qh(t.index,d,n,s,u,_,!0)}var Iu=Symbol("BINDING");var Tu=class extends Uo{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let i=on(n);return new Zi(i,this.ngModule)}};function jy(t){return Object.keys(t).map(n=>{let[i,r,s]=t[n],u={propName:i,templateName:n,isSignal:(r&Vo.SignalBased)!==0};return s&&(u.transform=s),u})}function Vy(t){return Object.keys(t).map(n=>({propName:t[n],templateName:n}))}function Hy(t,n,i){let r=n instanceof xe?n:n?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Cu(i,r):i}function zy(t){let n=t.get(mn,null);if(n===null)throw new P(407,!1);let i=t.get(Uh,null),r=t.get(Pt,null);return{rendererFactory:n,sanitizer:i,changeDetectionScheduler:r,ngReflect:!1}}function Uy(t,n){let i=Jh(t);return ph(n,i,i==="svg"?Od:i==="math"?Rd:null)}function Jh(t){return(t.selectors[0][0]||"div").toLowerCase()}var Zi=class extends zo{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=jy(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Vy(this.componentDef.outputs),this.cachedOutputs}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=dv(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!i}create(n,i,r,s,u,c){J(22);let d=U(null);try{let h=this.componentDef,g=$y(r,h,c,u),m=Hy(h,s||this.ngModule,n),_=zy(m),E=_.rendererFactory.createRenderer(null,h),y=r?Uv(E,r,h.encapsulation,m):Uy(h,E),S=c?.some(Of)||u?.some(T=>typeof T!="function"&&T.bindings.some(Of)),I=Ou(null,g,null,512|_h(h),null,null,_,E,m,null,lh(y,m,!0));I[ke]=y,vo(I);let b=null;try{let T=Gh(ke,I,2,"#host",()=>g.directiveRegistry,!0,0);mh(E,y,T),Yn(y,I),$u(g,I,T),fh(g,T,I),Wh(g,T),i!==void 0&&Gy(T,this.ngContentSelectors,i),b=ht(T.index,I),I[Ee]=b[Ee],Gu(g,I,null)}catch(T){throw b!==null&&hu(b),hu(I),T}finally{J(23),yo()}return new Po(this.componentType,I,!!S)}finally{U(d)}}};function $y(t,n,i,r){let s=t?["ng-version","20.3.14"]:fv(n.selectors[0]),u=null,c=null,d=0;if(i)for(let m of i)d+=m[Iu].requiredVars,m.create&&(m.targetIdx=0,(u??=[]).push(m)),m.update&&(m.targetIdx=0,(c??=[]).push(m));if(r)for(let m=0;m<r.length;m++){let _=r[m];if(typeof _!="function")for(let E of _.bindings){d+=E[Iu].requiredVars;let y=m+1;E.create&&(E.targetIdx=y,(u??=[]).push(E)),E.update&&(E.targetIdx=y,(c??=[]).push(E))}}let h=[n];if(r)for(let m of r){let _=typeof m=="function"?m:m.type,E=Ba(_);h.push(E)}return Pu(0,null,Zy(u,c),1,d,h,null,null,null,[s],null)}function Zy(t,n){return!t&&!n?null:i=>{if(i&1&&t)for(let r of t)r.create();if(i&2&&n)for(let r of n)r.update()}}function Of(t){let n=t[Iu].kind;return n==="input"||n==="twoWay"}var Po=class extends zh{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,i,r){super(),this._rootLView=i,this._hasInputBindings=r,this._tNode=po(i[V],ke),this.location=ko(this._tNode,i),this.instance=ht(this._tNode.index,i)[Ee],this.hostView=this.changeDetectorRef=new Qn(i,void 0),this.componentType=n}setInput(n,i){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;let s=this._rootLView,u=Zu(r,s[V],s,n,i);this.previousInputValues.set(n,i);let c=ht(r.index,s);Wu(c,1)}get injector(){return new gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function Gy(t,n,i){let r=t.projection=[];for(let s=0;s<n.length;s++){let u=i[s];r.push(u!=null&&u.length?Array.from(u):null)}}var Ji=(()=>{class t{static __NG_ELEMENT_ID__=Wy}return t})();function Wy(){let t=pt();return Yy(t,me())}var qy=Ji,Xh=class extends qy{_lContainer;_hostTNode;_hostLView;constructor(n,i,r){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=r}get element(){return ko(this._hostTNode,this._hostLView)}get injector(){return new gn(this._hostTNode,this._hostLView)}get parentInjector(){let n=Mu(this._hostTNode,this._hostLView);if(Gf(n)){let i=xo(n,this._hostLView),r=So(n),s=i[V].data[r+8];return new gn(s,i)}else return new gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let i=Rf(this._lContainer);return i!==null&&i[n]||null}get length(){return this._lContainer.length-Ne}createEmbeddedView(n,i,r){let s,u;typeof r=="number"?s=r:r!=null&&(s=r.index,u=r.injector);let c=Mf(this._lContainer,n.ssrId),d=n.createEmbeddedViewImpl(i||{},u,c);return this.insertImpl(d,s,bf(this._hostTNode,c)),d}createComponent(n,i,r,s,u,c,d){let h=n&&!T_(n),g;if(h)g=i;else{let b=i||{};g=b.index,r=b.injector,s=b.projectableNodes,u=b.environmentInjector||b.ngModuleRef,c=b.directives,d=b.bindings}let m=h?n:new Zi(on(n)),_=r||this.parentInjector;if(!u&&m.ngModule==null){let T=(h?_:this.parentInjector).get(xe,null);T&&(u=T)}let E=on(m.componentType??{}),y=Mf(this._lContainer,E?.id??null),S=y?.firstChild??null,I=m.create(_,s,S,u,c,d);return this.insertImpl(I.hostView,g,bf(this._hostTNode,y)),I}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,r){let s=n._lView;if(Fd(s)){let d=this.indexOf(n);if(d!==-1)this.detach(d);else{let h=s[pe],g=new Xh(h,h[Ze],h[pe]);g.detach(g.indexOf(n))}}let u=this._adjustIndex(i),c=this._lContainer;return yy(c,s,u,r),n.attachToViewContainerRef(),Ra(lu(c),u,n),n}move(n,i){return this.insert(n,i)}indexOf(n){let i=Rf(this._lContainer);return i!==null?i.indexOf(n):-1}remove(n){let i=this._adjustIndex(n,-1),r=Eu(this._lContainer,i);r&&(bi(lu(this._lContainer),i),bh(r[V],r))}detach(n){let i=this._adjustIndex(n,-1),r=Eu(this._lContainer,i);return r&&bi(lu(this._lContainer),i)!=null?new Qn(r):null}_adjustIndex(n,i=0){return n??this.length+i}};function Rf(t){return t[Pi]}function lu(t){return t[Pi]||(t[Pi]=[])}function Yy(t,n){let i,r=n[t.index];return Xe(r)?i=r:(i=Vh(r,n,null,t),n[t.index]=i,Ru(n,i)),Qy(i,n,t,r),new Xh(i,t,n)}function Ky(t,n){let i=t[ge],r=i.createComment(""),s=ft(n,t),u=i.parentNode(s);return No(i,u,r,i.nextSibling(s),!1),r}var Qy=eD,Jy=()=>!1;function Xy(t,n,i){return Jy(t,n,i)}function eD(t,n,i,r){if(t[Ft])return;let s;i.type&8?s=Ge(r):s=Ky(n,i),t[Ft]=s}var Gi=class{};var Wi=class extends Gi{injector;componentFactoryResolver=new Tu(this);instance=null;constructor(n){super();let i=new en([...n.providers,{provide:Gi,useValue:this},{provide:Uo,useValue:this.componentFactoryResolver}],n.parent||Si(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function ep(t,n,i=null){return new Wi({providers:t,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}var tD=(()=>{class t{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=ja(!1,i.type),s=r.length>0?ep([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Y({token:t,providedIn:"environment",factory:()=>new t(z(xe))})}return t})();function Ku(t){return Oo(()=>{let n=tp(t),i=ut(Me({},n),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Su.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&t.dependencies||null,getStandaloneInjector:n.standalone?s=>s.get(tD).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bt.Emulated,styles:t.styles||Ke,_:null,schemas:t.schemas||null,tView:null,id:""});n.standalone&&Bu("NgStandalone"),np(i);let r=t.dependencies;return i.directiveDefs=kf(r,nD),i.pipeDefs=kf(r,bd),i.id=oD(i),i})}function nD(t){return on(t)||Ba(t)}function vn(t){return Oo(()=>({type:t.type,bootstrap:t.bootstrap||Ke,declarations:t.declarations||Ke,imports:t.imports||Ke,exports:t.exports||Ke,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function iD(t,n){if(t==null)return rn;let i={};for(let r in t)if(t.hasOwnProperty(r)){let s=t[r],u,c,d,h;Array.isArray(s)?(d=s[0],u=s[1],c=s[2]??u,h=s[3]||null):(u=s,c=s,d=Vo.None,h=null),i[u]=[r,d,h],n[u]=c}return i}function rD(t){if(t==null)return rn;let n={};for(let i in t)t.hasOwnProperty(i)&&(n[t[i]]=i);return n}function yn(t){return Oo(()=>{let n=tp(t);return np(n),n})}function tp(t){let n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputConfig:t.inputs||rn,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ke,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:iD(t.inputs,n),outputs:rD(t.outputs),debugInfo:null}}function np(t){t.features?.forEach(n=>n(t))}function kf(t,n){return t?()=>{let i=typeof t=="function"?t():t,r=[];for(let s of i){let u=n(s);u!==null&&r.push(u)}return r}:null}function oD(t){let n=0,i=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,i,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let u of r.join("|"))n=Math.imul(31,n)+u.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function sD(t,n,i,r,s,u,c,d){if(i.firstCreatePass){t.mergedAttrs=bu(t.mergedAttrs,t.attrs);let m=t.tView=Pu(2,t,s,u,c,i.directiveRegistry,i.pipeRegistry,null,i.schemas,i.consts,null);i.queries!==null&&(i.queries.template(i,t),m.queries=i.queries.embeddedTView(t))}d&&(t.flags|=d),Zn(t,!1);let h=uD(i,n,t,r);Eo()&&zu(i,n,h,t),Yn(h,n);let g=Vh(h,n,h,t);n[r+ke]=g,Ru(n,g),Xy(g,t,n)}function aD(t,n,i,r,s,u,c,d,h,g,m){let _=i+ke,E;return n.firstCreatePass?(E=qu(n,_,4,c||null,d||null),Wa()&&$h(n,t,E,ki(n.consts,g),Nh),$f(n,E)):E=n.data[_],sD(E,t,n,i,r,s,u,h),Ri(E)&&$u(n,t,E),g!=null&&xh(t,E,m),E}function Xi(t,n,i,r,s,u,c,d){let h=me(),g=pn(),m=ki(g.consts,u);return aD(h,g,t,n,i,r,s,m,void 0,c,d),Xi}var uD=cD;function cD(t,n,i,r){return wo(!0),n[ge].createComment("")}var Qu=new R("");function $o(t){return!!t&&typeof t.then=="function"}function Ju(t){return!!t&&typeof t.subscribe=="function"}var ip=new R("");var Xu=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r});appInits=N(ip,{optional:!0})??[];injector=N(tn);constructor(){}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let u=Hn(this.injector,s);if($o(u))i.push(u);else if(Ju(u)){let c=new Promise((d,h)=>{u.subscribe({complete:d,error:h})});i.push(c)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rp=new R("");function op(){ia(()=>{let t="";throw new P(600,t)})}function sp(t){return t.isBoundToModule}var lD=10;var er=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(et);afterRenderManager=N(Ch);zonelessEnabled=N(ji);rootEffectScheduler=N(ou);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Yt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(jt);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(lt(i=>!i))}constructor(){N(Ki,{optional:!0})}whenStable(){let i;return new Promise(r=>{i=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{i.unsubscribe()})}_injector=N(xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,r){return this.bootstrapImpl(i,r)}bootstrapImpl(i,r,s=tn.NULL){return this._injector.get(oe).run(()=>{J(10);let c=i instanceof zo;if(!this._injector.get(Xu).done){let S="";throw new P(405,S)}let h;c?h=i:h=this._injector.get(Uo).resolveComponentFactory(i),this.componentTypes.push(h.componentType);let g=sp(h)?void 0:this._injector.get(Gi),m=r||h.selector,_=h.create(s,[],m,g),E=_.location.nativeElement,y=_.injector.get(Qu,null);return y?.registerApplication(E),_.onDestroy(()=>{this.detachView(_.hostView),zi(this.components,_),y?.unregisterApplication(E)}),this._loadComponent(_),J(11,_),_})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){J(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Fu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new P(101,!1);let i=U(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,U(i),this.afterTick.next(),J(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(mn,null,{optional:!0}));let i=0;for(;this.dirtyFlags!==0&&i++<lD;)J(14),this.synchronizeOnce(),J(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let i=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s}of this.allViews){if(!r&&!Fi(s))continue;let u=r&&!this.zonelessEnabled?0:1;kh(s,u),i=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}i||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>Fi(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;zi(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView);try{this.tick()}catch(s){this.internalErrorHandler(s)}this.components.push(i),this._injector.get(rp,[]).forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>zi(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new P(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zi(t,n){let i=t.indexOf(n);i>-1&&t.splice(i,1)}var cM=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Dn(t,n,i){let r=me(),s=Ja();if(Kh(r,s,n)){let u=pn(),c=of();Wv(c,r,t,n,r[ge],i)}return Dn}function Ff(t,n,i,r,s){Zu(n,t,i,s?"class":"style",r)}function Mt(t,n,i,r){let s=me(),u=s[V],c=t+ke,d=u.firstCreatePass?Gh(c,s,2,n,Nh,Wa(),i,r):u.data[c];if(ey(d,s,t,n,dD),Ri(d)){let h=s[V];$u(h,s,d),fh(h,d,s)}return r!=null&&xh(s,d),Mt}function mt(){let t=pn(),n=pt(),i=ty(n);return t.firstCreatePass&&Wh(t,i),Gd(i)&&Wd(),$d(),i.classesWithoutHost!=null&&L_(i)&&Ff(t,i,me(),i.classesWithoutHost,!0),i.stylesWithoutHost!=null&&A_(i)&&Ff(t,i,me(),i.stylesWithoutHost,!1),mt}var dD=(t,n,i,r,s)=>(wo(!0),ph(n[ge],r,sf()));var tr="en-US";var fD=tr;function ap(t){typeof t=="string"&&(fD=t.toLowerCase().replace(/_/g,"-"))}function En(t,n,i){let r=me(),s=pn(),u=pt();return hD(s,r,r[ge],u,t,n,i),En}function hD(t,n,i,r,s,u,c){let d=!0,h=null;if((r.type&3||c)&&(h??=cu(r,n,u),ky(r,t,n,c,i,s,u,h)&&(d=!1)),d){let g=r.outputs?.[s],m=r.hostDirectiveOutputs?.[s];if(m&&m.length)for(let _=0;_<m.length;_+=2){let E=m[_],y=m[_+1];h??=cu(r,n,u),Pf(r,n,E,y,s,h)}if(g&&g.length)for(let _ of g)h??=cu(r,n,u),Pf(r,n,_,s,s,h)}}function ec(t=1){return rf(t)}function Xn(t,n=""){let i=me(),r=pn(),s=t+ke,u=r.firstCreatePass?qu(r,s,1,n,null):r.data[s],c=pD(r,i,u,n,t);i[s]=c,Eo()&&zu(r,i,c,u),Zn(u,!1)}var pD=(t,n,i,r,s)=>(wo(!0),hv(n[ge],r));function gD(t,n,i,r=""){return Kh(t,Ja(),i)?n+Aa(i)+r:Jn}function nr(t,n,i){let r=me(),s=gD(r,t,n,i);return s!==Jn&&mD(r,Do(),s),nr}function mD(t,n,i){let r=kd(n,t);pv(t[ge],r,i)}var _D=(()=>{class t{zone=N(oe);changeDetectionScheduler=N(Pt);applicationRef=N(er);applicationErrorHandler=N(et);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(i){this.applicationErrorHandler(i)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),up=new R("",{factory:()=>!1});function tc({ngZoneFactory:t,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){return t??=()=>new oe(ut(Me({},ic()),{scheduleInRootZone:i})),[{provide:oe,useFactory:t},{provide:Rt,multi:!0,useFactory:()=>{let r=N(_D,{optional:!0});return()=>r.initialize()}},{provide:Rt,multi:!0,useFactory:()=>{let r=N(vD);return()=>{r.initialize()}}},n===!0?{provide:iu,useValue:!0}:[],{provide:ru,useValue:i??Dh},{provide:et,useFactory:()=>{let r=N(oe),s=N(xe),u;return c=>{r.runOutsideAngular(()=>{s.destroyed&&!u?setTimeout(()=>{throw c}):(u??=s.get(dt),u.handleError(c))})}}}]}function nc(t){let n=t?.ignoreChangesOutsideZone,i=t?.scheduleInRootZone,r=tc({ngZoneFactory:()=>{let s=ic(t);return s.scheduleInRootZone=i,s.shouldCoalesceEventChangeDetection&&Bu("NgZone_CoalesceEvent"),new oe(s)},ignoreChangesOutsideZone:n,scheduleInRootZone:i});return sn([{provide:up,useValue:!0},{provide:ji,useValue:!1},r])}function ic(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var vD=(()=>{class t{subscription=new De;initialized=!1;zone=N(oe);pendingTasks=N(jt);initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var cp=(()=>{class t{applicationErrorHandler=N(et);appRef=N(er);taskService=N(jt);ngZone=N(oe);zonelessEnabled=N(ji);tracing=N(Ki,{optional:!0});disableScheduling=N(iu,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new De;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Lo):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(ru,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ao||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;let r=!1;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let s=this.useMicrotaskScheduler?Df:Eh;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>s(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(i){return!(this.disableScheduling&&!i||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Lo+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(i),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Df(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yD(){return typeof $localize<"u"&&$localize.locale||tr}var Zo=new R("",{providedIn:"root",factory:()=>N(Zo,{optional:!0,skipSelf:!0})||yD()});var RD=new R("");RD.__NG_ELEMENT_ID__=t=>{let n=pt();if(n===null)throw new P(204,!1);if(n.type&2)return n.value;if(t&8)return null;throw new P(204,!1)};var rc=new R(""),kD=new R("");function ir(t){return!t.moduleRef}function FD(t){let n=ir(t)?t.r3Injector:t.moduleRef.injector,i=n.get(oe);return i.run(()=>{ir(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=n.get(et),s;if(i.runOutsideAngular(()=>{s=i.onError.subscribe({next:r})}),ir(t)){let u=()=>n.destroy(),c=t.platformInjector.get(rc);c.add(u),n.onDestroy(()=>{s.unsubscribe(),c.delete(u)})}else{let u=()=>t.moduleRef.destroy(),c=t.platformInjector.get(rc);c.add(u),t.moduleRef.onDestroy(()=>{zi(t.allPlatformModules,t.moduleRef),s.unsubscribe(),c.delete(u)})}return jD(r,i,()=>{let u=n.get(jt),c=u.add(),d=n.get(Xu);return d.runInitializers(),d.donePromise.then(()=>{let h=n.get(Zo,tr);if(ap(h||tr),!n.get(kD,!0))return ir(t)?n.get(er):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ir(t)){let m=n.get(er);return t.rootComponent!==void 0&&m.bootstrap(t.rootComponent),m}else return BD?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void u.remove(c))})})}var BD;function jD(t,n,i){try{let r=i();return $o(r)?r.catch(s=>{throw n.runOutsideAngular(()=>t(s)),s}):r}catch(r){throw n.runOutsideAngular(()=>t(r)),r}}var Go=null;function VD(t=[],n){return tn.create({name:n,providers:[{provide:Mi,useValue:"platform"},{provide:rc,useValue:new Set([()=>Go=null])},...t]})}function HD(t=[]){if(Go)return Go;let n=VD(t);return Go=n,op(),zD(n),n}function zD(t){let n=t.get(Bo,null);Hn(t,()=>{n?.forEach(i=>i())})}var oc=class{constructor(){}supports(n){return Yu(n)}create(n){return new sc(n)}},UD=(t,n)=>n,sc=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||UD}forEachItem(n){let i;for(i=this._itHead;i!==null;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,r=this._removalsHead,s=0,u=null;for(;i||r;){let c=!r||i&&i.currentIndex<lp(r,s,u)?i:r,d=lp(c,s,u),h=c.currentIndex;if(c===r)s--,r=r._nextRemoved;else if(i=i._next,c.previousIndex==null)s++;else{u||(u=[]);let g=d-s,m=h-s;if(g!=m){for(let E=0;E<g;E++){let y=E<u.length?u[E]:u[E]=0,S=y+E;m<=S&&S<g&&(u[E]=y+1)}let _=c.previousIndex;u[_]=m-g}}d!==h&&n(c,d,h)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)n(i)}diff(n){if(n==null&&(n=[]),!Yu(n))throw new P(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._itHead,r=!1,s,u,c;if(Array.isArray(n)){this.length=n.length;for(let d=0;d<this.length;d++)u=n[d],c=this._trackByFn(d,u),i===null||!Object.is(i.trackById,c)?(i=this._mismatch(i,u,c,d),r=!0):(r&&(i=this._verifyReinsertion(i,u,c,d)),Object.is(i.item,u)||this._addIdentityChange(i,u)),i=i._next}else s=0,qh(n,d=>{c=this._trackByFn(s,d),i===null||!Object.is(i.trackById,c)?(i=this._mismatch(i,d,c,s),r=!0):(r&&(i=this._verifyReinsertion(i,d,c,s)),Object.is(i.item,d)||this._addIdentityChange(i,d)),i=i._next,s++}),this.length=s;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,r,s){let u;return n===null?u=this._itTail:(u=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,u,s)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,s),n!==null?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,u,s)):n=this._addAfter(new ac(i,r),u,s)),n}_verifyReinsertion(n,i,r,s){let u=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return u!==null?n=this._reinsertAfter(u,n._prev,s):n.currentIndex!=s&&(n.currentIndex=s,this._addToMoves(n,s)),n}_truncate(n){for(;n!==null;){let i=n._next;this._addToRemovals(this._unlink(n)),n=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let s=n._prevRemoved,u=n._nextRemoved;return s===null?this._removalsHead=u:s._nextRemoved=u,u===null?this._removalsTail=s:u._prevRemoved=s,this._insertAfter(n,i,r),this._addToMoves(n,r),n}_moveAfter(n,i,r){return this._unlink(n),this._insertAfter(n,i,r),this._addToMoves(n,r),n}_addAfter(n,i,r){return this._insertAfter(n,i,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,i,r){let s=i===null?this._itHead:i._next;return n._next=s,n._prev=i,s===null?this._itTail=n:s._prev=n,i===null?this._itHead=n:i._next=n,this._linkedRecords===null&&(this._linkedRecords=new Wo),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let i=n._prev,r=n._next;return i===null?this._itHead=r:i._next=r,r===null?this._itTail=i:r._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wo),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},ac=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,i){this.item=n,this.trackById=i}},uc=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let r;for(r=this._head;r!==null;r=r._nextDup)if((i===null||i<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let i=n._prevDup,r=n._nextDup;return i===null?this._head=r:i._nextDup=r,r===null?this._tail=i:r._prevDup=i,this._head===null}},Wo=class{map=new Map;put(n){let i=n.trackById,r=this.map.get(i);r||(r=new uc,this.map.set(i,r)),r.add(n)}get(n,i){let r=n,s=this.map.get(r);return s?s.get(n,i):null}remove(n){let i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function lp(t,n,i){let r=t.previousIndex;if(r===null)return r;let s=0;return i&&r<i.length&&(s=i[r]),r+n+s}function dp(){return new rr([new oc])}var rr=(()=>{class t{factories;static \u0275prov=Y({token:t,providedIn:"root",factory:dp});constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new t(i)}static extend(i){return{provide:t,useFactory:()=>{let r=N(t,{optional:!0,skipSelf:!0});return t.create(i,r||dp())}}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new P(901,!1)}}return t})();function fp(t){let{rootComponent:n,appProviders:i,platformProviders:r,platformRef:s}=t;J(8);try{let u=s?.injector??HD(r),c=[tc({}),{provide:Pt,useExisting:cp},cf,...i||[]],d=new Wi({providers:c,parent:u,debugName:"",runEnvironmentInitializers:!1});return FD({r3Injector:d.injector,platformInjector:u,rootComponent:n})}catch(u){return Promise.reject(u)}finally{J(9)}}var hp=null;function sr(){return hp}function cc(t){hp??=t}var or=class{};var qo=class{$implicit;ngForOf;index;count;constructor(n,i,r,s){this.$implicit=n,this.ngForOf=i,this.index=r,this.count=s}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ko=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,u,c)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new qo(s.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)r.remove(u===null?void 0:u);else if(u!==null){let d=r.get(u);r.move(d,c),pp(d,s)}});for(let s=0,u=r.length;s<u;s++){let d=r.get(s).context;d.index=s,d.count=u,d.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let u=r.get(s.currentIndex);pp(u,s)})}static ngTemplateContextGuard(i,r){return!0}static \u0275fac=function(r){return new(r||t)(ve(Ji),ve(Qi),ve(rr))};static \u0275dir=yn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function pp(t,n){t.context.$implicit=n.item}var lc=(()=>{class t{_viewContainer;_context=new Yo;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(i,r){this._viewContainer=i,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){gp(i,!1),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){gp(i,!1),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(i,r){return!0}static \u0275fac=function(r){return new(r||t)(ve(Ji),ve(Qi))};static \u0275dir=yn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Yo=class{$implicit=null;ngIf=null};function gp(t,n){if(t&&!t.createEmbeddedView)throw new P(2020,!1)}var Qo=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=vn({type:t});static \u0275inj=Ot({})}return t})();function ar(t,n){n=encodeURIComponent(n);for(let i of t.split(";")){let r=i.indexOf("="),[s,u]=r==-1?[i,""]:[i.slice(0,r),i.slice(r+1)];if(s.trim()===n)return decodeURIComponent(u)}return null}var Cn=class{};var mp="browser";var ur=class{_doc;constructor(n){this._doc=n}manager},Jo=(()=>{class t extends ur{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s,u){return i.addEventListener(r,s,u),()=>this.removeEventListener(i,r,s,u)}removeEventListener(i,r,s,u){return i.removeEventListener(r,s,u)}static \u0275fac=function(r){return new(r||t)(z(Le))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),es=new R(""),gc=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(i,r){this._zone=r,i.forEach(c=>{c.manager=this});let s=i.filter(c=>!(c instanceof Jo));this._plugins=s.slice().reverse();let u=i.find(c=>c instanceof Jo);u&&this._plugins.push(u)}addEventListener(i,r,s,u){return this._findPluginFor(r).addEventListener(i,r,s,u)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(u=>u.supports(i)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(i,r),r}static \u0275fac=function(r){return new(r||t)(z(es),z(oe))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),dc="ng-app-id";function _p(t){for(let n of t)n.remove()}function vp(t,n){let i=n.createElement("style");return i.textContent=t,i}function GD(t,n,i,r){let s=t.head?.querySelectorAll(`style[${dc}="${n}"],link[${dc}="${n}"]`);if(s)for(let u of s)u.removeAttribute(dc),u instanceof HTMLLinkElement?r.set(u.href.slice(u.href.lastIndexOf("/")+1),{usage:0,elements:[u]}):u.textContent&&i.set(u.textContent,{usage:0,elements:[u]})}function hc(t,n){let i=n.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",t),i}var mc=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(i,r,s,u={}){this.doc=i,this.appId=r,this.nonce=s,GD(i,r,this.inline,this.external),this.hosts.add(i.head)}addStyles(i,r){for(let s of i)this.addUsage(s,this.inline,vp);r?.forEach(s=>this.addUsage(s,this.external,hc))}removeStyles(i,r){for(let s of i)this.removeUsage(s,this.inline);r?.forEach(s=>this.removeUsage(s,this.external))}addUsage(i,r,s){let u=r.get(i);u?u.usage++:r.set(i,{usage:1,elements:[...this.hosts].map(c=>this.addElement(c,s(i,this.doc)))})}removeUsage(i,r){let s=r.get(i);s&&(s.usage--,s.usage<=0&&(_p(s.elements),r.delete(i)))}ngOnDestroy(){for(let[,{elements:i}]of[...this.inline,...this.external])_p(i);this.hosts.clear()}addHost(i){this.hosts.add(i);for(let[r,{elements:s}]of this.inline)s.push(this.addElement(i,vp(r,this.doc)));for(let[r,{elements:s}]of this.external)s.push(this.addElement(i,hc(r,this.doc)))}removeHost(i){this.hosts.delete(i)}addElement(i,r){return this.nonce&&r.setAttribute("nonce",this.nonce),i.appendChild(r)}static \u0275fac=function(r){return new(r||t)(z(Le),z(Fo),z(jo,8),z(Yi))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),fc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_c=/%COMP%/g;var Dp="%COMP%",WD=`_nghost-${Dp}`,qD=`_ngcontent-${Dp}`,YD=!0,KD=new R("",{providedIn:"root",factory:()=>YD});function QD(t){return qD.replace(_c,t)}function JD(t){return WD.replace(_c,t)}function Ep(t,n){return n.map(i=>i.replace(_c,t))}var vc=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(i,r,s,u,c,d,h=null,g=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=u,this.doc=c,this.ngZone=d,this.nonce=h,this.tracingService=g,this.platformIsServer=!1,this.defaultRenderer=new cr(i,c,d,this.platformIsServer,this.tracingService)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;let s=this.getOrCreateRenderer(i,r);return s instanceof Xo?s.applyToHost(i):s instanceof lr&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,u=s.get(r.id);if(!u){let c=this.doc,d=this.ngZone,h=this.eventManager,g=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,_=this.platformIsServer,E=this.tracingService;switch(r.encapsulation){case bt.Emulated:u=new Xo(h,g,r,this.appId,m,c,d,_,E);break;case bt.ShadowDom:return new pc(h,g,i,r,c,d,this.nonce,_,E);default:u=new lr(h,g,r,m,c,d,_,E);break}s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(i){this.rendererByCompId.delete(i)}static \u0275fac=function(r){return new(r||t)(z(gc),z(mc),z(Fo),z(KD),z(Le),z(oe),z(jo),z(Ki,8))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),cr=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,i,r,s,u){this.eventManager=n,this.doc=i,this.ngZone=r,this.platformIsServer=s,this.tracingService=u}destroy(){}destroyNode=null;createElement(n,i){return i?this.doc.createElementNS(fc[i]||i,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,i){(yp(n)?n.content:n).appendChild(i)}insertBefore(n,i,r){n&&(yp(n)?n.content:n).insertBefore(i,r)}removeChild(n,i){i.remove()}selectRootElement(n,i){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new P(-5104,!1);return i||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,i,r,s){if(s){i=s+":"+i;let u=fc[s];u?n.setAttributeNS(u,i,r):n.setAttribute(i,r)}else n.setAttribute(i,r)}removeAttribute(n,i,r){if(r){let s=fc[r];s?n.removeAttributeNS(s,i):n.removeAttribute(`${r}:${i}`)}else n.removeAttribute(i)}addClass(n,i){n.classList.add(i)}removeClass(n,i){n.classList.remove(i)}setStyle(n,i,r,s){s&(Vt.DashCase|Vt.Important)?n.style.setProperty(i,r,s&Vt.Important?"important":""):n.style[i]=r}removeStyle(n,i,r){r&Vt.DashCase?n.style.removeProperty(i):n.style[i]=""}setProperty(n,i,r){n!=null&&(n[i]=r)}setValue(n,i){n.nodeValue=i}listen(n,i,r,s){if(typeof n=="string"&&(n=sr().getGlobalEventTarget(this.doc,n),!n))throw new P(5102,!1);let u=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(u=this.tracingService.wrapEventListener(n,i,u)),this.eventManager.addEventListener(n,i,u,s)}decoratePreventDefault(n){return i=>{if(i==="__ngUnwrap__")return n;n(i)===!1&&i.preventDefault()}}};function yp(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var pc=class extends cr{sharedStylesHost;hostEl;shadowRoot;constructor(n,i,r,s,u,c,d,h,g){super(n,u,c,h,g),this.sharedStylesHost=i,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=s.styles;m=Ep(s.id,m);for(let E of m){let y=document.createElement("style");d&&y.setAttribute("nonce",d),y.textContent=E,this.shadowRoot.appendChild(y)}let _=s.getExternalStyles?.();if(_)for(let E of _){let y=hc(E,u);d&&y.setAttribute("nonce",d),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,i){return super.appendChild(this.nodeOrShadowRoot(n),i)}insertBefore(n,i,r){return super.insertBefore(this.nodeOrShadowRoot(n),i,r)}removeChild(n,i){return super.removeChild(null,i)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},lr=class extends cr{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,i,r,s,u,c,d,h,g){super(n,u,c,d,h),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=s;let m=r.styles;this.styles=g?Ep(g,m):m,this.styleUrls=r.getExternalStyles?.(g)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Kn.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Xo=class extends lr{contentAttr;hostAttr;constructor(n,i,r,s,u,c,d,h,g){let m=s+"-"+r.id;super(n,i,r,u,c,d,h,g,m),this.contentAttr=QD(m),this.hostAttr=JD(m)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,i){let r=super.createElement(n,i);return super.setAttribute(r,this.contentAttr,""),r}};var ts=class t extends or{supportsDOMEvents=!0;static makeCurrent(){cc(new t)}onAndCancel(n,i,r,s){return n.addEventListener(i,r,s),()=>{n.removeEventListener(i,r,s)}}dispatchEvent(n,i){n.dispatchEvent(i)}remove(n){n.remove()}createElement(n,i){return i=i||this.getDefaultDocument(),i.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,i){return i==="window"?window:i==="document"?n:i==="body"?n.body:null}getBaseHref(n){let i=XD();return i==null?null:eE(i)}resetBaseElement(){dr=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return ar(document.cookie,n)}},dr=null;function XD(){return dr=dr||document.head.querySelector("base"),dr?dr.getAttribute("href"):null}function eE(t){return new URL(t,document.baseURI).pathname}var tE=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),wp=["alt","control","meta","shift"],nE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Cp=(()=>{class t extends ur{constructor(i){super(i)}supports(i){return t.parseEventName(i)!=null}addEventListener(i,r,s,u){let c=t.parseEventName(r),d=t.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>sr().onAndCancel(i,c.domEventName,d,u))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let u=t._normalizeKey(r.pop()),c="",d=r.indexOf("code");if(d>-1&&(r.splice(d,1),c="code."),wp.forEach(g=>{let m=r.indexOf(g);m>-1&&(r.splice(m,1),c+=g+".")}),c+=u,r.length!=0||u.length===0)return null;let h={};return h.domEventName=s,h.fullKey=c,h}static matchEventFullKeyCode(i,r){let s=nE[i.key]||i.key,u="";return r.indexOf("code.")>-1&&(s=i.code,u="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),wp.forEach(c=>{if(c!==s){let d=iE[c];d(i)&&(u+=c+".")}}),u+=s,u===r)}static eventCallback(i,r,s){return u=>{t.matchEventFullKeyCode(u,i)&&s.runGuarded(()=>r(u))}}static _normalizeKey(i){return i==="esc"?"escape":i}static \u0275fac=function(r){return new(r||t)(z(Le))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})();function yc(t,n,i){let r=Me({rootComponent:t,platformRef:i?.platformRef},rE(n));return fp(r)}function rE(t){return{appProviders:[...cE,...t?.providers??[]],platformProviders:uE}}function oE(){ts.makeCurrent()}function sE(){return new dt}function aE(){return xu(document),document}var uE=[{provide:Yi,useValue:mp},{provide:Bo,useValue:oE,multi:!0},{provide:Le,useFactory:aE}];var cE=[{provide:Mi,useValue:"root"},{provide:dt,useFactory:sE},{provide:es,useClass:Jo,multi:!0,deps:[Le]},{provide:es,useClass:Cp,multi:!0,deps:[Le]},vc,mc,gc,{provide:mn,useExisting:vc},{provide:Cn,useClass:tE},[]];var ni=class{},fr=class{},Ht=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(i=>{let r=i.indexOf(":");if(r>0){let s=i.slice(0,r),u=i.slice(r+1).trim();this.addHeaderEntry(s,u)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((i,r)=>{this.addHeaderEntry(r,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([i,r])=>{this.setHeaderEntries(i,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let i=this.headers.get(n.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,i){return this.clone({name:n,value:i,op:"a"})}set(n,i){return this.clone({name:n,value:i,op:"s"})}delete(n,i){return this.clone({name:n,value:i,op:"d"})}maybeSetNormalizedName(n,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,n)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(i=>{this.headers.set(i,n.headers.get(i)),this.normalizedNames.set(i,n.normalizedNames.get(i))})}clone(n){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([n]),i}applyUpdate(n){let i=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(n.name,i);let s=(n.op==="a"?this.headers.get(i):void 0)||[];s.push(...r),this.headers.set(i,s);break;case"d":let u=n.value;if(!u)this.headers.delete(i),this.normalizedNames.delete(i);else{let c=this.headers.get(i);if(!c)return;c=c.filter(d=>u.indexOf(d)===-1),c.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,c)}break}}addHeaderEntry(n,i){let r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}setHeaderEntries(n,i){let r=(Array.isArray(i)?i:[i]).map(u=>u.toString()),s=n.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(n,s)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>n(this.normalizedNames.get(i),this.headers.get(i)))}};var is=class{encodeKey(n){return Ip(n)}encodeValue(n){return Ip(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function lE(t,n){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(s=>{let u=s.indexOf("="),[c,d]=u==-1?[n.decodeKey(s),""]:[n.decodeKey(s.slice(0,u)),n.decodeValue(s.slice(u+1))],h=i.get(c)||[];h.push(d),i.set(c,h)}),i}var dE=/%(\d[a-f0-9])/gi,fE={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ip(t){return encodeURIComponent(t).replace(dE,(n,i)=>fE[i]??n)}function ns(t){return`${t}`}var St=class t{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new is,n.fromString){if(n.fromObject)throw new P(2805,!1);this.map=lE(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(i=>{let r=n.fromObject[i],s=Array.isArray(r)?r.map(ns):[ns(r)];this.map.set(i,s)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let i=this.map.get(n);return i?i[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,i){return this.clone({param:n,value:i,op:"a"})}appendAll(n){let i=[];return Object.keys(n).forEach(r=>{let s=n[r];Array.isArray(s)?s.forEach(u=>{i.push({param:r,value:u,op:"a"})}):i.push({param:r,value:s,op:"a"})}),this.clone(i)}set(n,i){return this.clone({param:n,value:i,op:"s"})}delete(n,i){return this.clone({param:n,value:i,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let i=this.encoder.encodeKey(n);return this.map.get(n).map(r=>i+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(n),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let i=(n.op==="a"?this.map.get(n.param):void 0)||[];i.push(ns(n.value)),this.map.set(n.param,i);break;case"d":if(n.value!==void 0){let r=this.map.get(n.param)||[],s=r.indexOf(ns(n.value));s!==-1&&r.splice(s,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var rs=class{map=new Map;set(n,i){return this.map.set(n,i),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function hE(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Tp(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function bp(t){return typeof Blob<"u"&&t instanceof Blob}function Mp(t){return typeof FormData<"u"&&t instanceof FormData}function pE(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Sp="Content-Type",xp="Accept",Np="X-Request-URL",Lp="text/plain",Ap="application/json",gE=`${Ap}, ${Lp}, */*`,ei=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,i,r,s){this.url=i,this.method=n.toUpperCase();let u;if(hE(this.method)||s?(this.body=r!==void 0?r:null,u=s):u=r,u){if(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,this.keepalive=!!u.keepalive,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params),u.priority&&(this.priority=u.priority),u.cache&&(this.cache=u.cache),u.credentials&&(this.credentials=u.credentials),typeof u.timeout=="number"){if(u.timeout<1||!Number.isInteger(u.timeout))throw new P(2822,"");this.timeout=u.timeout}u.mode&&(this.mode=u.mode),u.redirect&&(this.redirect=u.redirect),u.integrity&&(this.integrity=u.integrity),u.referrer&&(this.referrer=u.referrer),this.transferCache=u.transferCache}if(this.headers??=new Ht,this.context??=new rs,!this.params)this.params=new St,this.urlWithParams=i;else{let c=this.params.toString();if(c.length===0)this.urlWithParams=i;else{let d=i.indexOf("?"),h=d===-1?"?":d<i.length-1?"&":"";this.urlWithParams=i+h+c}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Tp(this.body)||bp(this.body)||Mp(this.body)||pE(this.body)?this.body:this.body instanceof St?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Mp(this.body)?null:bp(this.body)?this.body.type||null:Tp(this.body)?null:typeof this.body=="string"?Lp:this.body instanceof St?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Ap:null}clone(n={}){let i=n.method||this.method,r=n.url||this.url,s=n.responseType||this.responseType,u=n.keepalive??this.keepalive,c=n.priority||this.priority,d=n.cache||this.cache,h=n.mode||this.mode,g=n.redirect||this.redirect,m=n.credentials||this.credentials,_=n.referrer||this.referrer,E=n.integrity||this.integrity,y=n.transferCache??this.transferCache,S=n.timeout??this.timeout,I=n.body!==void 0?n.body:this.body,b=n.withCredentials??this.withCredentials,T=n.reportProgress??this.reportProgress,ie=n.headers||this.headers,ue=n.params||this.params,re=n.context??this.context;return n.setHeaders!==void 0&&(ie=Object.keys(n.setHeaders).reduce((nt,it)=>nt.set(it,n.setHeaders[it]),ie)),n.setParams&&(ue=Object.keys(n.setParams).reduce((nt,it)=>nt.set(it,n.setParams[it]),ue)),new t(i,r,I,{params:ue,headers:ie,context:re,reportProgress:T,responseType:s,withCredentials:b,transferCache:y,keepalive:u,cache:d,priority:c,timeout:S,mode:h,redirect:g,credentials:m,referrer:_,integrity:E})}},In=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(In||{}),ii=class{headers;status;statusText;url;ok;type;redirected;constructor(n,i=200,r="OK"){this.headers=n.headers||new Ht,this.status=n.status!==void 0?n.status:i,this.statusText=n.statusText||r,this.url=n.url||null,this.redirected=n.redirected,this.ok=this.status>=200&&this.status<300}},os=class t extends ii{constructor(n={}){super(n)}type=In.ResponseHeader;clone(n={}){return new t({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},hr=class t extends ii{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=In.Response;clone(n={}){return new t({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected})}},ti=class extends ii{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},mE=200,_E=204;function Dc(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer}}var as=(()=>{class t{handler;constructor(i){this.handler=i}request(i,r,s={}){let u;if(i instanceof ei)u=i;else{let h;s.headers instanceof Ht?h=s.headers:h=new Ht(s.headers);let g;s.params&&(s.params instanceof St?g=s.params:g=new St({fromObject:s.params})),u=new ei(i,r,s.body!==void 0?s.body:null,{headers:h,context:s.context,params:g,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache,keepalive:s.keepalive,priority:s.priority,cache:s.cache,mode:s.mode,redirect:s.redirect,credentials:s.credentials,referrer:s.referrer,integrity:s.integrity,timeout:s.timeout})}let c=eo(u).pipe(fa(h=>this.handler.handle(h)));if(i instanceof ei||s.observe==="events")return c;let d=c.pipe(da(h=>h instanceof hr));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return d.pipe(lt(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new P(2806,!1);return h.body}));case"blob":return d.pipe(lt(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new P(2807,!1);return h.body}));case"text":return d.pipe(lt(h=>{if(h.body!==null&&typeof h.body!="string")throw new P(2808,!1);return h.body}));case"json":default:return d.pipe(lt(h=>h.body))}case"response":return d;default:throw new P(2809,!1)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new St().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,Dc(s,r))}post(i,r,s={}){return this.request("POST",i,Dc(s,r))}put(i,r,s={}){return this.request("PUT",i,Dc(s,r))}static \u0275fac=function(r){return new(r||t)(z(ni))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})();var vE=new R("");function yE(t,n){return n(t)}function DE(t,n,i){return(r,s)=>Hn(i,()=>n(r,u=>t(u,s)))}var Pp=new R(""),Op=new R(""),Rp=new R("",{providedIn:"root",factory:()=>!0});var ss=(()=>{class t extends ni{backend;injector;chain=null;pendingTasks=N(Co);contributeToStability=N(Rp);constructor(i,r){super(),this.backend=i,this.injector=r}handle(i){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Pp),...this.injector.get(Op,[])]));this.chain=r.reduceRight((s,u)=>DE(s,u,this.injector),yE)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(ha(r))}else return this.chain(i,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(z(fr),z(xe))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})();var EE=/^\)\]\}',?\n/,wE=RegExp(`^${Np}:`,"m");function CE(t){return"responseURL"in t&&t.responseURL?t.responseURL:wE.test(t.getAllResponseHeaders())?t.getResponseHeader(Np):null}var Ec=(()=>{class t{xhrFactory;constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new P(-2800,!1);let r=this.xhrFactory;return eo(null).pipe(pa(()=>new ae(u=>{let c=r.build();if(c.open(i.method,i.urlWithParams),i.withCredentials&&(c.withCredentials=!0),i.headers.forEach((b,T)=>c.setRequestHeader(b,T.join(","))),i.headers.has(xp)||c.setRequestHeader(xp,gE),!i.headers.has(Sp)){let b=i.detectContentTypeHeader();b!==null&&c.setRequestHeader(Sp,b)}if(i.timeout&&(c.timeout=i.timeout),i.responseType){let b=i.responseType.toLowerCase();c.responseType=b!=="json"?b:"text"}let d=i.serializeBody(),h=null,g=()=>{if(h!==null)return h;let b=c.statusText||"OK",T=new Ht(c.getAllResponseHeaders()),ie=CE(c)||i.url;return h=new os({headers:T,status:c.status,statusText:b,url:ie}),h},m=()=>{let{headers:b,status:T,statusText:ie,url:ue}=g(),re=null;T!==_E&&(re=typeof c.response>"u"?c.responseText:c.response),T===0&&(T=re?mE:0);let nt=T>=200&&T<300;if(i.responseType==="json"&&typeof re=="string"){let it=re;re=re.replace(EE,"");try{re=re!==""?JSON.parse(re):null}catch(oi){re=it,nt&&(nt=!1,re={error:oi,text:re})}}nt?(u.next(new hr({body:re,headers:b,status:T,statusText:ie,url:ue||void 0})),u.complete()):u.error(new ti({error:re,headers:b,status:T,statusText:ie,url:ue||void 0}))},_=b=>{let{url:T}=g(),ie=new ti({error:b,status:c.status||0,statusText:c.statusText||"Unknown Error",url:T||void 0});u.error(ie)},E=_;i.timeout&&(E=b=>{let{url:T}=g(),ie=new ti({error:new DOMException("Request timed out","TimeoutError"),status:c.status||0,statusText:c.statusText||"Request timeout",url:T||void 0});u.error(ie)});let y=!1,S=b=>{y||(u.next(g()),y=!0);let T={type:In.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(T.total=b.total),i.responseType==="text"&&c.responseText&&(T.partialText=c.responseText),u.next(T)},I=b=>{let T={type:In.UploadProgress,loaded:b.loaded};b.lengthComputable&&(T.total=b.total),u.next(T)};return c.addEventListener("load",m),c.addEventListener("error",_),c.addEventListener("timeout",E),c.addEventListener("abort",_),i.reportProgress&&(c.addEventListener("progress",S),d!==null&&c.upload&&c.upload.addEventListener("progress",I)),c.send(d),u.next({type:In.Sent}),()=>{c.removeEventListener("error",_),c.removeEventListener("abort",_),c.removeEventListener("load",m),c.removeEventListener("timeout",E),i.reportProgress&&(c.removeEventListener("progress",S),d!==null&&c.upload&&c.upload.removeEventListener("progress",I)),c.readyState!==c.DONE&&c.abort()}})))}static \u0275fac=function(r){return new(r||t)(z(Cn))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),kp=new R(""),IE="XSRF-TOKEN",TE=new R("",{providedIn:"root",factory:()=>IE}),bE="X-XSRF-TOKEN",ME=new R("",{providedIn:"root",factory:()=>bE}),pr=class{},SE=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(i,r){this.doc=i,this.cookieName=r}getToken(){let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=ar(i,this.cookieName),this.lastCookieString=i),this.lastToken}static \u0275fac=function(r){return new(r||t)(z(Le),z(TE))};static \u0275prov=Y({token:t,factory:t.\u0275fac})}return t})(),xE=/^(?:https?:)?\/\//i;function NE(t,n){if(!N(kp)||t.method==="GET"||t.method==="HEAD"||xE.test(t.url))return n(t);let i=N(pr).getToken(),r=N(ME);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),n(t)}function wc(...t){let n=[as,Ec,ss,{provide:ni,useExisting:ss},{provide:fr,useFactory:()=>N(vE,{optional:!0})??N(Ec)},{provide:Pp,useValue:NE,multi:!0},{provide:kp,useValue:!0},{provide:pr,useClass:SE}];for(let i of t)n.push(...i.\u0275providers);return sn(n)}var Fp={providers:[nu(),nc({eventCoalescing:!0}),wc()]};var ri=Ws(Cc(),1),_e=class{static mapToArray(n){let i=[];for(let r in n)n.hasOwnProperty(r)&&i.push(n[r]);return i}static handleEvent(n,i,r){0<i.observers.length&&n.run(()=>{i.emit(r)})}},Tc=(()=>{let n=class n{constructor(r,s){this.element=r,this.zone=s,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,ri.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new ee,this.zoomChange=new ee,this.centerChange=new ee,this.onClick=new ee,this.onDoubleClick=new ee,this.onMouseDown=new ee,this.onMouseUp=new ee,this.onMouseMove=new ee,this.onMouseOver=new ee,this.onMouseOut=new ee,this.onMapMove=new ee,this.onMapMoveStart=new ee,this.onMapMoveEnd=new ee,this.onMapZoom=new ee,this.onMapZoomStart=new ee,this.onMapZoomEnd=new ee}ngOnInit(){this.zone.runOutsideAngular(()=>{this.map=(0,ri.map)(this.element.nativeElement,this.options),this.addMapEventListeners()}),this.center!=null&&this.zoom!=null&&this.setView(this.center,this.zoom),this.fitBounds!=null&&this.setFitBounds(this.fitBounds),this.maxBounds!=null&&this.setMaxBounds(this.maxBounds),this.minZoom!=null&&this.setMinZoom(this.minZoom),this.maxZoom!=null&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)}ngOnChanges(r){r.zoom&&r.center&&this.zoom!=null&&this.center!=null?this.setView(r.center.currentValue,r.zoom.currentValue):r.zoom?this.setZoom(r.zoom.currentValue):r.center&&this.setCenter(r.center.currentValue),r.fitBounds&&this.setFitBounds(r.fitBounds.currentValue),r.maxBounds&&this.setMaxBounds(r.maxBounds.currentValue),r.minZoom&&this.setMinZoom(r.minZoom.currentValue),r.maxZoom&&this.setMaxZoom(r.maxZoom.currentValue)}ngOnDestroy(){this.map!=null&&this.map.remove()}getMap(){return this.map}onResize(){this.delayResize()}addMapEventListeners(){let r=(u,c)=>{this.map.on(u,c)};r("click",u=>_e.handleEvent(this.zone,this.onClick,u)),r("dblclick",u=>_e.handleEvent(this.zone,this.onDoubleClick,u)),r("mousedown",u=>_e.handleEvent(this.zone,this.onMouseDown,u)),r("mouseup",u=>_e.handleEvent(this.zone,this.onMouseUp,u)),r("mouseover",u=>_e.handleEvent(this.zone,this.onMouseOver,u)),r("mouseout",u=>_e.handleEvent(this.zone,this.onMouseOut,u)),r("mousemove",u=>_e.handleEvent(this.zone,this.onMouseMove,u)),r("zoomstart",u=>_e.handleEvent(this.zone,this.onMapZoomStart,u)),r("zoom",u=>_e.handleEvent(this.zone,this.onMapZoom,u)),r("zoomend",u=>_e.handleEvent(this.zone,this.onMapZoomEnd,u)),r("movestart",u=>_e.handleEvent(this.zone,this.onMapMoveStart,u)),r("move",u=>_e.handleEvent(this.zone,this.onMapMove,u)),r("moveend",u=>_e.handleEvent(this.zone,this.onMapMoveEnd,u));let s=()=>{let u=this.map.getZoom();u!==this.zoom&&(this.zoom=u,_e.handleEvent(this.zone,this.zoomChange,u));let c=this.map.getCenter();(c!=null||this.center!=null)&&((c==null||this.center==null)&&c!==this.center||c.lat!==this.center.lat||c.lng!==this.center.lng)&&(this.center=c,_e.handleEvent(this.zone,this.centerChange,c))};r("moveend",s),r("zoomend",s)}doResize(){this.zone.runOutsideAngular(()=>{this.map!=null&&this.map.invalidateSize({})})}delayResize(){this.resizeTimer!=null&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)}setView(r,s){this.map!=null&&r!=null&&s!=null&&this.map.setView(r,s,this.zoomPanOptions)}setZoom(r){this.map!=null&&r!=null&&this.map.setZoom(r,this.zoomOptions)}setCenter(r){this.map!=null&&r!=null&&this.map.panTo(r,this.panOptions)}setFitBounds(r){this.map!=null&&r!=null&&this.map.fitBounds(r,this.fitBoundsOptions)}setMaxBounds(r){this.map!=null&&r!=null&&this.map.setMaxBounds(r)}setMinZoom(r){this.map!=null&&r!=null&&this.map.setMinZoom(r)}setMaxZoom(r){this.map!=null&&r!=null&&this.map.setMaxZoom(r)}};n.\u0275fac=function(s){return new(s||n)(ve(qi),ve(oe))},n.\u0275dir=yn({type:n,selectors:[["","leaflet",""]],hostBindings:function(s,u){s&1&&En("resize",function(){return u.onResize()},Lu)},inputs:{fitBoundsOptions:[0,"leafletFitBoundsOptions","fitBoundsOptions"],panOptions:[0,"leafletPanOptions","panOptions"],zoomOptions:[0,"leafletZoomOptions","zoomOptions"],zoomPanOptions:[0,"leafletZoomPanOptions","zoomPanOptions"],options:[0,"leafletOptions","options"],zoom:[0,"leafletZoom","zoom"],center:[0,"leafletCenter","center"],fitBounds:[0,"leafletFitBounds","fitBounds"],maxBounds:[0,"leafletMaxBounds","maxBounds"],minZoom:[0,"leafletMinZoom","minZoom"],maxZoom:[0,"leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[Ro]});let t=n;return t})(),Ic=class{constructor(n){this.leafletDirective=n}init(){}getMap(){return this.leafletDirective.getMap()}};var jp=(()=>{let n=class n{set layers(r){this.layersValue=r,this.updateLayers()}get layers(){return this.layersValue}constructor(r,s,u){this.differs=s,this.zone=u,this.leafletDirective=new Ic(r),this.layersDiffer=this.differs.find([]).create()}ngDoCheck(){this.updateLayers()}ngOnInit(){this.leafletDirective.init(),this.updateLayers()}ngOnDestroy(){this.layers=[]}updateLayers(){let r=this.leafletDirective.getMap();if(r!=null&&this.layersDiffer!=null){let s=this.layersDiffer.diff(this.layersValue);s!=null&&this.zone.runOutsideAngular(()=>{s.forEachRemovedItem(u=>{r.removeLayer(u.item)}),s.forEachAddedItem(u=>{r.addLayer(u.item)})})}}};n.\u0275fac=function(s){return new(s||n)(ve(Tc),ve(rr),ve(oe))},n.\u0275dir=yn({type:n,selectors:[["","leafletLayers",""]],inputs:{layers:[0,"leafletLayers","layers"]}});let t=n;return t})();var Vp=(()=>{let n=class n{};n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=vn({type:n}),n.\u0275inj=Ot({});let t=n;return t})();var we=Ws(Cc()),uk=Ws(zp());var ls=class t{constructor(n){this.http=n}locationsUrl="assets/all_locations.json";geoJsonUrl="assets/tunisia-governorates.json";getLocations(){return this.http.get(this.locationsUrl)}getGovernorates(){return this.http.get(this.geoJsonUrl)}static \u0275fac=function(i){return new(i||t)(z(as))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})};function OE(t,n){if(t&1&&(Mt(0,"option",7),Xn(1),mt()),t&2){let i=n.$implicit;Dn("value",i),_n(),nr(" ",i," ")}}function RE(t,n){if(t&1&&(Mt(0,"div",8),Xn(1),mt()),t&2){let i=ec();_n(),nr(" ",i.layers.length," r\xE9sultats affich\xE9s ")}}var ds=class t{constructor(n){this.mapDataService=n}allLocations=[];categories=[];selectedCategory="";options={layers:[we.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"&copy; OpenStreetMap contributors"})],zoom:7,center:we.latLng(34,9)};markerClusterGroup;geoJsonLayer;layers=[];ngOnInit(){console.log("\u{1F680} Initialisation..."),this.mapDataService.getLocations().subscribe({next:n=>{console.log(`\u{1F4E6} Donn\xE9es re\xE7ues : ${n.length} lieux.`),this.allLocations=n;let i=new Set;n.forEach(r=>{r.categorie&&r.categorie.trim()!==""&&i.add(r.categorie)}),this.categories=Array.from(i).sort(),console.log("\u{1F4CB} Cat\xE9gories extraites :",this.categories),this.categories.length===0&&alert("Aucune cat\xE9gorie trouv\xE9e dans le fichier JSON ! V\xE9rifiez la colonne 'categorie'.")},error:n=>{console.error("\u274C Erreur chargement JSON lieux:",n),alert("Erreur de lecture du fichier all_locations.json")}}),this.mapDataService.getGovernorates().subscribe({next:n=>this.initGeoJsonLayer(n),error:n=>console.warn("\u26A0\uFE0F Impossible de charger les fronti\xE8res (ceci n'est pas bloquant).",n)})}initGeoJsonLayer(n){this.geoJsonLayer=we.geoJSON(n,{style:i=>({color:"#000000",weight:2,opacity:1,fillColor:"#FF1493",fillOpacity:.1}),onEachFeature:(i,r)=>{r.on("click",s=>this.showGovernorateStats(s,i)),r.on("mouseover",s=>{s.target.setStyle({weight:4,fillOpacity:.3})}),r.on("mouseout",s=>{let u=s.target;this.geoJsonLayer?.resetStyle(u)})}}),this.layers.push(this.geoJsonLayer)}showGovernorateStats(n,i){let r=i.properties.name_fr||i.properties.name_ar||"Zone",s=this.allLocations.filter(d=>this.isPointInLayer(d,n.target)),u={};s.forEach(d=>u[d.categorie]=(u[d.categorie]||0)+1);let c="";for(let[d,h]of Object.entries(u))c+=`<li><b>${d}:</b> ${h}</li>`;s.length===0&&(c="<li>Aucun lieu trouv\xE9 ici</li>"),we.popup().setLatLng(n.latlng).setContent(`
        <div>
          <h3 style="color:#000; margin:0 0 10px 0;">${r}</h3>
          <p>Total : ${s.length}</p>
          <ul style="padding-left:20px; font-size:13px;">${c}</ul>
        </div>
      `).openOn(n.target._map)}isPointInLayer(n,i){let r=we.latLng(n.lat,n.lng);return i.getBounds&&i.getBounds().contains(r)}onCategoryChange(n){let i=n.target;this.selectedCategory=i.value,this.updateMarkers()}updateMarkers(){if(this.markerClusterGroup){let r=this.layers.indexOf(this.markerClusterGroup);r>-1&&this.layers.splice(r,1),this.markerClusterGroup.clearLayers()}if(!this.selectedCategory)return;let n=this.allLocations.filter(r=>r.categorie===this.selectedCategory);this.markerClusterGroup=we.markerClusterGroup({maxClusterRadius:80,disableClusteringAtZoom:11,animate:!0,showCoverageOnHover:!0,polygonOptions:{color:"#FF1493",weight:3,opacity:.8,fillColor:"#FF1493",fillOpacity:.1}});let i=n.map(r=>we.marker([r.lat,r.lng],{icon:we.icon({iconSize:[25,41],iconAnchor:[13,41],iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png"}),title:r.nom}).bindPopup(`<b>${r.nom}</b><br>${r.categorie}`));this.markerClusterGroup.addLayers(i),this.layers=[...this.layers,this.markerClusterGroup]}onMapReady(n){}static \u0275fac=function(i){return new(i||t)(ve(ls))};static \u0275cmp=Ku({type:t,selectors:[["app-root"]],decls:10,vars:4,consts:[[1,"map-wrapper"],[1,"filter-controls"],[1,"category-select",3,"change"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","count-badge",4,"ngIf"],["leaflet","",1,"map-container",3,"leafletMapReady","leafletOptions","leafletLayers"],[3,"value"],[1,"count-badge"]],template:function(i,r){i&1&&(Mt(0,"div",0)(1,"div",1)(2,"label"),Xn(3,"Choisissez une cat\xE9gorie :"),mt(),Mt(4,"select",2),En("change",function(u){return r.onCategoryChange(u)}),Mt(5,"option",3),Xn(6,"-- Cliquez pour choisir --"),mt(),Xi(7,OE,2,2,"option",4),mt(),Xi(8,RE,2,1,"div",5),mt(),Mt(9,"div",6),En("leafletMapReady",function(u){return r.onMapReady(u)}),mt()()),i&2&&(_n(7),Dn("ngForOf",r.categories),_n(),Dn("ngIf",r.layers.length>0),_n(),Dn("leafletOptions",r.options)("leafletLayers",r.layers))},dependencies:[Qo,Ko,lc,Vp,Tc,jp],styles:[".map-wrapper[_ngcontent-%COMP%]{position:relative;height:100vh;width:100%}.map-container[_ngcontent-%COMP%]{height:100%;width:100%;z-index:1}.filter-controls[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;z-index:1000;background-color:#ffffffe6;padding:15px;border-radius:8px;box-shadow:0 4px 6px #0003;display:flex;flex-direction:column;gap:8px;min-width:200px;font-family:Arial,sans-serif}.filter-controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#333}.category-select[_ngcontent-%COMP%]{padding:8px;border:1px solid #ccc;border-radius:4px;font-size:14px;cursor:pointer}.count-badge[_ngcontent-%COMP%]{text-align:right;font-size:.8rem;color:#666;margin-top:5px}"]})};yc(ds,Fp).catch(t=>console.error(t));
